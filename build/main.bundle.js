!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";n.r(e),n.d(e,"h",function(){return u}),n.d(e,"createElement",function(){return u}),n.d(e,"cloneElement",function(){return l}),n.d(e,"Component",function(){return D}),n.d(e,"render",function(){return I}),n.d(e,"rerender",function(){return d}),n.d(e,"options",function(){return o});var r=function(){},o={},i=[],a=[];function u(t,e){var n,u,s,c,l=a;for(c=arguments.length;c-- >2;)i.push(arguments[c]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((u=i.pop())&&void 0!==u.pop)for(c=u.length;c--;)i.push(u[c]);else"boolean"==typeof u&&(u=null),(s="function"!=typeof t)&&(null==u?u="":"number"==typeof u?u=String(u):"string"!=typeof u&&(s=!1)),s&&n?l[l.length-1]+=u:l===a?l=[u]:l.push(u),n=s;var f=new r;return f.nodeName=t,f.children=l,f.attributes=null==e?void 0:e,f.key=null==e?void 0:e.key,void 0!==o.vnode&&o.vnode(f),f}function s(t,e){for(var n in e)t[n]=e[n];return t}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(t,e){return u(t.nodeName,s(s({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function h(t){!t._dirty&&(t._dirty=!0)&&1==p.push(t)&&(o.debounceRendering||c)(d)}function d(){var t,e=p;for(p=[];t=e.pop();)t._dirty&&N(t)}function v(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&y(t,e.nodeName):n||t._componentConstructor===e.nodeName}function y(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function b(t){var e=s({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===f.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,_,a):t.removeEventListener(e,_,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var u=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function _(t){return this._listeners[t.type](o.event&&o.event(t)||t)}var w=[],O=0,S=!1,A=!1;function x(){for(var t;t=w.pop();)o.afterMount&&o.afterMount(t),t.componentDidMount&&t.componentDidMount()}function C(t,e,n,r,o,i){O++||(S=null!=o&&void 0!==o.ownerSVGElement,A=null!=t&&!("__preactattr_"in t));var a=E(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--O||(A=!1,i||x()),a}function E(t,e,n,r,o){var i=t,a=S;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),j(t,!0))),i.__preactattr_=!0,i;var u=e.nodeName;if("function"==typeof u)return function(t,e,n,r){var o=t&&t._component,i=o,a=t,u=o&&t._componentConstructor===e.nodeName,s=u,c=b(e);for(;o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;o&&s&&(!r||o._component)?(R(o,c,3,n,r),t=o.base):(i&&!u&&(M(i),t=a=null),o=L(e.nodeName,c,n),t&&!o.nextBase&&(o.nextBase=t,a=null),R(o,c,1,n,r),t=o.base,a&&t!==a&&(a._component=null,j(a,!1)));return t}(t,e,n,r);if(S="svg"===u||"foreignObject"!==u&&S,u=String(u),(!t||!y(t,u))&&(i=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(u,S),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),j(t,!0)}var s=i.firstChild,c=i.__preactattr_,l=e.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,p=f.length;p--;)c[f[p].name]=f[p].value}return!A&&l&&1===l.length&&"string"==typeof l[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=l[0]&&(s.nodeValue=l[0]):(l&&l.length||null!=s)&&function(t,e,n,r,o){var i,a,u,s,c,l=t.childNodes,f=[],p={},h=0,d=0,y=l.length,b=0,m=e?e.length:0;if(0!==y)for(var _=0;_<y;_++){var w=l[_],O=w.__preactattr_,S=m&&O?w._component?w._component.__key:O.key:null;null!=S?(h++,p[S]=w):(O||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(f[b++]=w)}if(0!==m)for(var _=0;_<m;_++){s=e[_],c=null;var S=s.key;if(null!=S)h&&void 0!==p[S]&&(c=p[S],p[S]=void 0,h--);else if(d<b)for(i=d;i<b;i++)if(void 0!==f[i]&&v(a=f[i],s,o)){c=a,f[i]=void 0,i===b-1&&b--,i===d&&d++;break}c=E(c,s,n,r),u=l[_],c&&c!==t&&c!==u&&(null==u?t.appendChild(c):c===u.nextSibling?g(u):t.insertBefore(c,u))}if(h)for(var _ in p)void 0!==p[_]&&j(p[_],!1);for(;d<=b;)void 0!==(c=f[b--])&&j(c,!1)}(i,l,n,r,A||null!=c.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||m(t,r,n[r],n[r]=void 0,S);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||m(t,r,n[r],n[r]=e[r],S)}(i,e.attributes,c),S=a,i}function j(t,e){var n=t._component;n?M(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||g(t),P(t))}function P(t){for(t=t.lastChild;t;){var e=t.previousSibling;j(t,!0),t=e}}var T=[];function L(t,e,n){var r,o=T.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),D.call(r,e,n)):((r=new D(e,n)).constructor=t,r.render=k);o--;)if(T[o].constructor===t)return r.nextBase=T[o].nextBase,T.splice(o,1),r;return r}function k(t,e,n){return this.constructor(t,n)}function R(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&t.base?h(t):N(t,1,i)),t.__ref&&t.__ref(t))}function N(t,e,n,r){if(!t._disable){var i,a,u,c=t.props,l=t.state,f=t.context,p=t.prevProps||c,h=t.prevState||l,d=t.prevContext||f,v=t.base,y=t.nextBase,g=v||y,m=t._component,_=!1,S=d;if(t.constructor.getDerivedStateFromProps&&(l=s(s({},l),t.constructor.getDerivedStateFromProps(c,l)),t.state=l),v&&(t.props=p,t.state=h,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,f)?_=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,f),t.props=c,t.state=l,t.context=f),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!_){i=t.render(c,l,f),t.getChildContext&&(f=s(s({},f),t.getChildContext())),v&&t.getSnapshotBeforeUpdate&&(S=t.getSnapshotBeforeUpdate(p,h));var A,E,P=i&&i.nodeName;if("function"==typeof P){var T=b(i);(a=m)&&a.constructor===P&&T.key==a.__key?R(a,T,1,f,!1):(A=a,t._component=a=L(P,T,f),a.nextBase=a.nextBase||y,a._parentComponent=t,R(a,T,0,f,!1),N(a,1,n,!0)),E=a.base}else u=g,(A=m)&&(u=t._component=null),(g||1===e)&&(u&&(u._component=null),E=C(u,i,f,n||!v,g&&g.parentNode,!0));if(g&&E!==g&&a!==m){var k=g.parentNode;k&&E!==k&&(k.replaceChild(E,g),A||(g._component=null,j(g,!1)))}if(A&&M(A),t.base=E,E&&!r){for(var D=t,I=t;I=I._parentComponent;)(D=I).base=E;E._component=D,E._componentConstructor=D.constructor}}for(!v||n?w.unshift(t):_||(t.componentDidUpdate&&t.componentDidUpdate(p,h,S),o.afterUpdate&&o.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);O||r||x()}}function M(t){o.beforeUnmount&&o.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?M(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,g(e),T.push(t),P(e)),t.__ref&&t.__ref(null)}function D(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function I(t,e,n){return C(n,t,{},!1,e,!1)}s(D.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=s(s({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),h(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),N(this,2)},render:function(){}});var U={h:u,createElement:u,cloneElement:l,Component:D,render:I,rerender:d,options:o};e.default=U},function(t,e,n){"use strict";n.r(e),function(t,r){n.d(e,"Reaction",function(){return Dt}),n.d(e,"untracked",function(){return bt}),n.d(e,"IDerivationState",function(){return ot}),n.d(e,"createAtom",function(){return E}),n.d(e,"spy",function(){return Kt}),n.d(e,"comparer",function(){return j}),n.d(e,"isObservableObject",function(){return dn}),n.d(e,"isBoxedObservable",function(){return ut}),n.d(e,"isObservableArray",function(){return Ze}),n.d(e,"ObservableMap",function(){return tn}),n.d(e,"isObservableMap",function(){return rn}),n.d(e,"ObservableSet",function(){return an}),n.d(e,"isObservableSet",function(){return un}),n.d(e,"transaction",function(){return De}),n.d(e,"observable",function(){return q}),n.d(e,"computed",function(){return $}),n.d(e,"isObservable",function(){return Oe}),n.d(e,"isObservableProp",function(){return Se}),n.d(e,"isComputed",function(){return me}),n.d(e,"isComputedProp",function(){return _e}),n.d(e,"extendObservable",function(){return ae}),n.d(e,"observe",function(){return Le}),n.d(e,"intercept",function(){return be}),n.d(e,"autorun",function(){return Xt}),n.d(e,"reaction",function(){return te}),n.d(e,"when",function(){return Ie}),n.d(e,"action",function(){return Yt}),n.d(e,"isAction",function(){return Ft}),n.d(e,"runInAction",function(){return Jt}),n.d(e,"keys",function(){return Ae}),n.d(e,"values",function(){return xe}),n.d(e,"entries",function(){return Ce}),n.d(e,"set",function(){return Ee}),n.d(e,"remove",function(){return je}),n.d(e,"has",function(){return Pe}),n.d(e,"get",function(){return Te}),n.d(e,"decorate",function(){return ie}),n.d(e,"configure",function(){return oe}),n.d(e,"onBecomeObserved",function(){return ee}),n.d(e,"onBecomeUnobserved",function(){return ne}),n.d(e,"flow",function(){return de}),n.d(e,"toJS",function(){return Ne}),n.d(e,"trace",function(){return Me}),n.d(e,"getDependencyTree",function(){return ce}),n.d(e,"getObserverTree",function(){return fe}),n.d(e,"_resetGlobalState",function(){return Et}),n.d(e,"_getGlobalState",function(){return Ct}),n.d(e,"getDebugName",function(){return bn}),n.d(e,"getAtom",function(){return vn}),n.d(e,"_getAdministration",function(){return yn}),n.d(e,"_allowStateChanges",function(){return tt}),n.d(e,"_allowStateChangesInsideComputed",function(){return rt}),n.d(e,"isArrayLike",function(){return _}),n.d(e,"$mobx",function(){return A}),n.d(e,"_isComputingDerivation",function(){return ht}),n.d(e,"onReactionError",function(){return It}),n.d(e,"_interceptReads",function(){return ye});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s="An invariant failed, however the error is obfuscated because this is an production build.",c=[];Object.freeze(c);var l={};function f(){return++xt.mobxGuid}function p(t){throw h(!1,t),"X"}function h(t,e){if(!t)throw new Error("[mobx] "+(e||s))}Object.freeze(l);function d(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var v=function(){};function y(t){return null!==t&&"object"==typeof t}function b(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function g(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function m(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return y(t)&&!0===t[n]}}function _(t){return Array.isArray(t)||Ze(t)}function w(t){return t instanceof Map}function O(t){return t instanceof Set}function S(t){return null===t?null:"object"==typeof t?""+t:t}var A=Symbol("mobx administration"),x=function(){function t(t){void 0===t&&(t="Atom@"+f()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ot.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.reportObserved=function(){return Nt(this)},t.prototype.reportChanged=function(){kt(),function(t){if(t.lowestObserverState===ot.STALE)return;t.lowestObserverState=ot.STALE,t.observers.forEach(function(e){e.dependenciesState===ot.UP_TO_DATE&&(e.isTracing!==it.NONE&&Mt(e,t),e.onBecomeStale()),e.dependenciesState=ot.STALE})}(this),Rt()},t.prototype.toString=function(){return this.name},t}(),C=m("Atom",x);function E(t,e,n){void 0===e&&(e=v),void 0===n&&(n=v);var r=new x(t);return e!==v&&ee(r,e),n!==v&&ne(r,n),r}var j={identity:function(t,e){return t===e},structural:function(t,e){return mn(t,e)},default:function(t,e){return Object.is(t,e)}},P=Symbol("mobx did run lazy initializers"),T=Symbol("mobx pending decorators"),L={},k={};function R(t){if(!0!==t[P]){var e=t[T];if(e)for(var n in g(t,P,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function N(t,e){return function(){var n,r=function(r,o,a,u){if(!0===u)return e(r,o,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,T)){var s=r[T];g(r,T,i({},s))}return r[T][o]={prop:o,propertyCreator:e,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(t,e){var n=e?L:k;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return R(this),this[t]},set:function(e){R(this),this[t]=e}})}(o,t)};return function(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}(arguments)?(n=c,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function M(t,e,n){return Oe(t)?t:Array.isArray(t)?q.array(t,{name:n}):b(t)?q.object(t,void 0,{name:n}):w(t)?q.map(t,{name:n}):O(t)?q.set(t,{name:n}):t}function D(t){return t}function I(e){h(e);var n=N(!0,function(t,n,r,o,i){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;cn(t).addObservableProp(n,a,e)}),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var U={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function B(t){return null===t||void 0===t?U:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(U);var V=I(M),G=I(function(t,e,n){return void 0===t||null===t?t:dn(t)||Ze(t)||rn(t)||un(t)?t:Array.isArray(t)?q.array(t,{name:n,deep:!1}):b(t)?q.object(t,void 0,{name:n,deep:!1}):w(t)?q.map(t,{name:n,deep:!1}):O(t)?q.set(t,{name:n,deep:!1}):p(!1)}),z=I(D),H=I(function(t,e,n){return mn(t,e)?e:t});function K(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?D:M}var W={box:function(t,e){arguments.length>2&&Y("box");var n=B(e);return new at(t,K(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Y("array");var n=B(e);return function(t,e,n,r){void 0===n&&(n="ObservableArray@"+f());void 0===r&&(r=!1);var o=new Je(n,e,r);!function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}(o.values,A,o);var i=new Proxy(o.values,Ye);if(o.proxy=i,t&&t.length){var a=et(!0);o.spliceWithArray(0,0,t),nt(a)}return i}(t,K(n),n.name)},map:function(t,e){arguments.length>2&&Y("map");var n=B(e);return new tn(t,K(n),n.name)},set:function(t,e){arguments.length>2&&Y("set");var n=B(e);return new an(t,K(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&Y("object");var r=B(n);if(!1===r.proxy)return ae({},t,e,r);var o=ue(r),i=function(t){var e=new Proxy(t,Ve);return t[A].proxy=e,e}(ae({},void 0,void 0,r));return se(i,t,e,o),i},ref:z,shallow:G,deep:V,struct:H},q=function(t,e,n){if("string"==typeof arguments[1])return V.apply(null,arguments);if(Oe(t))return t;var r=b(t)?q.object(t,e,n):Array.isArray(t)?q.array(t,e):w(t)?q.map(t,e):O(t)?q.set(t,e):t;if(r!==t)return r;p(!1)};function Y(t){p("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(W).forEach(function(t){return q[t]=W[t]});var J=N(!1,function(t,e,n,r,o){var a=n.get,u=n.set,s=o[0]||{};cn(t).addComputedProp(t,e,i({get:a,set:u,context:t},s))}),F=J({equals:j.structural}),$=function(t,e,n){if("string"==typeof e)return J.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return J.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new st(r)};function X(t,e,n){var r=function(){return Z(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function Z(t,e,n,r){var o=function(t,e,n,r){var o=!1,i=0;var a=gt();kt();var u=et(!0);return{prevDerivation:a,prevAllowStateChanges:u,notifySpy:o,startTime:i}}(),i=!0;try{var a=e.apply(n,r);return i=!1,a}finally{i?(xt.suppressReactionErrors=i,Q(o),xt.suppressReactionErrors=!1):Q(o)}}function Q(t){nt(t.prevAllowStateChanges),Rt(),mt(t.prevDerivation),t.notifySpy}function tt(t,e){var n,r=et(t);try{n=e()}finally{nt(r)}return n}function et(t){var e=xt.allowStateChanges;return xt.allowStateChanges=t,e}function nt(t){xt.allowStateChanges=t}function rt(t){var e,n=xt.computationDepth;xt.computationDepth=0;try{e=t()}finally{xt.computationDepth=n}return e}$.struct=F;var ot,it,at=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+f()),void 0===o&&(o=!0),void 0===i&&(i=j.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==xt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(dt(this),Ge(this)){var e=He(this,{object:this,type:"update",newValue:t});if(!e)return xt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?xt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Ke(this)&&qe(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return ze(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),We(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return S(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(x),ut=m("ObservableValue",at),st=function(){function t(t){this.dependenciesState=ot.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ot.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new lt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=it.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+f(),t.set&&(this.setter=X(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?j.structural:j.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==ot.UP_TO_DATE)return;t.lowestObserverState=ot.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===ot.UP_TO_DATE&&(e.dependenciesState=ot.POSSIBLY_STALE,e.isTracing!==it.NONE&&Mt(e,t),e.onBecomeStale())})}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.get=function(){this.isComputing&&p("Cycle detected in computation "+this.name+": "+this.derivation),0!==xt.inBatch||0!==this.observers.size||this.keepAlive?(Nt(this),pt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===ot.STALE)return;t.lowestObserverState=ot.STALE,t.observers.forEach(function(e){e.dependenciesState===ot.POSSIBLY_STALE?e.dependenciesState=ot.STALE:e.dependenciesState===ot.UP_TO_DATE&&(t.lowestObserverState=ot.UP_TO_DATE)})}(this)):pt(this)&&(this.warnAboutUntrackedRead(),kt(),this.value=this.computeValue(!1),Rt());var t=this.value;if(ft(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ft(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){h(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else h(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===ot.NOT_TRACKING,n=this.computeValue(!0),r=e||ft(t)||ft(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,xt.computationDepth++,t)e=vt(this,this.derivation,this.scope);else if(!0===xt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new lt(t)}return xt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(yt(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return Xt(function(){var i=n.get();if(!r||e){var a=gt();t({type:"update",object:n,newValue:i,oldValue:o}),mt(a)}r=!1,o=i})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return S(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),ct=m("ComputedValue",st);!function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(ot||(ot={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(it||(it={}));var lt=function(){return function(t){this.cause=t}}();function ft(t){return t instanceof lt}function pt(t){switch(t.dependenciesState){case ot.UP_TO_DATE:return!1;case ot.NOT_TRACKING:case ot.STALE:return!0;case ot.POSSIBLY_STALE:for(var e=gt(),n=t.observing,r=n.length,o=0;o<r;o++){var i=n[o];if(ct(i)){if(xt.disableErrorBoundaries)i.get();else try{i.get()}catch(t){return mt(e),!0}if(t.dependenciesState===ot.STALE)return mt(e),!0}}return _t(t),mt(e),!1}}function ht(){return null!==xt.trackingDerivation}function dt(t){var e=t.observers.size>0;xt.computationDepth>0&&e&&p(!1),xt.allowStateChanges||!e&&"strict"!==xt.enforceActions||p(!1)}function vt(t,e,n){_t(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++xt.runId;var r,o=xt.trackingDerivation;if(xt.trackingDerivation=t,!0===xt.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new lt(t)}return xt.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=ot.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++){var u=n[a];0===u.diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState)}n.length=o,t.newObserving=null,i=e.length;for(;i--;){var u=e[i];0===u.diffValue&&Tt(u,t),u.diffValue=0}for(;o--;){var u=n[o];1===u.diffValue&&(u.diffValue=0,Pt(u,t))}r!==ot.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),r}function yt(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Tt(e[n],t);t.dependenciesState=ot.NOT_TRACKING}function bt(t){var e=gt();try{return t()}finally{mt(e)}}function gt(){var t=xt.trackingDerivation;return xt.trackingDerivation=null,t}function mt(t){xt.trackingDerivation=t}function _t(t){if(t.dependenciesState!==ot.UP_TO_DATE){t.dependenciesState=ot.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=ot.UP_TO_DATE}}var wt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId","UNCHANGED"],Ot=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),St=!0,At=!1,xt=function(){var t=jt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(St=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Ot).version&&(St=!1),St?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Ot):(setTimeout(function(){At||p("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ot)}();function Ct(){return xt}function Et(){var t=new Ot;for(var e in t)-1===wt.indexOf(e)&&(xt[e]=t[e]);xt.allowStateChanges=!xt.enforceActions}function jt(){return"undefined"!=typeof window?window:r}function Pt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Tt(t,e){t.observers.delete(e),0===t.observers.size&&Lt(t)}function Lt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,xt.pendingUnobservations.push(t))}function kt(){xt.inBatch++}function Rt(){if(0==--xt.inBatch){Vt();for(var t=xt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof st&&n.suspend())}xt.pendingUnobservations=[]}}function Nt(t){var e=xt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&xt.inBatch>0&&Lt(t),!1)}function Mt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===it.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return t(e,n,r+1)})}(ce(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof st?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Dt=function(){function t(t,e,n){void 0===t&&(t="Reaction@"+f()),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=ot.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=it.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,xt.pendingReactions.push(this),Vt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(kt(),this._isScheduled=!1,pt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Rt()}},t.prototype.track=function(t){this.isDisposed&&p("Reaction already disposed"),kt();this._isRunning=!0;var e=vt(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&yt(this),ft(e)&&this.reportExceptionInDerivation(e.cause),Rt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(xt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";xt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),xt.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kt(),yt(this),Rt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[A]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),Me(this,t)},t}();function It(t){return xt.globalReactionErrorHandlers.push(t),function(){var e=xt.globalReactionErrorHandlers.indexOf(t);e>=0&&xt.globalReactionErrorHandlers.splice(e,1)}}var Ut=100,Bt=function(t){return t()};function Vt(){xt.inBatch>0||xt.isRunningReactions||Bt(Gt)}function Gt(){xt.isRunningReactions=!0;for(var t=xt.pendingReactions,e=0;t.length>0;){++e===Ut&&(console.error("Reaction doesn't converge to a stable state after "+Ut+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}xt.isRunningReactions=!1}var zt=m("Reaction",Dt);function Ht(t){var e=Bt;Bt=function(n){return t(function(){return e(n)})}}function Kt(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Wt(){p(!1)}function qt(t){return function(e,n,r){if(r){if(r.value)return{value:X(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return X(t,o.call(this))}}}return function(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){g(this,n,Yt(t,e))}})}}(t).apply(this,arguments)}}var Yt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?X(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?X(t,e):1===arguments.length&&"string"==typeof t?qt(t):!0!==r?qt(e).apply(null,arguments):void g(t,e,X(t.name||e,n.value,this))};function Jt(t,e){"string"==typeof t||t.name;return Z(0,"function"==typeof t?t:e,this,void 0)}function Ft(t){return"function"==typeof t&&!0===t.isMobxAction}function $t(t,e,n){g(t,e,X(e,n.bind(t)))}function Xt(t,e){void 0===e&&(e=l);var n,r=e&&e.name||t.name||"Autorun@"+f();if(!e.scheduler&&!e.delay)n=new Dt(r,function(){this.track(a)},e.onError);else{var o=Qt(e),i=!1;n=new Dt(r,function(){i||(i=!0,o(function(){i=!1,n.isDisposed||n.track(a)}))},e.onError)}function a(){t(n)}return n.schedule(),n.getDisposer()}Yt.bound=function(t,e,n,r){return!0===r?($t(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return $t(this,e,n.value||n.initializer.call(this)),this[e]},set:Wt}:{enumerable:!1,configurable:!0,set:function(t){$t(this,e,t)},get:function(){}}};var Zt=function(t){return t()};function Qt(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Zt}function te(t,e,n){void 0===n&&(n=l);var r,o=n.name||"Reaction@"+f(),i=Yt(o,n.onError?function(t,e){return function(){try{return e.apply(this,arguments)}catch(e){t.call(this,e)}}}(n.onError,e):e),a=!n.scheduler&&!n.delay,u=Qt(n),s=!0,c=!1,p=n.compareStructural?j.structural:n.equals||j.default,h=new Dt(o,function(){s||a?d():c||(c=!0,u(d))},n.onError);function d(){if(c=!1,!h.isDisposed){var e=!1;h.track(function(){var n=t(h);e=s||!p(r,n),r=n}),s&&n.fireImmediately&&i(r,h),s||!0!==e||i(r,h),s&&(s=!1)}}return h.schedule(),h.getDisposer()}function ee(t,e,n){return re("onBecomeObserved",t,e,n)}function ne(t,e,n){return re("onBecomeUnobserved",t,e,n)}function re(t,e,n,r){var o="string"==typeof n?vn(e,n):vn(e),i="string"==typeof n?r:n,a=t+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[t]?p(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function oe(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.disableErrorBoundaries,o=t.reactionScheduler;if(!0===t.isolateGlobalState&&((xt.pendingReactions.length||xt.inBatch||xt.isRunningReactions)&&p("isolateGlobalState should be called before MobX is running any reactions"),At=!0,St&&(0==--jt().__mobxInstanceCount&&(jt().__mobxGlobals=void 0),xt=new Ot)),void 0!==e){var i=void 0;switch(e){case!0:case"observed":i=!0;break;case!1:case"never":i=!1;break;case"strict":case"always":i="strict";break;default:p("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}xt.enforceActions=i,xt.allowStateChanges=!0!==i&&"strict"!==i}void 0!==n&&(xt.computedRequiresReaction=!!n),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),xt.disableErrorBoundaries=!!r),o&&Ht(o)}function ie(t,e){var n="function"==typeof t?t.prototype:t,r=function(t){var r=e[t];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,t),i=r.reduce(function(e,r){return r(n,t,e)},o);i&&Object.defineProperty(n,t,i)};for(var o in e)r(o);return t}function ae(t,e,n,r){var o=ue(r=B(r));return R(t),cn(t,r.name,o.enhancer),e&&se(t,e,n,o),t}function ue(t){return t.defaultDecorator||(!1===t.deep?z:V)}function se(t,e,n,r){kt();try{for(var o in e){var i=Object.getOwnPropertyDescriptor(e,o);0;var a=(n&&o in n?n[o]:i.get?J:r)(t,o,i,!0);a&&Object.defineProperty(t,o,a)}}finally{Rt()}}function ce(t,e){return le(vn(t,e))}function le(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=function(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}(t.observing).map(le)),e}function fe(t,e){return pe(vn(t,e))}function pe(t){var e={name:t.name};return function(t){return t.observers&&t.observers.size>0}(t)&&(e.observers=Array.from(function(t){return t.observers}(t)).map(pe)),e}var he=0;function de(t){1!==arguments.length&&p("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=arguments,o=++he,i=Yt(e+" - runid: "+o+" - init",t).apply(this,r),a=void 0,u=new Promise(function(t,r){var u=0;function s(t){var n;a=void 0;try{n=Yt(e+" - runid: "+o+" - yield "+u++,i.next).call(i,t)}catch(t){return r(t)}l(n)}function c(t){var n;a=void 0;try{n=Yt(e+" - runid: "+o+" - yield "+u++,i.throw).call(i,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(s,c);e.then(l,r)}n=r,s(void 0)});return u.cancel=Yt(e+" - runid: "+o+" - cancel",function(){try{a&&ve(a);var t=i.return(),e=Promise.resolve(t.value);e.then(v,v),ve(e),n(new Error("FLOW_CANCELLED"))}catch(t){n(t)}}),u}}function ve(t){"function"==typeof t.cancel&&t.cancel()}function ye(t,e,n){var r;if(rn(t)||Ze(t)||ut(t))r=yn(t);else{if(!dn(t))return p(!1);if("string"!=typeof e)return p(!1);r=yn(t,e)}return void 0!==r.dehancer?p(!1):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}function be(t,e,n){return"function"==typeof n?function(t,e,n){return yn(t,e).intercept(n)}(t,e,n):function(t,e){return yn(t).intercept(e)}(t,e)}function ge(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(!1===dn(t))return!1;if(!t[A].values.has(e))return!1;var n=vn(t,e);return ct(n)}return ct(t)}function me(t){return arguments.length>1?p(!1):ge(t)}function _e(t,e){return"string"!=typeof e?p(!1):ge(t,e)}function we(t,e){return null!==t&&void 0!==t&&(void 0!==e?!!dn(t)&&t[A].values.has(e):dn(t)||!!t[A]||C(t)||zt(t)||ct(t))}function Oe(t){return 1!==arguments.length&&p(!1),we(t)}function Se(t,e){return"string"!=typeof e?p(!1):we(t,e)}function Ae(t){return dn(t)?t[A].getKeys():rn(t)?Array.from(t.keys()):un(t)?Array.from(t.keys()):Ze(t)?t.map(function(t,e){return e}):p(!1)}function xe(t){return dn(t)?Ae(t).map(function(e){return t[e]}):rn(t)?Ae(t).map(function(e){return t.get(e)}):un(t)?Array.from(t.values()):Ze(t)?t.slice():p(!1)}function Ce(t){return dn(t)?Ae(t).map(function(e){return[e,t[e]]}):rn(t)?Ae(t).map(function(e){return[e,t.get(e)]}):un(t)?Array.from(t.entries()):Ze(t)?t.map(function(t,e){return[e,t]}):p(!1)}function Ee(t,e,n){if(2!==arguments.length)if(dn(t)){var r=t[A];r.values.get(e)?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(rn(t))t.set(e,n);else{if(!Ze(t))return p(!1);"number"!=typeof e&&(e=parseInt(e,10)),h(e>=0,"Not a valid index: '"+e+"'"),kt(),e>=t.length&&(t.length=e+1),t[e]=n,Rt()}else{kt();var o=e;try{for(var i in o)Ee(t,i,o[i])}finally{Rt()}}}function je(t,e){if(dn(t))t[A].remove(e);else if(rn(t))t.delete(e);else if(un(t))t.delete(e);else{if(!Ze(t))return p(!1);"number"!=typeof e&&(e=parseInt(e,10)),h(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function Pe(t,e){return dn(t)?yn(t).has(e):rn(t)?t.has(e):un(t)?t.has(e):Ze(t)?e>=0&&e<t.length:p(!1)}function Te(t,e){if(Pe(t,e))return dn(t)?t[e]:rn(t)?t.get(e):Ze(t)?t[e]:p(!1)}function Le(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return yn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return yn(t).observe(e,n)}(t,e,n)}var ke={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Re(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Ne(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=ke),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),function t(e,n,r){if(!n.recurseEverything&&!Oe(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(ut(e))return t(e.get(),n,r);if(Oe(e)&&Ae(e),!0===n.detectCycles&&null!==e&&r.has(e))return r.get(e);if(Ze(e)||Array.isArray(e)){var o=Re(r,e,[],n),i=e.map(function(e){return t(e,n,r)});o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(un(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===n.exportMapsAsObjects){var s=Re(r,e,new Set,n);return e.forEach(function(e){s.add(t(e,n,r))}),s}var c=Re(r,e,[],n);return e.forEach(function(e){c.push(t(e,n,r))}),c}if(rn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Re(r,e,new Map,n);return e.forEach(function(e,o){l.set(o,t(e,n,r))}),l}var f=Re(r,e,{},n);return e.forEach(function(e,o){f[o]=t(e,n,r)}),f}var p=Re(r,e,{},n);for(var h in e)p[h]=t(e[h],n,r);return p}(t,e,n)}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=function(t){switch(t.length){case 0:return xt.trackingDerivation;case 1:return vn(t[0]);case 2:return vn(t[0],t[1])}}(t);if(!r)return p(!1);r.isTracing===it.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?it.BREAK:it.LOG}function De(t,e){void 0===e&&(e=void 0),kt();try{return t.apply(e)}finally{Rt()}}function Ie(t,e,n){return 1===arguments.length||e&&"object"==typeof e?function(t,e){0;var n,r=new Promise(function(r,o){var a=Ue(t,r,i({},e,{onError:o}));n=function(){a(),o("WHEN_CANCELLED")}});return r.cancel=n,r}(t,e):Ue(t,e,n||{})}function Ue(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i[A].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name=n.name||"When@"+f();var o=X(n.name+"-effect",e),i=Xt(function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())},n);return i}function Be(t){return t[A]}var Ve={has:function(t,e){if(e===A||"constructor"===e||e===P)return!0;var n=Be(t);return"string"==typeof e?n.has(e):e in t},get:function(t,e){if(e===A||"constructor"===e||e===P)return t[e];var n=Be(t),r=n.values.get(e);if(r instanceof x){var o=r.get();return void 0===o&&n.has(e),o}return"string"==typeof e&&n.has(e),t[e]},set:function(t,e,n){return"string"==typeof e&&(Ee(t,e,n),!0)},deleteProperty:function(t,e){return"string"==typeof e&&(Be(t).remove(e),!0)},ownKeys:function(t){return Be(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return p("Dynamic observable objects cannot be frozen"),!1}};function Ge(t){return void 0!==t.interceptors&&t.interceptors.length>0}function ze(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),d(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function He(t,e){var n=gt();try{var r=t.interceptors;if(r)for(var o=0,i=r.length;o<i&&(h(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{mt(n)}}function Ke(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function We(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),d(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function qe(t,e){var n=gt(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);mt(n)}}var Ye={get:function(t,e){return e===A?t[A]:"length"===e?t[A].getArrayLength():"number"==typeof e?Fe.get.call(t,e):"string"!=typeof e||isNaN(e)?Fe.hasOwnProperty(e)?Fe[e]:t[e]:Fe.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e?(t[A].setArrayLength(n),!0):"number"==typeof e?(Fe.set.call(t,e,n),!0):!isNaN(e)&&(Fe.set.call(t,parseInt(e),n),!0)},preventExtensions:function(t){return p("Observable arrays cannot be frozen"),!1}};var Je=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new x(t||"ObservableArray@"+f()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return ze(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),We(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;dt(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:void 0===e||null===e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=c),Ge(this)){var i=He(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!i)return c;e=i.removedCount,n=i.added}n=0===n.length?n:n.map(function(t){return r.enhancer(t,void 0)});var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=Ke(this),i=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&qe(this,i)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=Ke(this),i=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&qe(this,i)},t}(),Fe={intercept:function(t){return this[A].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[A].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[A];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[A];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[A].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[A];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[A].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[A];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[A],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[A];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[A],r=n.values;if(t<r.length){dt(n.atom);var o=r[t];if(Ge(n)){var i=He(n,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){Fe[t]=function(){var e=this[A];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}});var $e,Xe=m("ObservableArrayAdministration",Je);function Ze(t){return y(t)&&Xe(t[A])}var Qe={},tn=function(){function t(t,e,n){if(void 0===e&&(e=M),void 0===n&&(n="ObservableMap@"+f()),this.enhancer=e,this.name=n,this[$e]=Qe,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){return this._hasMap.has(t)?this._hasMap.get(t).get():this._updateHasMapEntry(t,!1).get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ge(this)){var r=He(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(Ge(this)&&!(r=He(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Ke(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return De(function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)}),n&&qe(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);return n?n.setNewValue(e):(n=new at(e,D,this.name+"."+en(t)+"?",!1),this._hasMap.set(t,n)),n},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==xt.UNCHANGED){var r=Ke(this),o=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&qe(this,o)}},t.prototype._addValue=function(t,e){var n=this;dt(this._keysAtom),De(function(){var r=new at(e,n.enhancer,n.name+"."+en(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()});var r=Ke(this),o=r?{type:"add",object:this,name:t,newValue:e}:null;r&&qe(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Sn({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Sn({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[($e=A,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=a(this),i=o.next();!i.done;i=o.next()){var s=u(i.value,2),c=s[0],l=s[1];t.call(e,l,c,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return rn(t)&&(t=t.toJS()),De(function(){b(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=u(t,2),r=n[0],o=n[1];return e.set(r,o)}):w(t)?(t.constructor!==Map&&p("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach(function(t,n){return e.set(n,t)})):null!==t&&void 0!==t&&p("Cannot initialize map from "+t)}),this},t.prototype.clear=function(){var t=this;De(function(){bt(function(){var e,n;try{for(var r=a(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},t.prototype.replace=function(t){var e=this;return De(function(){var n=function(t){return b(t)?Object.keys(t):Array.isArray(t)?t.map(function(t){return u(t,1)[0]}):w(t)||rn(t)?Array.from(t.keys()):p("Cannot get keys from '"+t+"'")}(t);Array.from(e.keys()).filter(function(t){return-1===n.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=a(this),o=r.next();!o.done;o=r.next()){var i=u(o.value,2),s=i[0],c=i[1];n["symbol"==typeof s?s:en(s)]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(e){return en(e)+": "+t.get(e)}).join(", ")+" }]"},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return ze(this,t)},t}();function en(t){return t&&t.toString?t.toString():new String(t).toString()}var nn,rn=m("ObservableMap",tn),on={},an=function(){function t(t,e,n){if(void 0===e&&(e=M),void 0===n&&(n="ObservableSet@"+f()),this.name=n,this[nn]=on,this._data=new Set,this._atom=E(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;De(function(){bt(function(){var e,n;try{for(var r=a(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},t.prototype.forEach=function(t,e){var n,r;try{for(var o=a(this),i=o.next();!i.done;i=o.next()){var u=i.value;t.call(e,u,u,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((dt(this._atom),Ge(this))&&!(r=He(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){De(function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()});var n=Ke(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&qe(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Ge(this)&&!(r=He(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=Ke(this),r=n?{type:"delete",object:this,oldValue:t}:null;return De(function(){e._atom.reportChanged(),e._data.delete(t)}),n&&qe(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Sn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Sn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return un(t)&&(t=t.toJS()),De(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):O(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!==t&&void 0!==t&&p("Cannot initialize set from "+t)}),this},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return ze(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(nn=A,Symbol.iterator)]=function(){return this.values()},t}(),un=m("ObservableSet",an),sn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new x(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof st)r.set(e);else{if(Ge(this)){if(!(i=He(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=i.newValue}if((e=r.prepareNewValue(e))!==xt.UNCHANGED){var o=Ke(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),o&&qe(this,i)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new at(r,D,this.name+"."+t.toString()+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ge(this)){var o=He(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new at(e,n,this.name+"."+t,!1);this.values.set(t,i),e=i.value,Object.defineProperty(r,t,function(t){return ln[t]||(ln[t]={configurable:!0,enumerable:!0,get:function(){return this[A].read(t)},set:function(e){this[A].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r=this.target;n.name=n.name||this.name+"."+e,this.values.set(e,new st(n)),(t===r||function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||!1!==n.configurable&&!1!==n.writable}(t,e))&&Object.defineProperty(t,e,function(t){return fn[t]||(fn[t]={configurable:!1,enumerable:!1,get:function(){return pn(this).read(t)},set:function(e){pn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Ge(this))if(!(a=He(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{kt();var n=Ke(this),r=this.values.get(t),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;0,n&&qe(this,a)}finally{Rt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return ze(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Ke(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&qe(this,r),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),o=r.next();!o.done;o=r.next()){var i=u(o.value,2),s=i[0];i[1]instanceof at&&n.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function cn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=M),Object.prototype.hasOwnProperty.call(t,A))return t[A];b(t)||(e=(t.constructor.name||"ObservableObject")+"@"+f()),e||(e="ObservableObject@"+f());var r=new sn(t,new Map,e,n);return g(t,A,r),r}var ln=Object.create(null),fn=Object.create(null);function pn(t){var e=t[A];return e||(R(t),t[A])}var hn=m("ObservableObjectAdministration",sn);function dn(t){return!!y(t)&&(R(t),hn(t[A]))}function vn(t,e){if("object"==typeof t&&null!==t){if(Ze(t))return void 0!==e&&p(!1),t[A].atom;if(un(t))return t[A];if(rn(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||p(!1),r)}var r;if(R(t),e&&!t[A]&&t[e],dn(t))return e?((r=t[A].values.get(e))||p(!1),r):p(!1);if(C(t)||ct(t)||zt(t))return t}else if("function"==typeof t&&zt(t[A]))return t[A];return p(!1)}function yn(t,e){return t||p("Expecting some object"),void 0!==e?yn(vn(t,e)):C(t)||ct(t)||zt(t)?t:rn(t)||un(t)?t:(R(t),t[A]?t[A]:void p(!1))}function bn(t,e){return(void 0!==e?vn(t,e):dn(t)||rn(t)||un(t)?yn(t):vn(t)).name}var gn=Object.prototype.toString;function mn(t,e){return _n(t,e)}function _n(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function(t,e,n,r){t=wn(t),e=wn(e);var o=gn.call(t);if(o!==gn.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,u=e.constructor;if(a!==u&&!("function"==typeof a&&a instanceof a&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];var s=n.length;for(;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),i){if((s=t.length)!==e.length)return!1;for(;s--;)if(!_n(t[s],e[s],n,r))return!1}else{var c=Object.keys(t),l=void 0;if(s=c.length,Object.keys(e).length!==s)return!1;for(;s--;)if(l=c[s],!On(e,l)||!_n(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function wn(t){return Ze(t)?t.slice():w(t)||rn(t)?Array.from(t.entries()):O(t)||un(t)?Array.from(t.entries()):t}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sn(t){return t[Symbol.iterator]=An,t}function An(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Kt,extras:{getDebugName:bn},$mobx:A})}.call(this,n(16),n(7))},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"observer",function(){return g}),n.d(e,"Observer",function(){return m}),n.d(e,"useStaticRendering",function(){return h}),n.d(e,"connect",function(){return A}),n.d(e,"inject",function(){return S}),n.d(e,"Provider",function(){return E});var r=n(0),o=n(1);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.prefix,r=void 0===n?"":n,o=e.suffix,i=void 0===o?"":o;return r+(t.displayName||t.name||t.constructor&&t.constructor.name||"<component>")+i}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=!1,p=console;function h(t){f=t}function d(t,e,n,r,i){var a=function(t){var e=Object(o._getGlobalState)().allowStateChanges;return Object(o._getGlobalState)().allowStateChanges=t,e}(t),u=void 0;try{u=e(n,r,i)}finally{!function(t){Object(o._getGlobalState)().allowStateChanges=t}(a)}return u}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t[e],o=b[e],i=r?!0===n?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;t[e]=i}function y(t,e){if(null==t||null==e||"object"!==(void 0===t?"undefined":a(t))||"object"!==(void 0===e?"undefined":a(e)))return t!==e;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=void 0,o=n.length-1;r=n[o];o--)if(e[r]!==t[r])return!0;return!1}var b={componentWillMount:function(){var t=this;if(!0!==f){var e=i(this),n=!1,a=!1;p.call(this,"props"),p.call(this,"state");var u=this.render.bind(this),s=null,c=!1,l=function(t,e,n){c=!1;var r=void 0,o=void 0;if(s.track(function(){try{o=d(!1,u,t,e,n)}catch(t){r=t}}),r)throw r;return o};this.render=function(){return(s=new o.Reaction(e+".render()",function(){if(!c&&(c=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{a=!0,n||r.Component.prototype.forceUpdate.call(t),e=!1}finally{a=!1,e&&s.dispose()}}})).reactComponent=t,l.$mobx=s,t.render=l,l(t.props,t.state,t.context)}}function p(t){var e=this[t],r=Object(o.createAtom)("reactive "+t);Object.defineProperty(this,t,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),e},set:function(t){!a&&y(e,t)?(e=t,n=!0,r.reportChanged(),n=!1):e=t}})}},componentWillUnmount:function(){!0!==f&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(t,e){return f&&p.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||y(this.props,t)}};function g(t){var e,n;if(arguments.length>1&&p.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),!0===t.isMobxInjector&&p.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),function(t){return!(t.prototype&&t.prototype.render||r.Component.isPrototypeOf(t))}(t))return g((n=e=function(e){function n(){return u(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return c(n,e),s(n,[{key:"render",value:function(){return t.call(this,this.props,this.context)}}]),n}(r.Component),e.displayName=i(t),n));if(!t)throw new Error("Please pass a valid component to 'observer'");return function(t){v(t,"componentWillMount",!0),v(t,"componentDidMount"),t.shouldComponentUpdate||(t.shouldComponentUpdate=b.shouldComponentUpdate)}(t.prototype||t),t.isMobXReactObserver=!0,t}var m=g(function(t){return t.children[0]()});m.displayName="Observer";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var _=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){t.exports=function(){var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,u=a&&a(Object);return function s(c,l,f){if("string"!=typeof l){if(u){var p=a(l);p&&p!==u&&s(c,p,f)}var h=r(l);o&&(h=h.concat(o(l)));for(var d=0;d<h.length;++d){var v=h[d];if(!(t[v]||e[v]||f&&f[v])){var y=i(l,v);try{n(c,v,y)}catch(t){}}}return c}return c}}()}),w={isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function O(t,e,n){var o,a,f=i(e,{prefix:"inject-",suffix:n?"-with-"+n:""}),p=(a=o=function(n){function o(){return u(this,o),l(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return c(o,n),s(o,[{key:"render",value:function(){var n={};for(var o in this.props)this.props.hasOwnProperty(o)&&(n[o]=this.props[o]);var i=t(this.context.mobxStores||{},n,this.context)||{};for(var a in i)n[a]=i[a];return Object(r.h)(e,n)}}]),o}(r.Component),o.displayName=f,a);return _(p,e),p.wrappedComponent=e,Object.defineProperties(p,w),p}function S(){var t=void 0;if("function"==typeof arguments[0])return t=arguments[0],function(e){var n=O(t,e);return n.isMobxInjector=!1,(n=g(n)).isMobxInjector=!0,n};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=function(t){return function(e,n){return t.forEach(function(t){if(!(t in n)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");n[t]=e[t]}}),n}}(e),function(n){return O(t,n,e.join("-"))}}function A(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");return Array.isArray(t)?e?S.apply(null,t)(A(e)):function(e){return A(t,e)}:g(t)}var x={children:!0,key:!0,ref:!0},C=console,E=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),s(e,[{key:"render",value:function(t){var e=t.children;return e.length>1?Object(r.h)("div",null," ",e," "):e[0]}},{key:"getChildContext",value:function(){var t={},e=this.context.mobxStores;if(e)for(var n in e)t[n]=e[n];for(var r in this.props)x[r]||"suppressChangedStoreWarning"===r||(t[r]=this.props[r]);return{mobxStores:t}}},{key:"componentWillReceiveProps",value:function(t){if(Object.keys(t).length!==Object.keys(this.props).length&&C.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var e in t)x[e]||this.props[e]===t[e]||C.warn("MobX Provider: Provided store '"+e+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),e}(r.Component);if(!r.Component)throw new Error("mobx-preact requires Preact to be available")}.call(this,n(7))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this;Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return r(e,t),e}(Error),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(u);e.MissingTokenError=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(u);function l(){var t=function(){var t=localStorage.getItem(p.TOKEN_LOCAL_STORAGE_KEY);if(!t)throw new s("API access token is missing");return t}();return new Headers({Authorization:"Bearer "+t})}function f(t){if(403===t.status)throw new Error;return t.status<400?t.json():Promise.reject(t)}e.UnauthorizedError=c;var p={TOKEN_LOCAL_STORAGE_KEY:"mighty_runner_api_access_token",URL:"/character",getCharacterList:function(){return o(a,void 0,void 0,function(){var t;return i(this,function(e){return t=l(),[2,fetch(p.URL,{headers:t}).then(function(t){return f(t)})]})})},getCharacter:function(t){return o(a,void 0,void 0,function(){var e;return i(this,function(n){return e=l(),[2,fetch(p.URL+"/"+t,{headers:e}).then(function(t){return f(t)})]})})},putCharacter:function(t,e){return o(a,void 0,void 0,function(){var n,r;return i(this,function(o){return n=l(),r={headers:n,body:JSON.stringify(e),method:"PUT"},[2,fetch(p.URL+"/"+t,r).then(function(t){return f(t)})]})})}};e.default=p},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),a=null,u=0,s=[],c=n(12);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],e))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(y(o.parts[a],e));r[o.id]={id:o.id,refs:1,parts:u}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function p(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),s.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(t.insertAt.before,n);n.insertBefore(e,o)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=s.indexOf(t);e>=0&&s.splice(e,1)}function d(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var s=u++;n=a||(a=d(e)),r=g.bind(null,n,s,!1),o=g.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,n,e),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return l(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var a=n[i];(u=r[a.id]).refs--,o.push(u)}t&&l(f(t,e),e);for(i=0;i<o.length;i++){var u;if(0===(u=o[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete r[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function g(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"subscribers",function(){return p}),n.d(e,"getCurrentUrl",function(){return v}),n.d(e,"route",function(){return y}),n.d(e,"Router",function(){return S}),n.d(e,"Route",function(){return x}),n.d(e,"Link",function(){return A});var r=n(0),o={};function i(t,e){for(var n in e)t[n]=e[n];return t}function a(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function u(t,e){return t.index=e,t.rank=function(t){return t.attributes.default?0:function(t){return s(t).map(c).join("")}(t.attributes.path)}(t),t.attributes}function s(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function c(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var l=null,f=[],p=[],h={};function d(t){return null!=t.__preactattr_||"undefined"!=typeof Symbol&&null!=t[Symbol.for("preactattr")]}function v(){var t;return""+((t=l&&l.location?l.location:l&&l.getCurrentLocation?l.getCurrentLocation():"undefined"!=typeof location?location:h).pathname||"")+(t.search||"")}function y(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=f.length;e--;)if(f[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),l&&l[e]?l[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),b(t)}function b(t){for(var e=!1,n=0;n<f.length;n++)!0===f[n].routeTo(t)&&(e=!0);for(var r=p.length;r--;)p[r](t);return e}function g(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return y(e)}}function m(t){if(0==t.button)return g(t.currentTarget||t.target||this),_(t)}function _(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function w(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&d(e)){if(e.hasAttribute("native"))return;if(g(e))return _(t)}}while(e=e.parentNode)}}var O=!1;var S=function(t){function e(e){t.call(this,e),e.history&&(l=e.history),this.state={url:e.url||v()},O||("function"==typeof addEventListener&&(l||addEventListener("popstate",function(){b(v())}),addEventListener("click",w)),O=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){f.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;l&&(this.unlisten=l.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),f.splice(f.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(u).sort(a).map(function(t){var a=function(t,e,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,a=t.match(i),u={};if(a&&a[1])for(var c=a[1].split("&"),l=0;l<c.length;l++){var f=c[l].split("=");u[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}t=s(t.replace(i,"")),e=s(e||"");for(var p=Math.max(t.length,e.length),h=0;h<p;h++)if(e[h]&&":"===e[h].charAt(0)){var d=e[h].replace(/(^\:|[+*?]+$)/g,""),v=(e[h].match(/[+*?]+$/)||o)[0]||"",y=~v.indexOf("+"),b=~v.indexOf("*"),g=t[h]||"";if(!g&&!b&&(v.indexOf("?")<0||y)){r=!1;break}if(u[d]=decodeURIComponent(g),y||b){u[d]=t.slice(h).map(decodeURIComponent).join("/");break}}else if(e[h]!==t[h]){r=!1;break}return(!0===n.default||!1!==r)&&u}(e,t.attributes.path,t.attributes);if(a){if(!1!==n){var u={url:e,matches:a};return i(u,a),delete u.ref,delete u.key,Object(r.cloneElement)(t,u)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,r=t.onChange,o=e.url,i=this.getMatchingChildren(n,o,!0),a=i[0]||null;this._didRoute=!!a;var u=this.previousUrl;return o!==u&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:u,active:i,current:a})),a},e}(r.Component),A=function(t){return Object(r.h)("a",i({onClick:m},t))},x=function(t){return Object(r.h)(t.component,t)};S.subscribers=p,S.getCurrentUrl=v,S.route=y,S.Router=S,S.Route=x,S.Link=A,e.default=S},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(1);!function(t){t[t.LOADING=0]="LOADING",t[t.LOADING_COMPLETE=1]="LOADING_COMPLETE",t[t.LOADING_ANIMATION_COMPLETE=2]="LOADING_ANIMATION_COMPLETE"}(o=e.AppState||(e.AppState={}));var a=function(){function t(){this.currentState=o.LOADING}return r([i.observable],t.prototype,"currentState",void 0),t}();e.appState=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);n(10);var o=n(13);r.render(r.h(o.default,null),document.body)},function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),e.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Maven+Pro);",""]),e.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono);",""]),e.push([t.i,":root{--large-logo-top-space: 40vh}@media screen and (orientation: landscape) and (max-height: 641px){:root{--large-logo-top-space: 25vh}}body{margin:0;font-family:'Roboto', sans-serif;background-color:#102030;height:100vh;width:100vw}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14);e.default=r.default},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(6),a=n(15),u=n(17),s=n(20),c=n(21),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.h(u.default,null,o.h(c.default,null),o.h(a.default,null),o.h(i.Router,null,o.h(s.default,{path:"/"}),o.h("div",{path:"/home"},"Home")))},e}(o.Component);e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(6),u=n(2),s=n(3),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.storeCharacters=function(t){e.props.character.list=t,"/"===window.location.pathname&&a.route("/characters")},e}return r(e,t),e.prototype.render=function(){return i.h("span",null)},e.prototype.componentDidMount=function(){},e.prototype.checkToken=function(){if(this.props.token.token)return!0;a.route("/set-token")},e.prototype.loadCharacters=function(){s.default.getCharacterList().then(this.storeCharacters,this.handleDataLoadError)},e.prototype.handleDataLoadError=function(t){t instanceof s.MissingTokenError?a.route("/set-token"):t instanceof s.UnauthorizedError&&a.route("/bad-token")},e=o([u.inject("token","character")],e)}(i.Component);e.default=c},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),a=n(18),u=n(19),s=n(8),c={token:a.token,character:u.character,appState:s.appState};e.default=function(t){var e=t.children;return o.h(i.Provider,r({},c),e)}},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(3),a=function(){function t(){var e=this;this.retrieveLocalToken=function(){e.token=localStorage.getItem(t.LOCAL_STORAGE_KEY),"null"===e.token&&(e.token=null)},this.setToken=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,e.token)},o.reaction(function(){return e.token},this.setToken),this.retrieveLocalToken()}return t.LOCAL_STORAGE_KEY=i.default.TOKEN_LOCAL_STORAGE_KEY,r([o.observable],t.prototype,"token",void 0),t}();e.token=new a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(3),a=function(){function t(){var e=this;this.list=[],this.retrieveLocalList=function(){try{e.list=JSON.parse(localStorage.getItem(t.LIST_LOCAL_STORAGE_KEY))}catch(t){e.list=null}},this.setCharacterList=function(){localStorage.setItem(t.LIST_LOCAL_STORAGE_KEY,JSON.stringify(e.list))},o.reaction(function(){return e.list},this.setCharacterList),this.retrieveLocalList()}return Object.defineProperty(t.prototype,"active",{get:function(){var t=this;return this.list.find(function(e){return e.id===t.getCharacterId()})},set:function(t){var e=this,n=this.list.findIndex(function(t){return t.id===e.getCharacterId()});t&&(this.list[n]=t,this.setCharacterList())},enumerable:!0,configurable:!0}),t.prototype.persistActive=function(){var t=this.active;if(t)return i.default.putCharacter(t.id,t)},t.prototype.getCharacterId=function(){var t=window.location.pathname.split("/");return t[t.length-1]},t.LIST_LOCAL_STORAGE_KEY="mighty_runner_character_list",t.ACTIVE_LOCAL_STORAGE_KEY="mighty_runner_character_active",t.UPDATE_DELAY=1e3,r([o.observable],t.prototype,"list",void 0),r([o.computed],t.prototype,"active",null),t}();e.character=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(t){return r.h("div",null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22);e.default=r.default},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(23),c=n(2),l=n(8),f=n(24),p=n(26),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.stopAnimator=!1,e.runGl=function(){if(e.compatibilityCheck())return e.loadDependencies().then(function(){e.initialize(),e.setCamera(),e.makeGeometry(),e.initializeLighting(),document.getElementById("digibackground").appendChild(e.renderer.domElement),e.drivingFunction=e.loadingCamera,e.animate(),setTimeout(function(){return e.props.appState.currentState=l.AppState.LOADING_COMPLETE},1e3)})},e.loadDependencies=function(){return i(e,void 0,void 0,function(){var t=this;return a(this,function(e){return[2,new Promise(function(e,n){t.logoTexture=(new s.TextureLoader).load(p,e,void 0,n)})]})})},e.compatibilityCheck=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},e.initialize=function(){e.scene=new s.Scene,e.scene.fog=new s.FogExp2(1056816,.1),e.scene.background=new s.Color(1056816),e.renderer=new s.WebGLRenderer({alpha:!0}),e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.type=s.PCFSoftShadowMap,e.renderer.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",e.onWindowResize),e.renderer.sortObjects=!1},e.setCamera=function(){e.camera=new s.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),e.camera.position.x=n.CAMERA_POSITION_X,e.camera.position.y=n.CAMERA_POSITION_Y,e.camera.position.z=n.CAMERA_POSITION_Z,e.camera.lookAt(new s.Vector3(0,0,0))},e.onWindowResize=function(){e.renderer.setSize(window.innerWidth,window.innerHeight)},e.initializeLighting=function(){e.spotlight=new s.SpotLight(16777215,5),e.spotlight.position.set(0,0,4),e.spotlight.castShadow=!0,e.spotlight.shadow.mapSize.width=1024,e.spotlight.shadow.mapSize.height=1024,e.spotlight.shadow.camera.near=3,e.spotlight.shadow.camera.far=200,e.spotlight.lookAt(0,0,0),e.scene.add(e.spotlight),e.frontLight=new s.DirectionalLight(16777215,1),e.frontLight.position.set(-4.5,3.5,10),e.frontLight.target=e.logo,e.scene.add(e.frontLight),e.ambientLight=new s.AmbientLight(16777215,.7),e.scene.add(e.ambientLight),e.accentLight=new s.DirectionalLight(16777215,1),e.accentLight.position.set(-6,6,10),e.accentLight.target=e.logo,e.scene.add(e.accentLight)},e.loadingCamera=function(){var t=10*Math.sin(.005*e.time-1.7),n=15*Math.cos(.005*e.time-1.7);e.spotlight.position.set(t,n,4),e.time++},e.configureHomeLighting=function(){e.accentLight.intensity+=.1,e.frontLight.intensity-=e.frontLight.intensity<=0?0:.1/3},e.lightsAreHome=function(){return e.accentLight.intensity>=3&&e.frontLight.intensity<=0},e.spotlightIsHome=function(){return Math.abs(e.spotlight.position.y-6)<.1&&Math.abs(e.spotlight.position.x-6)<.1},e.homePosition=function(){if(e.spotlightIsHome()&&e.lightsAreHome())e.drivingFunction=e.moveLogo;else{e.spotlightIsHome()&&e.spotlight.position.set(6,6,4);var t=.5*(6-e.spotlight.position.y)+e.spotlight.position.y,n=.5*(6-e.spotlight.position.x)+e.spotlight.position.x;e.spotlight.position.set(n,t,4),e.configureHomeLighting()}},e.moveLogo=function(){e.logoGroup.position.z>=-.6?e.logoGroup.position.z-=.1:e.stopAnimator=!0},e.animate=function(){e.drivingFunction(),e.renderer.render(e.scene,e.camera),e.stopAnimator||requestAnimationFrame(e.animate)},e}var n;return r(e,t),n=e,e.prototype.render=function(){return this.props.appState.currentState===l.AppState.LOADING_COMPLETE&&(this.drivingFunction=this.homePosition),u.h("div",{className:f.digiGrid},u.h("div",{id:"digibackground"}))},e.prototype.componentDidMount=function(){this.runGl()},e.prototype.makeGeometry=function(){var t=new s.PlaneBufferGeometry(.75,.75),e=new s.MeshStandardMaterial({color:16777215,map:this.logoTexture,transparent:!0});this.logo=new s.Mesh(t,e),this.logo.position.set(0,0,.51);var n=new s.MeshStandardMaterial({color:10953498}),r=new s.CylinderBufferGeometry(.5,.5,.5,40,1);this.logoPedestal=new s.Mesh(r,n),this.logoPedestal.position.set(0,0,.25),this.logoPedestal.rotation.x=Math.PI/2,this.logoPedestal.castShadow=!0,this.logoGroup=new s.Group,this.logoGroup.add(this.logo,this.logoPedestal),this.scene.add(this.logoGroup);var o=new s.PlaneBufferGeometry(30,100),i=new s.MeshStandardMaterial({color:1056816});this.ground=new s.Mesh(o,i),this.ground.receiveShadow=!0,this.scene.add(this.ground)},e.CAMERA_POSITION_X=0,e.CAMERA_POSITION_Y=0,e.CAMERA_POSITION_Z=10,e.AMBIENT_COLOR=1056816,e=n=o([c.inject("appState"),c.observer],e)}(u.Component);e.default=h},function(t,e){t.exports=THREE},function(t,e,n){var r=n(25);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,".digi-grid-background__digiGrid--3YvqH{position:fixed;height:100vh;width:100vw;top:0;left:0}\n",""]),e.locals={digiGrid:"digi-grid-background__digiGrid--3YvqH"}},function(t,e,n){t.exports=n.p+"0265f06f4b7b529cc83b989f1817172c.png"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0L3ByZWFjdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb2J4LXByZWFjdC9saWIvaW5kZXgubW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcGktc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3Qtcm91dGVyL2Rpc3QvcHJlYWN0LXJvdXRlci5lcy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9hcHAtc3RhdGUtc3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2dsb2JhbC5zY3NzPzM2NTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9nbG9iYWwuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9hcHAvYXBwLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9ib290c3RyYXAvYm9vdHN0cmFwLnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9tb2J4LXByb3ZpZGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvdG9rZW4tc3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL2NoYXJhY3Rlci1zdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL2Jhc2Utcm91dGUudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL2RpZ2ktZ3JpZC1iYWNrZ3JvdW5kL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL2RpZ2ktZ3JpZC1iYWNrZ3JvdW5kL2RpZ2ktZ3JpZC1iYWNrZ3JvdW5kLnRzeCIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJUSFJFRVwiIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXJzL2RpZ2ktZ3JpZC1iYWNrZ3JvdW5kL2RpZ2ktZ3JpZC1iYWNrZ3JvdW5kLnNjc3M/NTBiYSIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9kaWdpLWdyaWQtYmFja2dyb3VuZC9kaWdpLWdyaWQtYmFja2dyb3VuZC5zY3NzIiwid2VicGFjazovLy8uL2Rlc2lnbi9sb2dvLnBuZyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJoIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwicmVuZGVyIiwicmVyZW5kZXIiLCJvcHRpb25zIiwiVk5vZGUiLCJzdGFjayIsIkVNUFRZX0NISUxEUkVOIiwibm9kZU5hbWUiLCJhdHRyaWJ1dGVzIiwibGFzdFNpbXBsZSIsImNoaWxkIiwic2ltcGxlIiwiY2hpbGRyZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwdXNoIiwicG9wIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwidm5vZGUiLCJleHRlbmQiLCJvYmoiLCJwcm9wcyIsImRlZmVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwic2V0VGltZW91dCIsInNsaWNlIiwiSVNfTk9OX0RJTUVOU0lPTkFMIiwiaXRlbXMiLCJlbnF1ZXVlUmVuZGVyIiwiY29tcG9uZW50IiwiX2RpcnR5IiwiZGVib3VuY2VSZW5kZXJpbmciLCJsaXN0IiwicmVuZGVyQ29tcG9uZW50IiwiaXNTYW1lTm9kZVR5cGUiLCJub2RlIiwiaHlkcmF0aW5nIiwic3BsaXRUZXh0IiwiX2NvbXBvbmVudENvbnN0cnVjdG9yIiwiaXNOYW1lZE5vZGUiLCJub3JtYWxpemVkTm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldE5vZGVQcm9wcyIsImRlZmF1bHRQcm9wcyIsInJlbW92ZU5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRBY2Nlc3NvciIsIm9sZCIsImlzU3ZnIiwic3R5bGUiLCJjc3NUZXh0IiwidGVzdCIsImlubmVySFRNTCIsIl9faHRtbCIsInVzZUNhcHR1cmUiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2xpc3RlbmVycyIsImUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiY2xhc3NOYW1lIiwidGhpcyIsInR5cGUiLCJldmVudCIsIm1vdW50cyIsImRpZmZMZXZlbCIsImlzU3ZnTW9kZSIsImZsdXNoTW91bnRzIiwiYWZ0ZXJNb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwiZGlmZiIsImRvbSIsImNvbnRleHQiLCJtb3VudEFsbCIsInBhcmVudCIsImNvbXBvbmVudFJvb3QiLCJvd25lclNWR0VsZW1lbnQiLCJyZXQiLCJpZGlmZiIsImFwcGVuZENoaWxkIiwib3V0IiwicHJldlN2Z01vZGUiLCJfY29tcG9uZW50Iiwibm9kZVZhbHVlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlY29sbGVjdE5vZGVUcmVlIiwidm5vZGVOYW1lIiwib3JpZ2luYWxDb21wb25lbnQiLCJvbGREb20iLCJpc0RpcmVjdE93bmVyIiwiaXNPd25lciIsIl9wYXJlbnRDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInNldENvbXBvbmVudFByb3BzIiwiYmFzZSIsInVubW91bnRDb21wb25lbnQiLCJjcmVhdGVDb21wb25lbnQiLCJuZXh0QmFzZSIsImJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlIiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZU5vZGUiLCJmaXJzdENoaWxkIiwiZmMiLCJ2Y2hpbGRyZW4iLCJhIiwibmV4dFNpYmxpbmciLCJpc0h5ZHJhdGluZyIsImoiLCJmIiwidmNoaWxkIiwib3JpZ2luYWxDaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJrZXllZCIsImtleWVkTGVuIiwibWluIiwibGVuIiwiY2hpbGRyZW5MZW4iLCJ2bGVuIiwiX2NoaWxkIiwiX19rZXkiLCJ0cmltIiwiaW5zZXJ0QmVmb3JlIiwiaW5uZXJEaWZmTm9kZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cnMiLCJkaWZmQXR0cmlidXRlcyIsInVubW91bnRPbmx5IiwicmVmIiwicmVtb3ZlQ2hpbGRyZW4iLCJsYXN0Q2hpbGQiLCJuZXh0IiwicHJldmlvdXNTaWJsaW5nIiwicmVjeWNsZXJDb21wb25lbnRzIiwiQ3RvciIsImluc3QiLCJkb1JlbmRlciIsInNwbGljZSIsInN0YXRlIiwicmVuZGVyTW9kZSIsIl9kaXNhYmxlIiwiX19yZWYiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwicHJldkNvbnRleHQiLCJwcmV2UHJvcHMiLCJzeW5jQ29tcG9uZW50VXBkYXRlcyIsImlzQ2hpbGQiLCJyZW5kZXJlZCIsImNiYXNlIiwicHJldmlvdXNQcm9wcyIsInByZXZpb3VzU3RhdGUiLCJwcmV2U3RhdGUiLCJwcmV2aW91c0NvbnRleHQiLCJpc1VwZGF0ZSIsImluaXRpYWxCYXNlIiwiaW5pdGlhbENoaWxkQ29tcG9uZW50Iiwic2tpcCIsInNuYXBzaG90Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwidG9Vbm1vdW50IiwiY2hpbGRDb21wb25lbnQiLCJjaGlsZFByb3BzIiwiYmFzZVBhcmVudCIsImNvbXBvbmVudFJlZiIsInVuc2hpZnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJhZnRlclVwZGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJiZWZvcmVVbm1vdW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbm5lciIsIm1lcmdlIiwic2V0U3RhdGUiLCJjYWxsYmFjayIsImZvcmNlVXBkYXRlIiwicHJlYWN0IiwicHJvY2VzcyIsImdsb2JhbCIsIlJlYWN0aW9uJCQxIiwidW50cmFja2VkJCQxIiwiSURlcml2YXRpb25TdGF0ZSIsImNyZWF0ZUF0b20kJDEiLCJzcHkkJDEiLCJjb21wYXJlciQkMSIsImlzT2JzZXJ2YWJsZU9iamVjdCQkMSIsImlzT2JzZXJ2YWJsZVZhbHVlJCQxIiwiaXNPYnNlcnZhYmxlQXJyYXkkJDEiLCJPYnNlcnZhYmxlTWFwJCQxIiwiaXNPYnNlcnZhYmxlTWFwJCQxIiwiT2JzZXJ2YWJsZVNldCQkMSIsImlzT2JzZXJ2YWJsZVNldCQkMSIsInRyYW5zYWN0aW9uJCQxIiwib2JzZXJ2YWJsZSQkMSIsImNvbXB1dGVkJCQxIiwiaXNPYnNlcnZhYmxlJCQxIiwiaXNPYnNlcnZhYmxlUHJvcCQkMSIsImlzQ29tcHV0ZWQkJDEiLCJpc0NvbXB1dGVkUHJvcCQkMSIsImV4dGVuZE9ic2VydmFibGUkJDEiLCJvYnNlcnZlJCQxIiwiaW50ZXJjZXB0JCQxIiwiYXV0b3J1biQkMSIsInJlYWN0aW9uJCQxIiwid2hlbiQkMSIsImFjdGlvbiQkMSIsImlzQWN0aW9uJCQxIiwicnVuSW5BY3Rpb24kJDEiLCJrZXlzJCQxIiwidmFsdWVzJCQxIiwiZW50cmllcyQkMSIsInNldCQkMSIsInJlbW92ZSQkMSIsImhhcyQkMSIsImdldCQkMSIsImRlY29yYXRlJCQxIiwiY29uZmlndXJlJCQxIiwib25CZWNvbWVPYnNlcnZlZCQkMSIsIm9uQmVjb21lVW5vYnNlcnZlZCQkMSIsImZsb3ckJDEiLCJ0b0pTJCQxIiwidHJhY2UkJDEiLCJnZXREZXBlbmRlbmN5VHJlZSQkMSIsImdldE9ic2VydmVyVHJlZSQkMSIsInJlc2V0R2xvYmFsU3RhdGUkJDEiLCJnZXRHbG9iYWxTdGF0ZSQkMSIsImdldERlYnVnTmFtZSQkMSIsImdldEF0b20kJDEiLCJnZXRBZG1pbmlzdHJhdGlvbiQkMSIsImFsbG93U3RhdGVDaGFuZ2VzJCQxIiwiYWxsb3dTdGF0ZUNoYW5nZXNJbnNpZGVDb21wdXRlZCQkMSIsImlzQXJyYXlMaWtlJCQxIiwiJG1vYngkJDEiLCJpc0NvbXB1dGluZ0Rlcml2YXRpb24kJDEiLCJvblJlYWN0aW9uRXJyb3IkJDEiLCJpbnRlcmNlcHRSZWFkcyQkMSIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiYiIsIl9fYXNzaWduIiwiYXNzaWduIiwiX192YWx1ZXMiLCJpdGVyYXRvciIsImRvbmUiLCJfX3JlYWQiLCJhciIsImVycm9yIiwiT0JGVVNDQVRFRF9FUlJPUiQkMSIsIkVNUFRZX0FSUkFZJCQxIiwiZnJlZXplIiwiRU1QVFlfT0JKRUNUJCQxIiwiZ2V0TmV4dElkJCQxIiwiZ2xvYmFsU3RhdGUkJDEiLCJtb2J4R3VpZCIsImZhaWwkJDEiLCJtZXNzYWdlIiwiaW52YXJpYW50JCQxIiwiY2hlY2siLCJFcnJvciIsIm9uY2UkJDEiLCJmdW5jIiwiaW52b2tlZCIsImFwcGx5Iiwibm9vcCQkMSIsImlzT2JqZWN0JCQxIiwiaXNQbGFpbk9iamVjdCQkMSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJhZGRIaWRkZW5Qcm9wJCQxIiwicHJvcE5hbWUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEiLCJjbGF6eiIsIngiLCJpc0FycmF5IiwiaXNFUzZNYXAkJDEiLCJ0aGluZyIsIk1hcCIsImlzRVM2U2V0JCQxIiwiU2V0IiwidG9QcmltaXRpdmUkJDEiLCJBdG9tJCQxIiwiaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiIsImlzQmVpbmdPYnNlcnZlZCIsIm9ic2VydmVycyIsImRpZmZWYWx1ZSIsImxhc3RBY2Nlc3NlZEJ5IiwibG93ZXN0T2JzZXJ2ZXJTdGF0ZSIsIk5PVF9UUkFDS0lORyIsIm9uQmVjb21lT2JzZXJ2ZWQiLCJvbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwib25CZWNvbWVVbm9ic2VydmVkIiwib25CZWNvbWVVbm9ic2VydmVkTGlzdGVuZXJzIiwicmVwb3J0T2JzZXJ2ZWQiLCJyZXBvcnRPYnNlcnZlZCQkMSIsInJlcG9ydENoYW5nZWQiLCJzdGFydEJhdGNoJCQxIiwiU1RBTEUiLCJkZXBlbmRlbmNpZXNTdGF0ZSIsIlVQX1RPX0RBVEUiLCJpc1RyYWNpbmciLCJUcmFjZU1vZGUkJDEiLCJOT05FIiwibG9nVHJhY2VJbmZvIiwib25CZWNvbWVTdGFsZSIsInByb3BhZ2F0ZUNoYW5nZWQkJDEiLCJlbmRCYXRjaCQkMSIsInRvU3RyaW5nIiwiaXNBdG9tJCQxIiwib25CZWNvbWVPYnNlcnZlZEhhbmRsZXIiLCJvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyIiwiYXRvbSIsImlkZW50aXR5Iiwic3RydWN0dXJhbCIsImRlZXBFcXVhbCQkMSIsImRlZmF1bHQiLCJpcyIsIm1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sJCQxIiwibW9ieFBlbmRpbmdEZWNvcmF0b3JzJCQxIiwiZW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZSIsIm5vbkVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGUiLCJpbml0aWFsaXplSW5zdGFuY2UkJDEiLCJ0YXJnZXQiLCJkZWNvcmF0b3JzIiwicHJvcGVydHlDcmVhdG9yIiwicHJvcCIsImRlc2NyaXB0b3IiLCJkZWNvcmF0b3JUYXJnZXQiLCJkZWNvcmF0b3JBcmd1bWVudHMiLCJjcmVhdGVQcm9wRGVjb3JhdG9yJCQxIiwicHJvcGVydHlJbml0aWFsbHlFbnVtZXJhYmxlIiwiZGVjb3JhdG9yIiwiYXBwbHlJbW1lZGlhdGVseSIsImluaGVyaXRlZERlY29yYXRvcnMiLCJjYWNoZSIsInNldCIsImNyZWF0ZVByb3BlcnR5SW5pdGlhbGl6ZXJEZXNjcmlwdG9yIiwiYXJncyIsInF1YWNrc0xpa2VBRGVjb3JhdG9yJCQxIiwiZGVlcEVuaGFuY2VyJCQxIiwidiIsIl8iLCJhcnJheSIsIm1hcCIsInJlZmVyZW5jZUVuaGFuY2VyJCQxIiwibmV3VmFsdWUiLCJjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlciQkMSIsImVuaGFuY2VyIiwicHJvcGVydHlOYW1lIiwiX2RlY29yYXRvclRhcmdldCIsImRlY29yYXRvckFyZ3MiLCJpbml0aWFsVmFsdWUiLCJpbml0aWFsaXplciIsImFzT2JzZXJ2YWJsZU9iamVjdCQkMSIsImFkZE9ic2VydmFibGVQcm9wIiwicmVzIiwiZW52IiwiZGVmYXVsdENyZWF0ZU9ic2VydmFibGVPcHRpb25zJCQxIiwiZGVlcCIsImRlZmF1bHREZWNvcmF0b3IiLCJwcm94eSIsImFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEiLCJkZWVwRGVjb3JhdG9yJCQxIiwic2hhbGxvd0RlY29yYXRvciIsInJlZkRlY29yYXRvciQkMSIsInJlZlN0cnVjdERlY29yYXRvciIsIm9sZFZhbHVlIiwiZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyIsIm9ic2VydmFibGVGYWN0b3JpZXMiLCJib3giLCJpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvciIsIk9ic2VydmFibGVWYWx1ZSQkMSIsImVxdWFscyIsImluaXRpYWxWYWx1ZXMiLCJvd25lZCIsImFkbSIsIk9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uIiwiYWRkSGlkZGVuRmluYWxQcm9wJCQxIiwidmFsdWVzIiwiUHJveHkiLCJhcnJheVRyYXBzIiwicHJldiIsImFsbG93U3RhdGVDaGFuZ2VzU3RhcnQkJDEiLCJzcGxpY2VXaXRoQXJyYXkiLCJhbGxvd1N0YXRlQ2hhbmdlc0VuZCQkMSIsImNyZWF0ZU9ic2VydmFibGVBcnJheSQkMSIsImdldERlZmF1bHREZWNvcmF0b3JGcm9tT2JqZWN0T3B0aW9ucyQkMSIsIm9iamVjdFByb3h5VHJhcHMiLCJjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdCQkMSIsImV4dGVuZE9ic2VydmFibGVPYmplY3RXaXRoUHJvcGVydGllcyQkMSIsInNoYWxsb3ciLCJzdHJ1Y3QiLCJhcmcyIiwiYXJnMyIsIm1ldGhvZE5hbWUiLCJrZXlzIiwiY29tcHV0ZWREZWNvcmF0b3IkJDEiLCJpbnN0YW5jZSIsImFkZENvbXB1dGVkUHJvcCIsImNvbXB1dGVkU3RydWN0RGVjb3JhdG9yIiwiYXJnMSIsIm9wdHMiLCJDb21wdXRlZFZhbHVlJCQxIiwiY3JlYXRlQWN0aW9uJCQxIiwiYWN0aW9uTmFtZSIsImZuIiwiZXhlY3V0ZUFjdGlvbiQkMSIsImlzTW9ieEFjdGlvbiIsInNjb3BlIiwicnVuSW5mbyIsIm5vdGlmeVNweSIsInN0YXJ0VGltZSIsInByZXZEZXJpdmF0aW9uIiwidW50cmFja2VkU3RhcnQkJDEiLCJwcmV2QWxsb3dTdGF0ZUNoYW5nZXMiLCJzdGFydEFjdGlvbiIsInNob3VsZFN1cHJlc3NSZWFjdGlvbkVycm9yIiwic3VwcHJlc3NSZWFjdGlvbkVycm9ycyIsImVuZEFjdGlvbiIsInVudHJhY2tlZEVuZCQkMSIsImFsbG93U3RhdGVDaGFuZ2VzIiwiY29tcHV0YXRpb25EZXB0aCIsIl9zdXBlciIsIl90aGlzIiwiaGFzVW5yZXBvcnRlZENoYW5nZSIsIl9fIiwiX19leHRlbmRzIiwiZGVoYW5jZVZhbHVlIiwiZGVoYW5jZXIiLCJwcmVwYXJlTmV3VmFsdWUiLCJVTkNIQU5HRUQiLCJzZXROZXdWYWx1ZSIsImNoZWNrSWZTdGF0ZU1vZGlmaWNhdGlvbnNBcmVBbGxvd2VkJCQxIiwiaGFzSW50ZXJjZXB0b3JzJCQxIiwiY2hhbmdlIiwiaW50ZXJjZXB0Q2hhbmdlJCQxIiwiaGFzTGlzdGVuZXJzJCQxIiwibm90aWZ5TGlzdGVuZXJzJCQxIiwiaW50ZXJjZXB0IiwiaGFuZGxlciIsInJlZ2lzdGVySW50ZXJjZXB0b3IkJDEiLCJvYnNlcnZlIiwiZmlyZUltbWVkaWF0ZWx5IiwicmVnaXN0ZXJMaXN0ZW5lciQkMSIsInRvSlNPTiIsInZhbHVlT2YiLCJ0b1ByaW1pdGl2ZSIsIm9ic2VydmluZyIsIm5ld09ic2VydmluZyIsInJ1bklkIiwidW5ib3VuZERlcHNDb3VudCIsIl9fbWFwaWQiLCJDYXVnaHRFeGNlcHRpb24kJDEiLCJpc0NvbXB1dGluZyIsImlzUnVubmluZ1NldHRlciIsImRlcml2YXRpb24iLCJzZXR0ZXIiLCJjb21wYXJlU3RydWN0dXJhbCIsInJlcXVpcmVzUmVhY3Rpb24iLCJrZWVwQWxpdmUiLCJQT1NTSUJMWV9TVEFMRSIsInByb3BhZ2F0ZU1heWJlQ2hhbmdlZCQkMSIsImluQmF0Y2giLCJzaXplIiwic2hvdWxkQ29tcHV0ZSQkMSIsInRyYWNrQW5kQ29tcHV0ZSIsInByb3BhZ2F0ZUNoYW5nZUNvbmZpcm1lZCQkMSIsIndhcm5BYm91dFVudHJhY2tlZFJlYWQiLCJjb21wdXRlVmFsdWUiLCJyZXN1bHQiLCJpc0NhdWdodEV4Y2VwdGlvbiQkMSIsImNhdXNlIiwicGVlayIsIndhc1N1c3BlbmRlZCIsImNoYW5nZWQiLCJ0cmFjayIsInRyYWNrRGVyaXZlZEZ1bmN0aW9uJCQxIiwiZGlzYWJsZUVycm9yQm91bmRhcmllcyIsInN1c3BlbmQiLCJjbGVhck9ic2VydmluZyQkMSIsImZpcnN0VGltZSIsInByZXZWYWx1ZSIsInByZXZVIiwiaXNDb21wdXRlZFZhbHVlJCQxIiwiSURlcml2YXRpb25TdGF0ZSQkMSIsInByZXZVbnRyYWNrZWQiLCJvYnMiLCJjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMCQkMSIsInRyYWNraW5nRGVyaXZhdGlvbiIsImhhc09ic2VydmVycyQkMSIsImVuZm9yY2VBY3Rpb25zIiwicHJldlRyYWNraW5nIiwicHJldk9ic2VydmluZyIsImxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSIsImkwIiwiZGVwIiwicmVtb3ZlT2JzZXJ2ZXIkJDEiLCJhZGRPYnNlcnZlciQkMSIsImJpbmREZXBlbmRlbmNpZXMiLCJwZXJzaXN0ZW50S2V5cyIsIk1vYlhHbG9iYWxzJCQxIiwidmVyc2lvbiIsInBlbmRpbmdVbm9ic2VydmF0aW9ucyIsInBlbmRpbmdSZWFjdGlvbnMiLCJpc1J1bm5pbmdSZWFjdGlvbnMiLCJzcHlMaXN0ZW5lcnMiLCJnbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMiLCJjb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24iLCJjYW5NZXJnZUdsb2JhbFN0YXRlIiwiaXNvbGF0ZUNhbGxlZCIsImdldEdsb2JhbCQkMSIsIl9fbW9ieEluc3RhbmNlQ291bnQiLCJfX21vYnhHbG9iYWxzIiwiZGVmYXVsdEdsb2JhbHMiLCJpbmRleE9mIiwid2luZG93IiwiYWRkIiwiZGVsZXRlIiwicXVldWVGb3JVbm9ic2VydmF0aW9uJCQxIiwicnVuUmVhY3Rpb25zJCQxIiwiY29uc29sZSIsImxvZyIsIkJSRUFLIiwibGluZXMiLCJwcmludERlcFRyZWUiLCJ0cmVlIiwiZGVwdGgiLCJqb2luIiwiZGVwZW5kZW5jaWVzIiwiRnVuY3Rpb24iLCJvbkludmFsaWRhdGUiLCJlcnJvckhhbmRsZXIiLCJpc0Rpc3Bvc2VkIiwiX2lzU2NoZWR1bGVkIiwiX2lzVHJhY2tQZW5kaW5nIiwiX2lzUnVubmluZyIsInNjaGVkdWxlIiwiaXNTY2hlZHVsZWQiLCJydW5SZWFjdGlvbiIsInJlcG9ydEV4Y2VwdGlvbkluRGVyaXZhdGlvbiIsIndhcm4iLCJkaXNwb3NlIiwiZ2V0RGlzcG9zZXIiLCJ0cmFjZSIsImVudGVyQnJlYWtQb2ludCIsImlkeCIsIk1BWF9SRUFDVElPTl9JVEVSQVRJT05TIiwicmVhY3Rpb25TY2hlZHVsZXIiLCJydW5SZWFjdGlvbnNIZWxwZXIiLCJhbGxSZWFjdGlvbnMiLCJpdGVyYXRpb25zIiwicmVtYWluaW5nUmVhY3Rpb25zIiwiaXNSZWFjdGlvbiQkMSIsInNldFJlYWN0aW9uU2NoZWR1bGVyJCQxIiwiYmFzZVNjaGVkdWxlciIsImRvbnRSZWFzc2lnbkZpZWxkcyIsIm5hbWVkQWN0aW9uRGVjb3JhdG9yJCQxIiwiaW5pdGlhbGl6ZXJfMSIsImFjdGlvbkZpZWxkRGVjb3JhdG9yJCQxIiwiYXJnNCIsImRlZmluZUJvdW5kQWN0aW9uJCQxIiwidmlldyIsInNjaGVkdWxlciIsImRlbGF5IiwicmVhY3Rpb25SdW5uZXIiLCJvbkVycm9yIiwic2NoZWR1bGVyXzEiLCJjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyIsImlzU2NoZWR1bGVkXzEiLCJib3VuZCIsImFwcGx5VG9JbnN0YW5jZSIsInJ1biIsImV4cHJlc3Npb24iLCJlZmZlY3QiLCJlZmZlY3RBY3Rpb24iLCJiYXNlRm4iLCJ3cmFwRXJyb3JIYW5kbGVyIiwicnVuU3luYyIsIm5leHRWYWx1ZSIsImludGVyY2VwdEhvb2siLCJob29rIiwiY2IiLCJsaXN0ZW5lcnNLZXkiLCJob29rTGlzdGVuZXJzIiwiaXNvbGF0ZUdsb2JhbFN0YXRlIiwiZWEiLCJfbG9vcF8xIiwicHJvcGVydHlEZWNvcmF0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibmV3RGVzY3JpcHRvciIsInJlZHVjZSIsImFjY0Rlc2NyaXB0b3IiLCJwcm9wZXJ0aWVzIiwicmVzdWx0RGVzY3JpcHRvciIsIm5vZGVUb0RlcGVuZGVuY3lUcmVlIiwiaXRlbSIsInVuaXF1ZSQkMSIsIm5vZGVUb09ic2VydmVyVHJlZSIsImZyb20iLCJnZXRPYnNlcnZlcnMkJDEiLCJnZW5lcmF0b3JJZCIsImdlbmVyYXRvciIsInJlamVjdG9yIiwiZ2VuIiwicGVuZGluZ1Byb21pc2UiLCJwcm9taXNlIiwicmVqZWN0Iiwic3RlcElkIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiZXJyIiwidGhyb3ciLCJjYW5jZWwiLCJjYW5jZWxQcm9taXNlIiwicmV0dXJuIiwieWllbGRlZFByb21pc2UiLCJwcm9wT3JIYW5kbGVyIiwiaW50ZXJjZXB0UHJvcGVydHkiLCJpbnRlcmNlcHRJbnRlcmNlcHRhYmxlIiwiX2lzQ29tcHV0ZWQkJDEiLCJoYXMiLCJfaXNPYnNlcnZhYmxlIiwiZ2V0S2V5cyIsImluZGV4IiwiZW50cmllcyIsIndyaXRlIiwiZGVmYXVsdEVuaGFuY2VyIiwicGFyc2VJbnQiLCJ2YWx1ZXNfMSIsImtleV8xIiwicmVtb3ZlIiwicHJvcE9yQ2IiLCJjYk9yRmlyZSIsIm9ic2VydmVPYnNlcnZhYmxlUHJvcGVydHkiLCJvYnNlcnZlT2JzZXJ2YWJsZSIsImRlZmF1bHRPcHRpb25zIiwiZGV0ZWN0Q3ljbGVzIiwiZXhwb3J0TWFwc0FzT2JqZWN0cyIsInJlY3Vyc2VFdmVyeXRoaW5nIiwic291cmNlIiwiX19hbHJlYWR5U2VlbiIsInRvSlNIZWxwZXIiLCJEYXRlIiwicmVzXzEiLCJ0b0FkZCIsInJlc18yIiwicmVzXzMiLCJyZXNfNCIsInJlc181IiwiX2kiLCJnZXRBdG9tRnJvbUFyZ3MiLCJMT0ciLCJ0aGlzQXJnIiwicHJlZGljYXRlIiwiZGlzcG9zZXIiLCJfd2hlbiIsIndoZW5Qcm9taXNlIiwidGltZW91dEhhbmRsZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJnZXRBZG0iLCJkZWxldGVQcm9wZXJ0eSIsIm93bktleXMiLCJrZXlzQXRvbSIsIlJlZmxlY3QiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsImludGVyY2VwdGFibGUiLCJpbnRlcmNlcHRvcnMiLCJsaXN0ZW5hYmxlIiwiY2hhbmdlTGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZ2V0QXJyYXlMZW5ndGgiLCJhcnJheUV4dGVuc2lvbnMiLCJpc05hTiIsInNldEFycmF5TGVuZ3RoIiwibGFzdEtub3duTGVuZ3RoIiwibmV3ViIsIm9sZFYiLCJkZWhhbmNlVmFsdWVzIiwiYWRkZWQiLCJhZGRlZENvdW50IiwicmVtb3ZlZCIsInJlbW92ZWRDb3VudCIsIm5ld0xlbmd0aCIsImN1cnJlbnRMZW5ndGgiLCJuZXdJdGVtcyIsInVwZGF0ZUFycmF5TGVuZ3RoIiwib2xkTGVuZ3RoIiwiZGVsdGEiLCJkZWxldGVDb3VudCIsIk1hdGgiLCJtYXgiLCJzcGxpY2VJdGVtc0ludG9WYWx1ZXMiLCJub3RpZnlBcnJheVNwbGljZSIsIl9hIiwiY29uY2F0IiwiX19zcHJlYWQiLCJub3RpZnlBcnJheUNoaWxkVXBkYXRlIiwibm90aWZ5IiwiY2xlYXIiLCJ0b0pTIiwic2hpZnQiLCJyZXZlcnNlIiwiY2xvbmUiLCJzb3J0IiwiY29tcGFyZUZuIiwiZnVuY05hbWUiLCJpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uIiwiT2JzZXJ2YWJsZU1hcE1hcmtlciIsImluaXRpYWxEYXRhIiwiX2tleXNBdG9tIiwiX2RhdGEiLCJfaGFzTWFwIiwiX2hhcyIsIl91cGRhdGVIYXNNYXBFbnRyeSIsImhhc0tleSIsIl91cGRhdGVWYWx1ZSIsIl9hZGRWYWx1ZSIsImVudHJ5Iiwic3RyaW5naWZ5S2V5Iiwic2VsZiIsIm5leHRJbmRleCIsIm1ha2VJdGVyYWJsZSIsImVfMSIsIl9iIiwiX2MiLCJfZCIsImVfMV8xIiwib3RoZXIiLCJlXzIiLCJlXzJfMSIsIm5ld0tleXMiLCJnZXRNYXBMaWtlS2V5cyQkMSIsImZpbHRlciIsImsiLCJ0b1BPSk8iLCJlXzMiLCJlXzNfMSIsIl9hJDEiLCJPYnNlcnZhYmxlU2V0TWFya2VyIiwiX2F0b20iLCJjYWxsYmFja0ZuIiwib2JzZXJ2YWJsZVZhbHVlcyIsIk9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMSIsInJlYWQiLCJwZW5kaW5nS2V5cyIsImV4aXN0cyIsIm9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3MiLCJnZW5lcmF0ZU9ic2VydmFibGVQcm9wQ29uZmlnJCQxIiwibm90aWZ5UHJvcGVydHlBZGRpdGlvbiIsInByb3BlcnR5T3duZXIiLCJpc1Byb3BlcnR5Q29uZmlndXJhYmxlJCQxIiwiY29tcHV0ZWRQcm9wZXJ0eUNvbmZpZ3MiLCJnZXRBZG1pbmlzdHJhdGlvbkZvckNvbXB1dGVkUHJvcE93bmVyIiwiZ2VuZXJhdGVDb21wdXRlZFByb3BDb25maWckJDEiLCJvbGRPYnNlcnZhYmxlIiwiaWxsZWdhbEFjY2VzcyIsIm93bmVyIiwiaXNPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24iLCJhbnlUaGluZyIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwidW53cmFwIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsImhhcyQxIiwiZGVlcEVxIiwiX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJpbmplY3RNb2J4Iiwic3B5IiwiZXh0cmFzIiwiZ2V0RGVidWdOYW1lIiwiJG1vYngiLCJvYnNlcnZlciIsIk9ic2VydmVyIiwidXNlU3RhdGljUmVuZGVyaW5nIiwiY29ubmVjdCIsImluamVjdCIsIlByb3ZpZGVyIiwicHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJtYWtlRGlzcGxheU5hbWUiLCJfcmVmIiwiX3JlZiRwcmVmaXgiLCJwcmVmaXgiLCJfcmVmJHN1ZmZpeCIsInN1ZmZpeCIsImRpc3BsYXlOYW1lIiwiX3R5cGVvZiIsImNsYXNzQ2FsbENoZWNrIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJjcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJpbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsImlzVXNpbmdTdGF0aWNSZW5kZXJpbmciLCJsb2dnZXIiLCJhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0IiwiYWxsb3dTdGF0ZUNoYW5nZXNFbmQiLCJwYXRjaCIsInJ1bk1peGluRmlyc3QiLCJtaXhpbkZ1bmMiLCJyZWFjdGl2ZU1peGluIiwiaXNPYmplY3RTaGFsbG93TW9kaWZpZWQiLCJpbml0aWFsTmFtZSIsInNraXBSZW5kZXIiLCJpc0ZvcmNpbmdVcGRhdGUiLCJtYWtlUHJvcGVydHlPYnNlcnZhYmxlUmVmZXJlbmNlIiwiYmFzZVJlbmRlciIsInJlYWN0aW9uIiwiaXNSZW5kZXJpbmdQZW5kaW5nIiwicmVhY3RpdmVSZW5kZXIiLCJleGNlcHRpb24iLCJyZW5kZXJpbmciLCJjb21wb25lbnRXaWxsUmVhY3QiLCJfXyRtb2J4SXNVbm1vdW50ZWQiLCJoYXNFcnJvciIsInJlYWN0Q29tcG9uZW50IiwidmFsdWVIb2xkZXIiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJjb21wb25lbnRDbGFzcyIsIl9jbGFzcyIsIl90ZW1wIiwiaXNNb2J4SW5qZWN0b3IiLCJpc1Byb3RvdHlwZU9mIiwiaXNTdGF0ZWxlc3MiLCJfQ29tcG9uZW50IiwibWl4aW5MaWZlY3ljbGVFdmVudHMiLCJpc01vYlhSZWFjdE9ic2VydmVyIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJjcmVhdGVDb21tb25qc01vZHVsZSIsIlJFQUNUX1NUQVRJQ1MiLCJjaGlsZENvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlcyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsInByb3BUeXBlcyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJjYWxsZWUiLCJhcml0eSIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvYmplY3RQcm90b3R5cGUiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJibGFja2xpc3QiLCJpbmhlcml0ZWRDb21wb25lbnQiLCJmYWN0b3J5IiwicHJveGllZEluamVjdG9yUHJvcHMiLCJjcmVhdGVTdG9yZUluamVjdG9yIiwiZ3JhYlN0b3Jlc0ZuIiwiaW5qZWN0TmFtZXMiLCJJbmplY3RvciIsIm5ld1Byb3BzIiwiYWRkaXRpb25hbFByb3BzIiwibW9ieFN0b3JlcyIsIl9rZXkiLCJ3cmFwcGVkQ29tcG9uZW50IiwiaW5qZWN0ZWQiLCJzdG9yZU5hbWVzIiwiYmFzZVN0b3JlcyIsInN0b3JlTmFtZSIsImdyYWJTdG9yZXNCeU5hbWUiLCJzcGVjaWFsUmVhY3RLZXlzIiwibG9nZ2VyJDEiLCJzdG9yZXMiLCJzdXBwcmVzc0NoYW5nZWRTdG9yZVdhcm5pbmciLCJDdXN0b21FcnJvciIsIl9uZXdUYXJnZXQiLCJNaXNzaW5nVG9rZW5FcnJvciIsIlVuYXV0aG9yaXplZEVycm9yIiwiZ2V0QXV0aEhlYWRlciIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkFwaVNlcnZpY2UiLCJUT0tFTl9MT0NBTF9TVE9SQUdFX0tFWSIsImdldEFuZFZhbGlkYXRlVG9rZW4iLCJIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImhhbmRsZVJlc3BvbnNlIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJqc29uIiwiVVJMIiwiZ2V0Q2hhcmFjdGVyTGlzdCIsIl9fYXdhaXRlciIsImhlYWRlcnMiLCJmZXRjaCIsImdldENoYXJhY3RlciIsImNoYXJhY3RlcklkIiwicHV0Q2hhcmFjdGVyIiwiY2hhcmFjdGVyIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXRob2QiLCJ1c2VTb3VyY2VNYXAiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0b0NvbW1lbnQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIm1lbW8iLCJtZW1vaXplIiwiYWxsIiwiYXRvYiIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsImNyZWF0ZVN0eWxlRWxlbWVudCIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJ1cGRhdGUiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInJlcGxhY2VUZXh0IiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwiY3NzTm9kZSIsInN1YnNjcmliZXJzIiwiZ2V0Q3VycmVudFVybCIsInJvdXRlIiwiUm91dGVyIiwiUm91dGUiLCJMaW5rIiwiRU1QVFkkMSIsInBhdGhSYW5rU29ydCIsInJhbmsiLCJwcmVwYXJlVk5vZGVGb3JSYW5raW5nIiwicGF0aCIsInNlZ21lbnRpemUiLCJyYW5rU2VnbWVudCIsInJhbmtDaGlsZCIsInVybCIsInNwbGl0Iiwic2VnbWVudCIsImNoYXJBdCIsImN1c3RvbUhpc3RvcnkiLCJST1VURVJTIiwiRU1QVFkiLCJpc1ByZWFjdEVsZW1lbnQiLCJfX3ByZWFjdGF0dHJfIiwiZm9yIiwibG9jYXRpb24iLCJnZXRDdXJyZW50TG9jYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaCIsImNhblJvdXRlIiwiaGlzdG9yeSIsInNldFVybCIsInJvdXRlVG8iLCJkaWRSb3V0ZSIsImkkMSIsInJvdXRlRnJvbUxpbmsiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsImhhbmRsZUxpbmtDbGljayIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJwcmV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJkZWxlZ2F0ZUxpbmtIYW5kbGVyIiwiY3RybEtleSIsIm1ldGFLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsInRvVXBwZXJDYXNlIiwiaGFzQXR0cmlidXRlIiwiZXZlbnRMaXN0ZW5lcnNJbml0aWFsaXplZCIsIkNvbXBvbmVudCQkMSIsInN0YXRpYyIsIm9uQ2hhbmdlIiwiZ2V0TWF0Y2hpbmdDaGlsZHJlbiIsIl9kaWRSb3V0ZSIsInVwZGF0aW5nIiwidGhpcyQxIiwidW5saXN0ZW4iLCJsaXN0ZW4iLCJpbnZva2UiLCJtYXRjaGVzIiwicmVnIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyYW0iLCJmbGFncyIsInBsdXMiLCJzdGFyIiwidmFsIiwiZXhlYyIsInJlZiQxIiwiYWN0aXZlIiwiY3VycmVudCIsInByZXZpb3VzIiwicHJldmlvdXNVcmwiLCJyb3V0ZXIiLCJvbkNsaWNrIiwiZyIsImV2YWwiLCJBcHBTdGF0ZSIsIm1vYnhfMSIsIkFwcFN0YXRlU3RvcmUiLCJjdXJyZW50U3RhdGUiLCJMT0FESU5HIiwiX19kZWNvcmF0ZSIsIm9ic2VydmFibGUiLCJhcHBTdGF0ZSIsInByZWFjdF8xIiwiYXBwXzEiLCJobXIiLCJsb2NhbHMiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCIkMSIsInByZWFjdF9yb3V0ZXJfMSIsImJvb3RzdHJhcF8xIiwibW9ieF9wcm92aWRlcl8xIiwiYmFzZV9yb3V0ZV8xIiwiZGlnaV9ncmlkX2JhY2tncm91bmRfMSIsIkFwcCIsIm1vYnhfcHJlYWN0XzEiLCJhcGlfc2VydmljZV8xIiwiQm9vdHN0cmFwIiwic3RvcmVDaGFyYWN0ZXJzIiwiZGF0YSIsImNoZWNrVG9rZW4iLCJsb2FkQ2hhcmFjdGVycyIsImhhbmRsZURhdGFMb2FkRXJyb3IiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwidG9rZW5fc3RvcmVfMSIsImNoYXJhY3Rlcl9zdG9yZV8xIiwiYXBwX3N0YXRlX3N0b3JlXzEiLCJUb2tlblN0b3JlIiwicmV0cmlldmVMb2NhbFRva2VuIiwiTE9DQUxfU1RPUkFHRV9LRVkiLCJzZXRUb2tlbiIsInNldEl0ZW0iLCJDaGFyYWN0ZXJTdG9yZSIsInJldHJpZXZlTG9jYWxMaXN0IiwicGFyc2UiLCJMSVNUX0xPQ0FMX1NUT1JBR0VfS0VZIiwic2V0Q2hhcmFjdGVyTGlzdCIsImZpbmQiLCJnZXRDaGFyYWN0ZXJJZCIsInVwZGF0ZWQiLCJmaW5kSW5kZXgiLCJwZXJzaXN0QWN0aXZlIiwicGF0aEVsZW1lbnRzIiwiQUNUSVZFX0xPQ0FMX1NUT1JBR0VfS0VZIiwiVVBEQVRFX0RFTEFZIiwiY29tcHV0ZWQiLCJUSFJFRSIsImxvZ28iLCJCYWNrZ3JvdW5kIiwidGltZSIsInN0b3BBbmltYXRvciIsInJ1bkdsIiwiY29tcGF0aWJpbGl0eUNoZWNrIiwibG9hZERlcGVuZGVuY2llcyIsImluaXRpYWxpemUiLCJzZXRDYW1lcmEiLCJtYWtlR2VvbWV0cnkiLCJpbml0aWFsaXplTGlnaHRpbmciLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlcmVyIiwiZG9tRWxlbWVudCIsImRyaXZpbmdGdW5jdGlvbiIsImxvYWRpbmdDYW1lcmEiLCJhbmltYXRlIiwiTE9BRElOR19DT01QTEVURSIsImxvZ29UZXh0dXJlIiwiVGV4dHVyZUxvYWRlciIsImxvYWQiLCJjYW52YXMiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJnZXRDb250ZXh0Iiwic2NlbmUiLCJTY2VuZSIsImZvZyIsIkZvZ0V4cDIiLCJiYWNrZ3JvdW5kIiwiQ29sb3IiLCJXZWJHTFJlbmRlcmVyIiwiYWxwaGEiLCJzaGFkb3dNYXAiLCJlbmFibGVkIiwiUENGU29mdFNoYWRvd01hcCIsInNldFNpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJvbldpbmRvd1Jlc2l6ZSIsInNvcnRPYmplY3RzIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsIkJhY2tncm91bmRfMSIsIkNBTUVSQV9QT1NJVElPTl9YIiwieSIsIkNBTUVSQV9QT1NJVElPTl9ZIiwieiIsIkNBTUVSQV9QT1NJVElPTl9aIiwibG9va0F0IiwiVmVjdG9yMyIsInNwb3RsaWdodCIsIlNwb3RMaWdodCIsImNhc3RTaGFkb3ciLCJzaGFkb3ciLCJtYXBTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJuZWFyIiwiZmFyIiwiZnJvbnRMaWdodCIsIkRpcmVjdGlvbmFsTGlnaHQiLCJhbWJpZW50TGlnaHQiLCJBbWJpZW50TGlnaHQiLCJhY2NlbnRMaWdodCIsInNpbiIsImNvcyIsImNvbmZpZ3VyZUhvbWVMaWdodGluZyIsImludGVuc2l0eSIsImxpZ2h0c0FyZUhvbWUiLCJzcG90bGlnaHRJc0hvbWUiLCJhYnMiLCJob21lUG9zaXRpb24iLCJtb3ZlTG9nbyIsImxvZ29Hcm91cCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpZ2lHcmlkIiwibG9nb0dlbyIsIlBsYW5lQnVmZmVyR2VvbWV0cnkiLCJsb2dvTWF0IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJjb2xvciIsInRyYW5zcGFyZW50IiwiTWVzaCIsInBlZE1hdCIsInBlZEdlbyIsIkN5bGluZGVyQnVmZmVyR2VvbWV0cnkiLCJsb2dvUGVkZXN0YWwiLCJyb3RhdGlvbiIsIlBJIiwiR3JvdXAiLCJncm91bmRHZW8iLCJncm91bmRNYXQiLCJncm91bmQiLCJyZWNlaXZlU2hhZG93IiwiQU1CSUVOVF9DT0xPUiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFB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a0MsRUFBdUIiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJ2YXIgVk5vZGUgPSBmdW5jdGlvbiBWTm9kZSgpIHt9O1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG52YXIgc3RhY2sgPSBbXTtcblxudmFyIEVNUFRZX0NISUxEUkVOID0gW107XG5cbmZ1bmN0aW9uIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0dmFyIGNoaWxkcmVuID0gRU1QVFlfQ0hJTERSRU4sXG5cdCAgICBsYXN0U2ltcGxlLFxuXHQgICAgY2hpbGQsXG5cdCAgICBzaW1wbGUsXG5cdCAgICBpO1xuXHRmb3IgKGkgPSBhcmd1bWVudHMubGVuZ3RoOyBpLS0gPiAyOykge1xuXHRcdHN0YWNrLnB1c2goYXJndW1lbnRzW2ldKTtcblx0fVxuXHRpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRpZiAoIXN0YWNrLmxlbmd0aCkgc3RhY2sucHVzaChhdHRyaWJ1dGVzLmNoaWxkcmVuKTtcblx0XHRkZWxldGUgYXR0cmlidXRlcy5jaGlsZHJlbjtcblx0fVxuXHR3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG5cdFx0aWYgKChjaGlsZCA9IHN0YWNrLnBvcCgpKSAmJiBjaGlsZC5wb3AgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yIChpID0gY2hpbGQubGVuZ3RoOyBpLS07KSB7XG5cdFx0XHRcdHN0YWNrLnB1c2goY2hpbGRbaV0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIGNoaWxkID09PSAnYm9vbGVhbicpIGNoaWxkID0gbnVsbDtcblxuXHRcdFx0aWYgKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRpZiAoY2hpbGQgPT0gbnVsbCkgY2hpbGQgPSAnJztlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdudW1iZXInKSBjaGlsZCA9IFN0cmluZyhjaGlsZCk7ZWxzZSBpZiAodHlwZW9mIGNoaWxkICE9PSAnc3RyaW5nJykgc2ltcGxlID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkge1xuXHRcdFx0XHRjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSArPSBjaGlsZDtcblx0XHRcdH0gZWxzZSBpZiAoY2hpbGRyZW4gPT09IEVNUFRZX0NISUxEUkVOKSB7XG5cdFx0XHRcdGNoaWxkcmVuID0gW2NoaWxkXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gc2ltcGxlO1xuXHRcdH1cblx0fVxuXG5cdHZhciBwID0gbmV3IFZOb2RlKCk7XG5cdHAubm9kZU5hbWUgPSBub2RlTmFtZTtcblx0cC5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHRwLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzID09IG51bGwgPyB1bmRlZmluZWQgOiBhdHRyaWJ1dGVzO1xuXHRwLmtleSA9IGF0dHJpYnV0ZXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGF0dHJpYnV0ZXMua2V5O1xuXG5cdGlmIChvcHRpb25zLnZub2RlICE9PSB1bmRlZmluZWQpIG9wdGlvbnMudm5vZGUocCk7XG5cblx0cmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChvYmosIHByb3BzKSB7XG4gIGZvciAodmFyIGkgaW4gcHJvcHMpIHtcbiAgICBvYmpbaV0gPSBwcm9wc1tpXTtcbiAgfXJldHVybiBvYmo7XG59XG5cbnZhciBkZWZlciA9IHR5cGVvZiBQcm9taXNlID09ICdmdW5jdGlvbicgPyBQcm9taXNlLnJlc29sdmUoKS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpIDogc2V0VGltZW91dDtcblxuZnVuY3Rpb24gY2xvbmVFbGVtZW50KHZub2RlLCBwcm9wcykge1xuICByZXR1cm4gaCh2bm9kZS5ub2RlTmFtZSwgZXh0ZW5kKGV4dGVuZCh7fSwgdm5vZGUuYXR0cmlidXRlcyksIHByb3BzKSwgYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikgOiB2bm9kZS5jaGlsZHJlbik7XG59XG5cbnZhciBJU19OT05fRElNRU5TSU9OQUwgPSAvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmQvaTtcblxudmFyIGl0ZW1zID0gW107XG5cbmZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSAmJiAoY29tcG9uZW50Ll9kaXJ0eSA9IHRydWUpICYmIGl0ZW1zLnB1c2goY29tcG9uZW50KSA9PSAxKSB7XG5cdFx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgZGVmZXIpKHJlcmVuZGVyKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZXJlbmRlcigpIHtcblx0dmFyIHAsXG5cdCAgICBsaXN0ID0gaXRlbXM7XG5cdGl0ZW1zID0gW107XG5cdHdoaWxlIChwID0gbGlzdC5wb3AoKSkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU5vZGVUeXBlKG5vZGUsIHZub2RlLCBoeWRyYXRpbmcpIHtcblx0aWYgKHR5cGVvZiB2bm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZub2RlID09PSAnbnVtYmVyJykge1xuXHRcdHJldHVybiBub2RlLnNwbGl0VGV4dCAhPT0gdW5kZWZpbmVkO1xuXHR9XG5cdGlmICh0eXBlb2Ygdm5vZGUubm9kZU5hbWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuICFub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciAmJiBpc05hbWVkTm9kZShub2RlLCB2bm9kZS5ub2RlTmFtZSk7XG5cdH1cblx0cmV0dXJuIGh5ZHJhdGluZyB8fCBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWU7XG59XG5cbmZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9PT0gbm9kZU5hbWUgfHwgbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBnZXROb2RlUHJvcHModm5vZGUpIHtcblx0dmFyIHByb3BzID0gZXh0ZW5kKHt9LCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0cHJvcHMuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblxuXHR2YXIgZGVmYXVsdFByb3BzID0gdm5vZGUubm9kZU5hbWUuZGVmYXVsdFByb3BzO1xuXHRpZiAoZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcblx0XHRmb3IgKHZhciBpIGluIGRlZmF1bHRQcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cHJvcHNbaV0gPSBkZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Zykge1xuXHR2YXIgbm9kZSA9IGlzU3ZnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5vZGVOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5vZGVOYW1lO1xuXHRyZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdHZhciBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuZnVuY3Rpb24gc2V0QWNjZXNzb3Iobm9kZSwgbmFtZSwgb2xkLCB2YWx1ZSwgaXNTdmcpIHtcblx0aWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSBuYW1lID0gJ2NsYXNzJztcblxuXHRpZiAobmFtZSA9PT0gJ2tleScpIHt9IGVsc2UgaWYgKG5hbWUgPT09ICdyZWYnKSB7XG5cdFx0aWYgKG9sZCkgb2xkKG51bGwpO1xuXHRcdGlmICh2YWx1ZSkgdmFsdWUobm9kZSk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsYXNzJyAmJiAhaXNTdmcpIHtcblx0XHRub2RlLmNsYXNzTmFtZSA9IHZhbHVlIHx8ICcnO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICdzdHlsZScpIHtcblx0XHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9sZCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0aWYgKHR5cGVvZiBvbGQgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgaW4gb2xkKSB7XG5cdFx0XHRcdFx0aWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRub2RlLnN0eWxlW2ldID0gdHlwZW9mIHZhbHVlW2ldID09PSAnbnVtYmVyJyAmJiBJU19OT05fRElNRU5TSU9OQUwudGVzdChpKSA9PT0gZmFsc2UgPyB2YWx1ZVtpXSArICdweCcgOiB2YWx1ZVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdGlmICh2YWx1ZSkgbm9kZS5pbm5lckhUTUwgPSB2YWx1ZS5fX2h0bWwgfHwgJyc7XG5cdH0gZWxzZSBpZiAobmFtZVswXSA9PSAnbycgJiYgbmFtZVsxXSA9PSAnbicpIHtcblx0XHR2YXIgdXNlQ2FwdHVyZSA9IG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9DYXB0dXJlJC8sICcnKSk7XG5cdFx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMik7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIW9sZCkgbm9kZS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fVxuXHRcdChub2RlLl9saXN0ZW5lcnMgfHwgKG5vZGUuX2xpc3RlbmVycyA9IHt9KSlbbmFtZV0gPSB2YWx1ZTtcblx0fSBlbHNlIGlmIChuYW1lICE9PSAnbGlzdCcgJiYgbmFtZSAhPT0gJ3R5cGUnICYmICFpc1N2ZyAmJiBuYW1lIGluIG5vZGUpIHtcblx0XHR0cnkge1xuXHRcdFx0bm9kZVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuXHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0aWYgKCh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkgJiYgbmFtZSAhPSAnc3BlbGxjaGVjaycpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBucyA9IGlzU3ZnICYmIG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9eeGxpbms6Py8sICcnKSk7XG5cblx0XHRpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIG5hbWUudG9Mb3dlckNhc2UoKSk7ZWxzZSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKG5zKSBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgbmFtZS50b0xvd2VyQ2FzZSgpLCB2YWx1ZSk7ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHRyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50KGUpIHx8IGUpO1xufVxuXG52YXIgbW91bnRzID0gW107XG5cbnZhciBkaWZmTGV2ZWwgPSAwO1xuXG52YXIgaXNTdmdNb2RlID0gZmFsc2U7XG5cbnZhciBoeWRyYXRpbmcgPSBmYWxzZTtcblxuZnVuY3Rpb24gZmx1c2hNb3VudHMoKSB7XG5cdHZhciBjO1xuXHR3aGlsZSAoYyA9IG1vdW50cy5wb3AoKSkge1xuXHRcdGlmIChvcHRpb25zLmFmdGVyTW91bnQpIG9wdGlvbnMuYWZ0ZXJNb3VudChjKTtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIHBhcmVudCwgY29tcG9uZW50Um9vdCkge1xuXHRpZiAoIWRpZmZMZXZlbCsrKSB7XG5cdFx0aXNTdmdNb2RlID0gcGFyZW50ICE9IG51bGwgJiYgcGFyZW50Lm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkO1xuXG5cdFx0aHlkcmF0aW5nID0gZG9tICE9IG51bGwgJiYgISgnX19wcmVhY3RhdHRyXycgaW4gZG9tKTtcblx0fVxuXG5cdHZhciByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgY29tcG9uZW50Um9vdCk7XG5cblx0aWYgKHBhcmVudCAmJiByZXQucGFyZW50Tm9kZSAhPT0gcGFyZW50KSBwYXJlbnQuYXBwZW5kQ2hpbGQocmV0KTtcblxuXHRpZiAoISAtLWRpZmZMZXZlbCkge1xuXHRcdGh5ZHJhdGluZyA9IGZhbHNlO1xuXG5cdFx0aWYgKCFjb21wb25lbnRSb290KSBmbHVzaE1vdW50cygpO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIGNvbXBvbmVudFJvb3QpIHtcblx0dmFyIG91dCA9IGRvbSxcblx0ICAgIHByZXZTdmdNb2RlID0gaXNTdmdNb2RlO1xuXG5cdGlmICh2bm9kZSA9PSBudWxsIHx8IHR5cGVvZiB2bm9kZSA9PT0gJ2Jvb2xlYW4nKSB2bm9kZSA9ICcnO1xuXG5cdGlmICh0eXBlb2Ygdm5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2bm9kZSA9PT0gJ251bWJlcicpIHtcblx0XHRpZiAoZG9tICYmIGRvbS5zcGxpdFRleHQgIT09IHVuZGVmaW5lZCAmJiBkb20ucGFyZW50Tm9kZSAmJiAoIWRvbS5fY29tcG9uZW50IHx8IGNvbXBvbmVudFJvb3QpKSB7XG5cdFx0XHRpZiAoZG9tLm5vZGVWYWx1ZSAhPSB2bm9kZSkge1xuXHRcdFx0XHRkb20ubm9kZVZhbHVlID0gdm5vZGU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdG91dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZub2RlKTtcblx0XHRcdGlmIChkb20pIHtcblx0XHRcdFx0aWYgKGRvbS5wYXJlbnROb2RlKSBkb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQob3V0LCBkb20pO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20sIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG91dFsnX19wcmVhY3RhdHRyXyddID0gdHJ1ZTtcblxuXHRcdHJldHVybiBvdXQ7XG5cdH1cblxuXHR2YXIgdm5vZGVOYW1lID0gdm5vZGUubm9kZU5hbWU7XG5cdGlmICh0eXBlb2Ygdm5vZGVOYW1lID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlzU3ZnTW9kZSA9IHZub2RlTmFtZSA9PT0gJ3N2ZycgPyB0cnVlIDogdm5vZGVOYW1lID09PSAnZm9yZWlnbk9iamVjdCcgPyBmYWxzZSA6IGlzU3ZnTW9kZTtcblxuXHR2bm9kZU5hbWUgPSBTdHJpbmcodm5vZGVOYW1lKTtcblx0aWYgKCFkb20gfHwgIWlzTmFtZWROb2RlKGRvbSwgdm5vZGVOYW1lKSkge1xuXHRcdG91dCA9IGNyZWF0ZU5vZGUodm5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXG5cdFx0aWYgKGRvbSkge1xuXHRcdFx0d2hpbGUgKGRvbS5maXJzdENoaWxkKSB7XG5cdFx0XHRcdG91dC5hcHBlbmRDaGlsZChkb20uZmlyc3RDaGlsZCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZG9tLnBhcmVudE5vZGUpIGRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvdXQsIGRvbSk7XG5cblx0XHRcdHJlY29sbGVjdE5vZGVUcmVlKGRvbSwgdHJ1ZSk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGZjID0gb3V0LmZpcnN0Q2hpbGQsXG5cdCAgICBwcm9wcyA9IG91dFsnX19wcmVhY3RhdHRyXyddLFxuXHQgICAgdmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0aWYgKHByb3BzID09IG51bGwpIHtcblx0XHRwcm9wcyA9IG91dFsnX19wcmVhY3RhdHRyXyddID0ge307XG5cdFx0Zm9yICh2YXIgYSA9IG91dC5hdHRyaWJ1dGVzLCBpID0gYS5sZW5ndGg7IGktLTspIHtcblx0XHRcdHByb3BzW2FbaV0ubmFtZV0gPSBhW2ldLnZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdGlmICghaHlkcmF0aW5nICYmIHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIHR5cGVvZiB2Y2hpbGRyZW5bMF0gPT09ICdzdHJpbmcnICYmIGZjICE9IG51bGwgJiYgZmMuc3BsaXRUZXh0ICE9PSB1bmRlZmluZWQgJiYgZmMubmV4dFNpYmxpbmcgPT0gbnVsbCkge1xuXHRcdGlmIChmYy5ub2RlVmFsdWUgIT0gdmNoaWxkcmVuWzBdKSB7XG5cdFx0XHRmYy5ub2RlVmFsdWUgPSB2Y2hpbGRyZW5bMF07XG5cdFx0fVxuXHR9IGVsc2UgaWYgKHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoIHx8IGZjICE9IG51bGwpIHtcblx0XHRcdGlubmVyRGlmZk5vZGUob3V0LCB2Y2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsLCBoeWRyYXRpbmcgfHwgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT0gbnVsbCk7XG5cdFx0fVxuXG5cdGRpZmZBdHRyaWJ1dGVzKG91dCwgdm5vZGUuYXR0cmlidXRlcywgcHJvcHMpO1xuXG5cdGlzU3ZnTW9kZSA9IHByZXZTdmdNb2RlO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGlubmVyRGlmZk5vZGUoZG9tLCB2Y2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsLCBpc0h5ZHJhdGluZykge1xuXHR2YXIgb3JpZ2luYWxDaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzLFxuXHQgICAgY2hpbGRyZW4gPSBbXSxcblx0ICAgIGtleWVkID0ge30sXG5cdCAgICBrZXllZExlbiA9IDAsXG5cdCAgICBtaW4gPSAwLFxuXHQgICAgbGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdCAgICBjaGlsZHJlbkxlbiA9IDAsXG5cdCAgICB2bGVuID0gdmNoaWxkcmVuID8gdmNoaWxkcmVuLmxlbmd0aCA6IDAsXG5cdCAgICBqLFxuXHQgICAgYyxcblx0ICAgIGYsXG5cdCAgICB2Y2hpbGQsXG5cdCAgICBjaGlsZDtcblxuXHRpZiAobGVuICE9PSAwKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dmFyIF9jaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHQgICAgcHJvcHMgPSBfY2hpbGRbJ19fcHJlYWN0YXR0cl8nXSxcblx0XHRcdCAgICBrZXkgPSB2bGVuICYmIHByb3BzID8gX2NoaWxkLl9jb21wb25lbnQgPyBfY2hpbGQuX2NvbXBvbmVudC5fX2tleSA6IHByb3BzLmtleSA6IG51bGw7XG5cdFx0XHRpZiAoa2V5ICE9IG51bGwpIHtcblx0XHRcdFx0a2V5ZWRMZW4rKztcblx0XHRcdFx0a2V5ZWRba2V5XSA9IF9jaGlsZDtcblx0XHRcdH0gZWxzZSBpZiAocHJvcHMgfHwgKF9jaGlsZC5zcGxpdFRleHQgIT09IHVuZGVmaW5lZCA/IGlzSHlkcmF0aW5nID8gX2NoaWxkLm5vZGVWYWx1ZS50cmltKCkgOiB0cnVlIDogaXNIeWRyYXRpbmcpKSB7XG5cdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuTGVuKytdID0gX2NoaWxkO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICh2bGVuICE9PSAwKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0dmFyIGtleSA9IHZjaGlsZC5rZXk7XG5cdFx0XHRpZiAoa2V5ICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKGtleWVkTGVuICYmIGtleWVkW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNoaWxkID0ga2V5ZWRba2V5XTtcblx0XHRcdFx0XHRrZXllZFtrZXldID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGtleWVkTGVuLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAobWluIDwgY2hpbGRyZW5MZW4pIHtcblx0XHRcdFx0XHRmb3IgKGogPSBtaW47IGogPCBjaGlsZHJlbkxlbjsgaisrKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2hpbGRyZW5bal0gIT09IHVuZGVmaW5lZCAmJiBpc1NhbWVOb2RlVHlwZShjID0gY2hpbGRyZW5bal0sIHZjaGlsZCwgaXNIeWRyYXRpbmcpKSB7XG5cdFx0XHRcdFx0XHRcdGNoaWxkID0gYztcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmIChqID09PSBjaGlsZHJlbkxlbiAtIDEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRcdGlmIChqID09PSBtaW4pIG1pbisrO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGYgPSBvcmlnaW5hbENoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKGNoaWxkICYmIGNoaWxkICE9PSBkb20gJiYgY2hpbGQgIT09IGYpIHtcblx0XHRcdFx0aWYgKGYgPT0gbnVsbCkge1xuXHRcdFx0XHRcdGRvbS5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY2hpbGQgPT09IGYubmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0XHRyZW1vdmVOb2RlKGYpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRvbS5pbnNlcnRCZWZvcmUoY2hpbGQsIGYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGtleWVkTGVuKSB7XG5cdFx0Zm9yICh2YXIgaSBpbiBrZXllZCkge1xuXHRcdFx0aWYgKGtleWVkW2ldICE9PSB1bmRlZmluZWQpIHJlY29sbGVjdE5vZGVUcmVlKGtleWVkW2ldLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0d2hpbGUgKG1pbiA8PSBjaGlsZHJlbkxlbikge1xuXHRcdGlmICgoY2hpbGQgPSBjaGlsZHJlbltjaGlsZHJlbkxlbi0tXSkgIT09IHVuZGVmaW5lZCkgcmVjb2xsZWN0Tm9kZVRyZWUoY2hpbGQsIGZhbHNlKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHR2YXIgY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50O1xuXHRpZiAoY29tcG9uZW50KSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChjb21wb25lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChub2RlWydfX3ByZWFjdGF0dHJfJ10gIT0gbnVsbCAmJiBub2RlWydfX3ByZWFjdGF0dHJfJ10ucmVmKSBub2RlWydfX3ByZWFjdGF0dHJfJ10ucmVmKG51bGwpO1xuXG5cdFx0aWYgKHVubW91bnRPbmx5ID09PSBmYWxzZSB8fCBub2RlWydfX3ByZWFjdGF0dHJfJ10gPT0gbnVsbCkge1xuXHRcdFx0cmVtb3ZlTm9kZShub2RlKTtcblx0XHR9XG5cblx0XHRyZW1vdmVDaGlsZHJlbihub2RlKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVDaGlsZHJlbihub2RlKSB7XG5cdG5vZGUgPSBub2RlLmxhc3RDaGlsZDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR2YXIgbmV4dCA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuXHRcdHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHRydWUpO1xuXHRcdG5vZGUgPSBuZXh0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRpZmZBdHRyaWJ1dGVzKGRvbSwgYXR0cnMsIG9sZCkge1xuXHR2YXIgbmFtZTtcblxuXHRmb3IgKG5hbWUgaW4gb2xkKSB7XG5cdFx0aWYgKCEoYXR0cnMgJiYgYXR0cnNbbmFtZV0gIT0gbnVsbCkgJiYgb2xkW25hbWVdICE9IG51bGwpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgb2xkW25hbWVdLCBvbGRbbmFtZV0gPSB1bmRlZmluZWQsIGlzU3ZnTW9kZSk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yIChuYW1lIGluIGF0dHJzKSB7XG5cdFx0aWYgKG5hbWUgIT09ICdjaGlsZHJlbicgJiYgbmFtZSAhPT0gJ2lubmVySFRNTCcgJiYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdICE9PSAobmFtZSA9PT0gJ3ZhbHVlJyB8fCBuYW1lID09PSAnY2hlY2tlZCcgPyBkb21bbmFtZV0gOiBvbGRbbmFtZV0pKSkge1xuXHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBvbGRbbmFtZV0sIG9sZFtuYW1lXSA9IGF0dHJzW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxufVxuXG52YXIgcmVjeWNsZXJDb21wb25lbnRzID0gW107XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHR2YXIgaW5zdCxcblx0ICAgIGkgPSByZWN5Y2xlckNvbXBvbmVudHMubGVuZ3RoO1xuXG5cdGlmIChDdG9yLnByb3RvdHlwZSAmJiBDdG9yLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRpbnN0ID0gbmV3IEN0b3IocHJvcHMsIGNvbnRleHQpO1xuXHRcdENvbXBvbmVudC5jYWxsKGluc3QsIHByb3BzLCBjb250ZXh0KTtcblx0fSBlbHNlIHtcblx0XHRpbnN0ID0gbmV3IENvbXBvbmVudChwcm9wcywgY29udGV4dCk7XG5cdFx0aW5zdC5jb25zdHJ1Y3RvciA9IEN0b3I7XG5cdFx0aW5zdC5yZW5kZXIgPSBkb1JlbmRlcjtcblx0fVxuXG5cdHdoaWxlIChpLS0pIHtcblx0XHRpZiAocmVjeWNsZXJDb21wb25lbnRzW2ldLmNvbnN0cnVjdG9yID09PSBDdG9yKSB7XG5cdFx0XHRpbnN0Lm5leHRCYXNlID0gcmVjeWNsZXJDb21wb25lbnRzW2ldLm5leHRCYXNlO1xuXHRcdFx0cmVjeWNsZXJDb21wb25lbnRzLnNwbGljZShpLCAxKTtcblx0XHRcdHJldHVybiBpbnN0O1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBpbnN0O1xufVxuXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuXG5mdW5jdGlvbiBzZXRDb21wb25lbnRQcm9wcyhjb21wb25lbnQsIHByb3BzLCByZW5kZXJNb2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRpZiAoY29tcG9uZW50Ll9kaXNhYmxlKSByZXR1cm47XG5cdGNvbXBvbmVudC5fZGlzYWJsZSA9IHRydWU7XG5cblx0Y29tcG9uZW50Ll9fcmVmID0gcHJvcHMucmVmO1xuXHRjb21wb25lbnQuX19rZXkgPSBwcm9wcy5rZXk7XG5cdGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGRlbGV0ZSBwcm9wcy5rZXk7XG5cblx0aWYgKHR5cGVvZiBjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAndW5kZWZpbmVkJykge1xuXHRcdGlmICghY29tcG9uZW50LmJhc2UgfHwgbW91bnRBbGwpIHtcblx0XHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0fSBlbHNlIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykge1xuXHRcdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChjb250ZXh0ICYmIGNvbnRleHQgIT09IGNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlID0gZmFsc2U7XG5cblx0aWYgKHJlbmRlck1vZGUgIT09IDApIHtcblx0XHRpZiAocmVuZGVyTW9kZSA9PT0gMSB8fCBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzICE9PSBmYWxzZSB8fCAhY29tcG9uZW50LmJhc2UpIHtcblx0XHRcdHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIDEsIG1vdW50QWxsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihjb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCByZW5kZXJNb2RlLCBtb3VudEFsbCwgaXNDaGlsZCkge1xuXHRpZiAoY29tcG9uZW50Ll9kaXNhYmxlKSByZXR1cm47XG5cblx0dmFyIHByb3BzID0gY29tcG9uZW50LnByb3BzLFxuXHQgICAgc3RhdGUgPSBjb21wb25lbnQuc3RhdGUsXG5cdCAgICBjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdCAgICBwcmV2aW91c1Byb3BzID0gY29tcG9uZW50LnByZXZQcm9wcyB8fCBwcm9wcyxcblx0ICAgIHByZXZpb3VzU3RhdGUgPSBjb21wb25lbnQucHJldlN0YXRlIHx8IHN0YXRlLFxuXHQgICAgcHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdCAgICBpc1VwZGF0ZSA9IGNvbXBvbmVudC5iYXNlLFxuXHQgICAgbmV4dEJhc2UgPSBjb21wb25lbnQubmV4dEJhc2UsXG5cdCAgICBpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IG5leHRCYXNlLFxuXHQgICAgaW5pdGlhbENoaWxkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9jb21wb25lbnQsXG5cdCAgICBza2lwID0gZmFsc2UsXG5cdCAgICBzbmFwc2hvdCA9IHByZXZpb3VzQ29udGV4dCxcblx0ICAgIHJlbmRlcmVkLFxuXHQgICAgaW5zdCxcblx0ICAgIGNiYXNlO1xuXG5cdGlmIChjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKSB7XG5cdFx0c3RhdGUgPSBleHRlbmQoZXh0ZW5kKHt9LCBzdGF0ZSksIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSk7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gc3RhdGU7XG5cdH1cblxuXHRpZiAoaXNVcGRhdGUpIHtcblx0XHRjb21wb25lbnQucHJvcHMgPSBwcmV2aW91c1Byb3BzO1xuXHRcdGNvbXBvbmVudC5zdGF0ZSA9IHByZXZpb3VzU3RhdGU7XG5cdFx0Y29tcG9uZW50LmNvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG5cdFx0aWYgKHJlbmRlck1vZGUgIT09IDIgJiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCkgPT09IGZhbHNlKSB7XG5cdFx0XHRza2lwID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRyZW5kZXJlZCA9IGNvbXBvbmVudC5yZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblxuXHRcdGlmIChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRjb250ZXh0ID0gZXh0ZW5kKGV4dGVuZCh7fSwgY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0aWYgKGlzVXBkYXRlICYmIGNvbXBvbmVudC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSkge1xuXHRcdFx0c25hcHNob3QgPSBjb21wb25lbnQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSk7XG5cdFx0fVxuXG5cdFx0dmFyIGNoaWxkQ29tcG9uZW50ID0gcmVuZGVyZWQgJiYgcmVuZGVyZWQubm9kZU5hbWUsXG5cdFx0ICAgIHRvVW5tb3VudCxcblx0XHQgICAgYmFzZTtcblxuXHRcdGlmICh0eXBlb2YgY2hpbGRDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0dmFyIGNoaWxkUHJvcHMgPSBnZXROb2RlUHJvcHMocmVuZGVyZWQpO1xuXHRcdFx0aW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblxuXHRcdFx0aWYgKGluc3QgJiYgaW5zdC5jb25zdHJ1Y3RvciA9PT0gY2hpbGRDb21wb25lbnQgJiYgY2hpbGRQcm9wcy5rZXkgPT0gaW5zdC5fX2tleSkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAxLCBjb250ZXh0LCBmYWxzZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0b1VubW91bnQgPSBpbnN0O1xuXG5cdFx0XHRcdGNvbXBvbmVudC5fY29tcG9uZW50ID0gaW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QubmV4dEJhc2UgPSBpbnN0Lm5leHRCYXNlIHx8IG5leHRCYXNlO1xuXHRcdFx0XHRpbnN0Ll9wYXJlbnRDb21wb25lbnQgPSBjb21wb25lbnQ7XG5cdFx0XHRcdHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDAsIGNvbnRleHQsIGZhbHNlKTtcblx0XHRcdFx0cmVuZGVyQ29tcG9uZW50KGluc3QsIDEsIG1vdW50QWxsLCB0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0YmFzZSA9IGluc3QuYmFzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2Jhc2UgPSBpbml0aWFsQmFzZTtcblxuXHRcdFx0dG9Vbm1vdW50ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXHRcdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0XHRjYmFzZSA9IGNvbXBvbmVudC5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGluaXRpYWxCYXNlIHx8IHJlbmRlck1vZGUgPT09IDEpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUsIGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlICE9PSBpbml0aWFsQmFzZSAmJiBpbnN0ICE9PSBpbml0aWFsQ2hpbGRDb21wb25lbnQpIHtcblx0XHRcdHZhciBiYXNlUGFyZW50ID0gaW5pdGlhbEJhc2UucGFyZW50Tm9kZTtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UgIT09IGJhc2VQYXJlbnQpIHtcblx0XHRcdFx0YmFzZVBhcmVudC5yZXBsYWNlQ2hpbGQoYmFzZSwgaW5pdGlhbEJhc2UpO1xuXG5cdFx0XHRcdGlmICghdG9Vbm1vdW50KSB7XG5cdFx0XHRcdFx0aW5pdGlhbEJhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUoaW5pdGlhbEJhc2UsIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdHVubW91bnRDb21wb25lbnQodG9Vbm1vdW50KTtcblx0XHR9XG5cblx0XHRjb21wb25lbnQuYmFzZSA9IGJhc2U7XG5cdFx0aWYgKGJhc2UgJiYgIWlzQ2hpbGQpIHtcblx0XHRcdHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnQsXG5cdFx0XHQgICAgdCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICh0ID0gdC5fcGFyZW50Q29tcG9uZW50KSB7XG5cdFx0XHRcdChjb21wb25lbnRSZWYgPSB0KS5iYXNlID0gYmFzZTtcblx0XHRcdH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblx0fVxuXG5cdGlmICghaXNVcGRhdGUgfHwgbW91bnRBbGwpIHtcblx0XHRtb3VudHMudW5zaGlmdChjb21wb25lbnQpO1xuXHR9IGVsc2UgaWYgKCFza2lwKSB7XG5cblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdFx0Y29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1Byb3BzLCBwcmV2aW91c1N0YXRlLCBzbmFwc2hvdCk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLmFmdGVyVXBkYXRlKSBvcHRpb25zLmFmdGVyVXBkYXRlKGNvbXBvbmVudCk7XG5cdH1cblxuXHR3aGlsZSAoY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Y29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MucG9wKCkuY2FsbChjb21wb25lbnQpO1xuXHR9aWYgKCFkaWZmTGV2ZWwgJiYgIWlzQ2hpbGQpIGZsdXNoTW91bnRzKCk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdHZhciBjID0gZG9tICYmIGRvbS5fY29tcG9uZW50LFxuXHQgICAgb3JpZ2luYWxDb21wb25lbnQgPSBjLFxuXHQgICAgb2xkRG9tID0gZG9tLFxuXHQgICAgaXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUsXG5cdCAgICBpc093bmVyID0gaXNEaXJlY3RPd25lcixcblx0ICAgIHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGMgPSBjLl9wYXJlbnRDb21wb25lbnQpKSB7XG5cdFx0aXNPd25lciA9IGMuY29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lO1xuXHR9XG5cblx0aWYgKGMgJiYgaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMywgY29udGV4dCwgbW91bnRBbGwpO1xuXHRcdGRvbSA9IGMuYmFzZTtcblx0fSBlbHNlIHtcblx0XHRpZiAob3JpZ2luYWxDb21wb25lbnQgJiYgIWlzRGlyZWN0T3duZXIpIHtcblx0XHRcdHVubW91bnRDb21wb25lbnQob3JpZ2luYWxDb21wb25lbnQpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkge1xuXHRcdFx0Yy5uZXh0QmFzZSA9IGRvbTtcblxuXHRcdFx0b2xkRG9tID0gbnVsbDtcblx0XHR9XG5cdFx0c2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDEsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSAhPT0gb2xkRG9tKSB7XG5cdFx0XHRvbGREb20uX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShvbGREb20sIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRpZiAob3B0aW9ucy5iZWZvcmVVbm1vdW50KSBvcHRpb25zLmJlZm9yZVVubW91bnQoY29tcG9uZW50KTtcblxuXHR2YXIgYmFzZSA9IGNvbXBvbmVudC5iYXNlO1xuXG5cdGNvbXBvbmVudC5fZGlzYWJsZSA9IHRydWU7XG5cblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cblx0Y29tcG9uZW50LmJhc2UgPSBudWxsO1xuXG5cdHZhciBpbm5lciA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHRpZiAoaW5uZXIpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGlubmVyKTtcblx0fSBlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbJ19fcHJlYWN0YXR0cl8nXSAmJiBiYXNlWydfX3ByZWFjdGF0dHJfJ10ucmVmKSBiYXNlWydfX3ByZWFjdGF0dHJfJ10ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0cmVjeWNsZXJDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblxuXHRcdHJlbW92ZUNoaWxkcmVuKGJhc2UpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKG51bGwpO1xufVxuXG5mdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXG5cdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cblx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXG5cdHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlIHx8IHt9O1xuXG5cdHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xufVxuXG5leHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZSwge1xuXHRzZXRTdGF0ZTogZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcdHRoaXMuc3RhdGUgPSBleHRlbmQoZXh0ZW5kKHt9LCB0aGlzLnN0YXRlKSwgdHlwZW9mIHN0YXRlID09PSAnZnVuY3Rpb24nID8gc3RhdGUodGhpcy5zdGF0ZSwgdGhpcy5wcm9wcykgOiBzdGF0ZSk7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fSxcblx0Zm9yY2VVcGRhdGU6IGZ1bmN0aW9uIGZvcmNlVXBkYXRlKGNhbGxiYWNrKSB7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIDIpO1xuXHR9LFxuXHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHt9XG59KTtcblxuZnVuY3Rpb24gcmVuZGVyKHZub2RlLCBwYXJlbnQsIG1lcmdlKSB7XG4gIHJldHVybiBkaWZmKG1lcmdlLCB2bm9kZSwge30sIGZhbHNlLCBwYXJlbnQsIGZhbHNlKTtcbn1cblxudmFyIHByZWFjdCA9IHtcblx0aDogaCxcblx0Y3JlYXRlRWxlbWVudDogaCxcblx0Y2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG5cdENvbXBvbmVudDogQ29tcG9uZW50LFxuXHRyZW5kZXI6IHJlbmRlcixcblx0cmVyZW5kZXI6IHJlcmVuZGVyLFxuXHRvcHRpb25zOiBvcHRpb25zXG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcmVhY3Q7XG5leHBvcnQgeyBoLCBoIGFzIGNyZWF0ZUVsZW1lbnQsIGNsb25lRWxlbWVudCwgQ29tcG9uZW50LCByZW5kZXIsIHJlcmVuZGVyLCBvcHRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVhY3QubWpzLm1hcFxuIiwiLyoqIE1vYlggLSAoYykgTWljaGVsIFdlc3RzdHJhdGUgMjAxNSAtIDIwMTggLSBNSVQgTGljZW5zZWQgKi9cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XG5cbnZhciBPQkZVU0NBVEVEX0VSUk9SJCQxID0gXCJBbiBpbnZhcmlhbnQgZmFpbGVkLCBob3dldmVyIHRoZSBlcnJvciBpcyBvYmZ1c2NhdGVkIGJlY2F1c2UgdGhpcyBpcyBhbiBwcm9kdWN0aW9uIGJ1aWxkLlwiO1xudmFyIEVNUFRZX0FSUkFZJCQxID0gW107XG5PYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZJCQxKTtcbnZhciBFTVBUWV9PQkpFQ1QkJDEgPSB7fTtcbk9iamVjdC5mcmVlemUoRU1QVFlfT0JKRUNUJCQxKTtcbmZ1bmN0aW9uIGdldE5leHRJZCQkMSgpIHtcbiAgICByZXR1cm4gKytnbG9iYWxTdGF0ZSQkMS5tb2J4R3VpZDtcbn1cbmZ1bmN0aW9uIGZhaWwkJDEobWVzc2FnZSkge1xuICAgIGludmFyaWFudCQkMShmYWxzZSwgbWVzc2FnZSk7XG4gICAgdGhyb3cgXCJYXCI7IC8vIHVucmVhY2hhYmxlXG59XG5mdW5jdGlvbiBpbnZhcmlhbnQkJDEoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNoZWNrKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gXCIgKyAobWVzc2FnZSB8fCBPQkZVU0NBVEVEX0VSUk9SJCQxKSk7XG59XG4vKipcbiAqIFByaW50cyBhIGRlcHJlY2F0aW9uIG1lc3NhZ2UsIGJ1dCBvbmx5IG9uZSB0aW1lLlxuICogUmV0dXJucyBmYWxzZSBpZiB0aGUgZGVwcmVjYXRlZCBtZXNzYWdlIHdhcyBhbHJlYWR5IHByaW50ZWQgYmVmb3JlXG4gKi9cbnZhciBkZXByZWNhdGVkTWVzc2FnZXMgPSBbXTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZWQkJDEobXNnLCB0aGluZykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpbmcpIHtcbiAgICAgICAgcmV0dXJuIGRlcHJlY2F0ZWQkJDEoXCInXCIgKyBtc2cgKyBcIicsIHVzZSAnXCIgKyB0aGluZyArIFwiJyBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgaWYgKGRlcHJlY2F0ZWRNZXNzYWdlcy5pbmRleE9mKG1zZykgIT09IC0xKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVwcmVjYXRlZE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICBjb25zb2xlLmVycm9yKFwiW21vYnhdIERlcHJlY2F0ZWQ6IFwiICsgbXNnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogTWFrZXMgc3VyZSB0aGF0IHRoZSBwcm92aWRlZCBmdW5jdGlvbiBpcyBpbnZva2VkIGF0IG1vc3Qgb25jZS5cbiAqL1xuZnVuY3Rpb24gb25jZSQkMShmdW5jKSB7XG4gICAgdmFyIGludm9rZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaW52b2tlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW52b2tlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbnZhciBub29wJCQxID0gZnVuY3Rpb24gKCkgeyB9O1xuZnVuY3Rpb24gdW5pcXVlJCQxKGxpc3QpIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChyZXMuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgICAgICByZXMucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gaXNPYmplY3QkJDEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCQkMSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAgIHJldHVybiBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBwcm90byA9PT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gYWRkSGlkZGVuUHJvcCQkMShvYmplY3QsIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BOYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFkZEhpZGRlbkZpbmFsUHJvcCQkMShvYmplY3QsIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BOYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc1Byb3BlcnR5Q29uZmlndXJhYmxlJCQxKG9iamVjdCwgcHJvcCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3ApO1xuICAgIHJldHVybiAhZGVzY3JpcHRvciB8fCAoZGVzY3JpcHRvci5jb25maWd1cmFibGUgIT09IGZhbHNlICYmIGRlc2NyaXB0b3Iud3JpdGFibGUgIT09IGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFByb3BlcnR5Q29uZmlndXJhYmxlJCQxKG9iamVjdCwgcHJvcCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIWlzUHJvcGVydHlDb25maWd1cmFibGUkJDEob2JqZWN0LCBwcm9wKSlcbiAgICAgICAgZmFpbCQkMShcIkNhbm5vdCBtYWtlIHByb3BlcnR5ICdcIiArIHByb3AudG9TdHJpbmcoKSArIFwiJyBvYnNlcnZhYmxlLCBpdCBpcyBub3QgY29uZmlndXJhYmxlIGFuZCB3cml0YWJsZSBpbiB0aGUgdGFyZ2V0IG9iamVjdFwiKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEobmFtZSwgY2xhenopIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBcImlzTW9iWFwiICsgbmFtZTtcbiAgICBjbGF6ei5wcm90b3R5cGVbcHJvcE5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0JCQxKHgpICYmIHhbcHJvcE5hbWVdID09PSB0cnVlO1xuICAgIH07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIGRpc3JlZ2FyZGluZyBvYnNlcnZhYmlsaXR5LlxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSQkMSh4KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgfHwgaXNPYnNlcnZhYmxlQXJyYXkkJDEoeCk7XG59XG5mdW5jdGlvbiBpc0VTNk1hcCQkMSh0aGluZykge1xuICAgIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIE1hcDtcbn1cbmZ1bmN0aW9uIGlzRVM2U2V0JCQxKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgU2V0O1xufVxuZnVuY3Rpb24gZ2V0TWFwTGlrZUtleXMkJDEobWFwKSB7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QkJDEobWFwKSlcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWFwKSlcbiAgICAgICAgcmV0dXJuIG1hcC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDEpLCBrZXkgPSBfYlswXTtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH0pO1xuICAgIGlmIChpc0VTNk1hcCQkMShtYXApIHx8IGlzT2JzZXJ2YWJsZU1hcCQkMShtYXApKVxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShtYXAua2V5cygpKTtcbiAgICByZXR1cm4gZmFpbCQkMShcIkNhbm5vdCBnZXQga2V5cyBmcm9tICdcIiArIG1hcCArIFwiJ1wiKTtcbn1cbmZ1bmN0aW9uIHRvUHJpbWl0aXZlJCQxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IFwiXCIgKyB2YWx1ZSA6IHZhbHVlO1xufVxuXG52YXIgJG1vYngkJDEgPSBTeW1ib2woXCJtb2J4IGFkbWluaXN0cmF0aW9uXCIpO1xudmFyIEF0b20kJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGF0b20uIEZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgaXQgaXMgcmVjb21tZW5kZWQgdG8gZ2l2ZSBpdCBhIG5hbWUuXG4gICAgICogVGhlIG9uQmVjb21lT2JzZXJ2ZWQgYW5kIG9uQmVjb21lVW5vYnNlcnZlZCBjYWxsYmFja3MgY2FuIGJlIHVzZWQgZm9yIHJlc291cmNlIG1hbmFnZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXRvbSQkMShuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9IFwiQXRvbUBcIiArIGdldE5leHRJZCQkMSgpOyB9XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IGZhbHNlOyAvLyBmb3IgZWZmZWN0aXZlIHVub2JzZXJ2aW5nLiBCYXNlQXRvbSBoYXMgdHJ1ZSwgZm9yIGV4dHJhIG9wdGltaXphdGlvbiwgc28gaXRzIG9uQmVjb21lVW5vYnNlcnZlZCBuZXZlciBnZXRzIGNhbGxlZCwgYmVjYXVzZSBpdCdzIG5vdCBuZWVkZWRcbiAgICAgICAgdGhpcy5pc0JlaW5nT2JzZXJ2ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuZGlmZlZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5sYXN0QWNjZXNzZWRCeSA9IDA7XG4gICAgICAgIHRoaXMubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HO1xuICAgIH1cbiAgICBBdG9tJCQxLnByb3RvdHlwZS5vbkJlY29tZU9ic2VydmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm9uQmVjb21lT2JzZXJ2ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdG9tJCQxLnByb3RvdHlwZS5vbkJlY29tZVVub2JzZXJ2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQmVjb21lVW5vYnNlcnZlZExpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5vbkJlY29tZVVub2JzZXJ2ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gbm90aWZ5IG1vYnggdGhhdCB5b3VyIGF0b20gaGFzIGJlZW4gdXNlZCBzb21laG93LlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBjdXJyZW50bHkgYSByZWFjdGl2ZSBjb250ZXh0LlxuICAgICAqL1xuICAgIEF0b20kJDEucHJvdG90eXBlLnJlcG9ydE9ic2VydmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVwb3J0T2JzZXJ2ZWQkJDEodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgX2FmdGVyXyB0aGlzIG1ldGhvZCBoYXMgY2hhbmdlZCB0byBzaWduYWwgbW9ieCB0aGF0IGFsbCBpdHMgb2JzZXJ2ZXJzIHNob3VsZCBpbnZhbGlkYXRlLlxuICAgICAqL1xuICAgIEF0b20kJDEucHJvdG90eXBlLnJlcG9ydENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXJ0QmF0Y2gkJDEoKTtcbiAgICAgICAgcHJvcGFnYXRlQ2hhbmdlZCQkMSh0aGlzKTtcbiAgICAgICAgZW5kQmF0Y2gkJDEoKTtcbiAgICB9O1xuICAgIEF0b20kJDEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH07XG4gICAgcmV0dXJuIEF0b20kJDE7XG59KCkpO1xudmFyIGlzQXRvbSQkMSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEoXCJBdG9tXCIsIEF0b20kJDEpO1xuZnVuY3Rpb24gY3JlYXRlQXRvbSQkMShuYW1lLCBvbkJlY29tZU9ic2VydmVkSGFuZGxlciwgb25CZWNvbWVVbm9ic2VydmVkSGFuZGxlcikge1xuICAgIGlmIChvbkJlY29tZU9ic2VydmVkSGFuZGxlciA9PT0gdm9pZCAwKSB7IG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyID0gbm9vcCQkMTsgfVxuICAgIGlmIChvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyID09PSB2b2lkIDApIHsgb25CZWNvbWVVbm9ic2VydmVkSGFuZGxlciA9IG5vb3AkJDE7IH1cbiAgICB2YXIgYXRvbSA9IG5ldyBBdG9tJCQxKG5hbWUpO1xuICAgIC8vIGRlZmF1bHQgYG5vb3BgIGxpc3RlbmVyIHdpbGwgbm90IGluaXRpYWxpemUgdGhlIGhvb2sgU2V0XG4gICAgaWYgKG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyICE9PSBub29wJCQxKSB7XG4gICAgICAgIG9uQmVjb21lT2JzZXJ2ZWQkJDEoYXRvbSwgb25CZWNvbWVPYnNlcnZlZEhhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAob25CZWNvbWVVbm9ic2VydmVkSGFuZGxlciAhPT0gbm9vcCQkMSkge1xuICAgICAgICBvbkJlY29tZVVub2JzZXJ2ZWQkJDEoYXRvbSwgb25CZWNvbWVVbm9ic2VydmVkSGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBhdG9tO1xufVxuXG5mdW5jdGlvbiBpZGVudGl0eUNvbXBhcmVyKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbn1cbmZ1bmN0aW9uIHN0cnVjdHVyYWxDb21wYXJlcihhLCBiKSB7XG4gICAgcmV0dXJuIGRlZXBFcXVhbCQkMShhLCBiKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlcihhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5pcyhhLCBiKTtcbn1cbnZhciBjb21wYXJlciQkMSA9IHtcbiAgICBpZGVudGl0eTogaWRlbnRpdHlDb21wYXJlcixcbiAgICBzdHJ1Y3R1cmFsOiBzdHJ1Y3R1cmFsQ29tcGFyZXIsXG4gICAgZGVmYXVsdDogZGVmYXVsdENvbXBhcmVyXG59O1xuXG52YXIgbW9ieERpZFJ1bkxhenlJbml0aWFsaXplcnNTeW1ib2wkJDEgPSBTeW1ib2woXCJtb2J4IGRpZCBydW4gbGF6eSBpbml0aWFsaXplcnNcIik7XG52YXIgbW9ieFBlbmRpbmdEZWNvcmF0b3JzJCQxID0gU3ltYm9sKFwibW9ieCBwZW5kaW5nIGRlY29yYXRvcnNcIik7XG52YXIgZW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZSA9IHt9O1xudmFyIG5vbkVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5SW5pdGlhbGl6ZXJEZXNjcmlwdG9yKHByb3AsIGVudW1lcmFibGUpIHtcbiAgICB2YXIgY2FjaGUgPSBlbnVtZXJhYmxlID8gZW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZSA6IG5vbkVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGU7XG4gICAgcmV0dXJuIChjYWNoZVtwcm9wXSB8fFxuICAgICAgICAoY2FjaGVbcHJvcF0gPSB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlJCQxKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlJCQxKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xufVxuZnVuY3Rpb24gaW5pdGlhbGl6ZUluc3RhbmNlJCQxKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXRbbW9ieERpZFJ1bkxhenlJbml0aWFsaXplcnNTeW1ib2wkJDFdID09PSB0cnVlKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIGRlY29yYXRvcnMgPSB0YXJnZXRbbW9ieFBlbmRpbmdEZWNvcmF0b3JzJCQxXTtcbiAgICBpZiAoZGVjb3JhdG9ycykge1xuICAgICAgICBhZGRIaWRkZW5Qcm9wJCQxKHRhcmdldCwgbW9ieERpZFJ1bkxhenlJbml0aWFsaXplcnNTeW1ib2wkJDEsIHRydWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgdmFyIGQgPSBkZWNvcmF0b3JzW2tleV07XG4gICAgICAgICAgICBkLnByb3BlcnR5Q3JlYXRvcih0YXJnZXQsIGQucHJvcCwgZC5kZXNjcmlwdG9yLCBkLmRlY29yYXRvclRhcmdldCwgZC5kZWNvcmF0b3JBcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUHJvcERlY29yYXRvciQkMShwcm9wZXJ0eUluaXRpYWxseUVudW1lcmFibGUsIHByb3BlcnR5Q3JlYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgZGVjb3JhdG9yQXJndW1lbnRzO1xuICAgICAgICB2YXIgZGVjb3JhdG9yID0gZnVuY3Rpb24gZGVjb3JhdGUkJDEodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yLCBhcHBseUltbWVkaWF0ZWx5XG4gICAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIHBhcmFtZXRlciB0byBzaWduYWwgdGhlIGRpcmVjdCBhcHBsaWNhdGlvbiBvZiBhIGRlY29yYXRvciwgYWxsb3cgZXh0ZW5kT2JzZXJ2YWJsZSB0byBza2lwIHRoZSBlbnRpcmUgdHlwZSBkZWNvcmF0aW9uIHBhcnQsXG4gICAgICAgIC8vIGFzIHRoZSBpbnN0YW5jZSB0byBhcHBseSB0aGUgZGVjb3JhdG9yIHRvIGVxdWFscyB0aGUgdGFyZ2V0XG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGFwcGx5SW1tZWRpYXRlbHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUNyZWF0b3IodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yLCB0YXJnZXQsIGRlY29yYXRvckFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFxdWFja3NMaWtlQURlY29yYXRvciQkMShhcmd1bWVudHMpKVxuICAgICAgICAgICAgICAgIGZhaWwkJDEoXCJUaGlzIGZ1bmN0aW9uIGlzIGEgZGVjb3JhdG9yLCBidXQgaXQgd2Fzbid0IGludm9rZWQgbGlrZSBhIGRlY29yYXRvclwiKTtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgbW9ieFBlbmRpbmdEZWNvcmF0b3JzJCQxKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmhlcml0ZWREZWNvcmF0b3JzID0gdGFyZ2V0W21vYnhQZW5kaW5nRGVjb3JhdG9ycyQkMV07XG4gICAgICAgICAgICAgICAgYWRkSGlkZGVuUHJvcCQkMSh0YXJnZXQsIG1vYnhQZW5kaW5nRGVjb3JhdG9ycyQkMSwgX19hc3NpZ24oe30sIGluaGVyaXRlZERlY29yYXRvcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldFttb2J4UGVuZGluZ0RlY29yYXRvcnMkJDFdW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgIHByb3A6IHByb3AsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDcmVhdG9yOiBwcm9wZXJ0eUNyZWF0b3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JUYXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JBcmd1bWVudHM6IGRlY29yYXRvckFyZ3VtZW50c1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQcm9wZXJ0eUluaXRpYWxpemVyRGVzY3JpcHRvcihwcm9wLCBwcm9wZXJ0eUluaXRpYWxseUVudW1lcmFibGUpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAocXVhY2tzTGlrZUFEZWNvcmF0b3IkJDEoYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgLy8gQGRlY29yYXRvclxuICAgICAgICAgICAgZGVjb3JhdG9yQXJndW1lbnRzID0gRU1QVFlfQVJSQVkkJDE7XG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdG9yLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBAZGVjb3JhdG9yKGFyZ3MpXG4gICAgICAgICAgICBkZWNvcmF0b3JBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBxdWFja3NMaWtlQURlY29yYXRvciQkMShhcmdzKSB7XG4gICAgcmV0dXJuICgoKGFyZ3MubGVuZ3RoID09PSAyIHx8IGFyZ3MubGVuZ3RoID09PSAzKSAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gXCJzdHJpbmdcIikgfHxcbiAgICAgICAgKGFyZ3MubGVuZ3RoID09PSA0ICYmIGFyZ3NbM10gPT09IHRydWUpKTtcbn1cblxuZnVuY3Rpb24gZGVlcEVuaGFuY2VyJCQxKHYsIF8sIG5hbWUpIHtcbiAgICAvLyBpdCBpcyBhbiBvYnNlcnZhYmxlIGFscmVhZHksIGRvbmVcbiAgICBpZiAoaXNPYnNlcnZhYmxlJCQxKHYpKVxuICAgICAgICByZXR1cm4gdjtcbiAgICAvLyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgY29udmVydGVkIGFuZCBtdXRhdGVkP1xuICAgIGlmIChBcnJheS5pc0FycmF5KHYpKVxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQkMS5hcnJheSh2LCB7IG5hbWU6IG5hbWUgfSk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QkJDEodikpXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJCQxLm9iamVjdCh2LCB1bmRlZmluZWQsIHsgbmFtZTogbmFtZSB9KTtcbiAgICBpZiAoaXNFUzZNYXAkJDEodikpXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJCQxLm1hcCh2LCB7IG5hbWU6IG5hbWUgfSk7XG4gICAgaWYgKGlzRVM2U2V0JCQxKHYpKVxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQkMS5zZXQodiwgeyBuYW1lOiBuYW1lIH0pO1xuICAgIHJldHVybiB2O1xufVxuZnVuY3Rpb24gc2hhbGxvd0VuaGFuY2VyJCQxKHYsIF8sIG5hbWUpIHtcbiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEodikgfHwgaXNPYnNlcnZhYmxlQXJyYXkkJDEodikgfHwgaXNPYnNlcnZhYmxlTWFwJCQxKHYpIHx8IGlzT2JzZXJ2YWJsZVNldCQkMSh2KSlcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodikpXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJCQxLmFycmF5KHYsIHsgbmFtZTogbmFtZSwgZGVlcDogZmFsc2UgfSk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QkJDEodikpXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJCQxLm9iamVjdCh2LCB1bmRlZmluZWQsIHsgbmFtZTogbmFtZSwgZGVlcDogZmFsc2UgfSk7XG4gICAgaWYgKGlzRVM2TWFwJCQxKHYpKVxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQkMS5tYXAodiwgeyBuYW1lOiBuYW1lLCBkZWVwOiBmYWxzZSB9KTtcbiAgICBpZiAoaXNFUzZTZXQkJDEodikpXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJCQxLnNldCh2LCB7IG5hbWU6IG5hbWUsIGRlZXA6IGZhbHNlIH0pO1xuICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICBcIlRoZSBzaGFsbG93IG1vZGlmaWVyIC8gZGVjb3JhdG9yIGNhbiBvbmx5IHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBhcnJheXMsIG9iamVjdHMsIG1hcHMgYW5kIHNldHNcIik7XG59XG5mdW5jdGlvbiByZWZlcmVuY2VFbmhhbmNlciQkMShuZXdWYWx1ZSkge1xuICAgIC8vIG5ldmVyIHR1cm4gaW50byBhbiBvYnNlcnZhYmxlXG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xufVxuZnVuY3Rpb24gcmVmU3RydWN0RW5oYW5jZXIkJDEodiwgb2xkVmFsdWUsIG5hbWUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzT2JzZXJ2YWJsZSQkMSh2KSlcbiAgICAgICAgdGhyb3cgXCJvYnNlcnZhYmxlLnN0cnVjdCBzaG91bGQgbm90IGJlIHVzZWQgd2l0aCBvYnNlcnZhYmxlIHZhbHVlc1wiO1xuICAgIGlmIChkZWVwRXF1YWwkJDEodiwgb2xkVmFsdWUpKVxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XG4gICAgcmV0dXJuIHY7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyJCQxKGVuaGFuY2VyKSB7XG4gICAgaW52YXJpYW50JCQxKGVuaGFuY2VyKTtcbiAgICB2YXIgZGVjb3JhdG9yID0gY3JlYXRlUHJvcERlY29yYXRvciQkMSh0cnVlLCBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGRlc2NyaXB0b3IsIF9kZWNvcmF0b3JUYXJnZXQsIGRlY29yYXRvckFyZ3MpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgaW52YXJpYW50JCQxKCFkZXNjcmlwdG9yIHx8ICFkZXNjcmlwdG9yLmdldCwgXCJAb2JzZXJ2YWJsZSBjYW5ub3QgYmUgdXNlZCBvbiBnZXR0ZXIgKHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIiksIHVzZSBAY29tcHV0ZWQgaW5zdGVhZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc2NyaXB0b3JcbiAgICAgICAgICAgID8gZGVzY3JpcHRvci5pbml0aWFsaXplclxuICAgICAgICAgICAgICAgID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKHRhcmdldClcbiAgICAgICAgICAgICAgICA6IGRlc2NyaXB0b3IudmFsdWVcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBhc09ic2VydmFibGVPYmplY3QkJDEodGFyZ2V0KS5hZGRPYnNlcnZhYmxlUHJvcChwcm9wZXJ0eU5hbWUsIGluaXRpYWxWYWx1ZSwgZW5oYW5jZXIpO1xuICAgIH0pO1xuICAgIHZhciByZXMgPSBcbiAgICAvLyBFeHRyYSBwcm9jZXNzIGNoZWNrcywgYXMgdGhpcyBoYXBwZW5zIGR1cmluZyBtb2R1bGUgaW5pdGlhbGl6YXRpb25cbiAgICB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCJcbiAgICAgICAgPyBmdW5jdGlvbiBvYnNlcnZhYmxlRGVjb3JhdG9yKCkge1xuICAgICAgICAgICAgLy8gVGhpcyB3cmFwcGVyIGZ1bmN0aW9uIGlzIGp1c3QgdG8gZGV0ZWN0IGlsbGVnYWwgZGVjb3JhdG9yIGludm9jYXRpb25zLCBkZXByZWNhdGUgaW4gYSBuZXh0IHZlcnNpb25cbiAgICAgICAgICAgIC8vIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjcmVhdGVkIHByb3AgZGVjb3JhdG9yXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwkJDEoXCJJbmNvcnJlY3QgZGVjb3JhdG9yIGludm9jYXRpb24uIEBvYnNlcnZhYmxlIGRlY29yYXRvciBkb2Vzbid0IGV4cGVjdCBhbnkgYXJndW1lbnRzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIDogZGVjb3JhdG9yO1xuICAgIHJlcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFByZWRlZmluZWQgYmFncyBvZiBjcmVhdGUgb2JzZXJ2YWJsZSBvcHRpb25zLCB0byBhdm9pZCBhbGxvY2F0aW5nIHRlbXBvcmFyaWx5IG9wdGlvbiBvYmplY3RzXG4vLyBpbiB0aGUgbWFqb3JpdHkgb2YgY2FzZXNcbnZhciBkZWZhdWx0Q3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEgPSB7XG4gICAgZGVlcDogdHJ1ZSxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgZGVmYXVsdERlY29yYXRvcjogdW5kZWZpbmVkLFxuICAgIHByb3h5OiB0cnVlXG59O1xuT2JqZWN0LmZyZWV6ZShkZWZhdWx0Q3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEpO1xuZnVuY3Rpb24gYXNzZXJ0VmFsaWRPcHRpb24oa2V5KSB7XG4gICAgaWYgKCEvXihkZWVwfG5hbWV8ZXF1YWxzfGRlZmF1bHREZWNvcmF0b3J8cHJveHkpJC8udGVzdChrZXkpKVxuICAgICAgICBmYWlsJCQxKFwiaW52YWxpZCBvcHRpb24gZm9yIChleHRlbmQpb2JzZXJ2YWJsZTogXCIgKyBrZXkpO1xufVxuZnVuY3Rpb24gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyQkMSh0aGluZykge1xuICAgIGlmICh0aGluZyA9PT0gbnVsbCB8fCB0aGluZyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gZGVmYXVsdENyZWF0ZU9ic2VydmFibGVPcHRpb25zJCQxO1xuICAgIGlmICh0eXBlb2YgdGhpbmcgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB7IG5hbWU6IHRoaW5nLCBkZWVwOiB0cnVlLCBwcm94eTogdHJ1ZSB9O1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGluZyAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWlsJCQxKFwiZXhwZWN0ZWQgb3B0aW9ucyBvYmplY3RcIik7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaW5nKS5mb3JFYWNoKGFzc2VydFZhbGlkT3B0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaW5nO1xufVxudmFyIGRlZXBEZWNvcmF0b3IkJDEgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlciQkMShkZWVwRW5oYW5jZXIkJDEpO1xudmFyIHNoYWxsb3dEZWNvcmF0b3IgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlciQkMShzaGFsbG93RW5oYW5jZXIkJDEpO1xudmFyIHJlZkRlY29yYXRvciQkMSA9IGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyJCQxKHJlZmVyZW5jZUVuaGFuY2VyJCQxKTtcbnZhciByZWZTdHJ1Y3REZWNvcmF0b3IgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlciQkMShyZWZTdHJ1Y3RFbmhhbmNlciQkMSk7XG5mdW5jdGlvbiBnZXRFbmhhbmNlckZyb21PcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5kZWZhdWx0RGVjb3JhdG9yXG4gICAgICAgID8gb3B0aW9ucy5kZWZhdWx0RGVjb3JhdG9yLmVuaGFuY2VyXG4gICAgICAgIDogb3B0aW9ucy5kZWVwID09PSBmYWxzZVxuICAgICAgICAgICAgPyByZWZlcmVuY2VFbmhhbmNlciQkMVxuICAgICAgICAgICAgOiBkZWVwRW5oYW5jZXIkJDE7XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCwgYXJyYXkgb3IgZnVuY3Rpb24gaW50byBhIHJlYWN0aXZlIHN0cnVjdHVyZS5cbiAqIEBwYXJhbSB2IHRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmVjb21lIG9ic2VydmFibGUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmFibGUodiwgYXJnMiwgYXJnMykge1xuICAgIC8vIEBvYnNlcnZhYmxlIHNvbWVQcm9wO1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBkZWVwRGVjb3JhdG9yJCQxLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIC8vIGl0IGlzIGFuIG9ic2VydmFibGUgYWxyZWFkeSwgZG9uZVxuICAgIGlmIChpc09ic2VydmFibGUkJDEodikpXG4gICAgICAgIHJldHVybiB2O1xuICAgIC8vIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgYW5kIG11dGF0ZWQ/XG4gICAgdmFyIHJlcyA9IGlzUGxhaW5PYmplY3QkJDEodilcbiAgICAgICAgPyBvYnNlcnZhYmxlJCQxLm9iamVjdCh2LCBhcmcyLCBhcmczKVxuICAgICAgICA6IEFycmF5LmlzQXJyYXkodilcbiAgICAgICAgICAgID8gb2JzZXJ2YWJsZSQkMS5hcnJheSh2LCBhcmcyKVxuICAgICAgICAgICAgOiBpc0VTNk1hcCQkMSh2KVxuICAgICAgICAgICAgICAgID8gb2JzZXJ2YWJsZSQkMS5tYXAodiwgYXJnMilcbiAgICAgICAgICAgICAgICA6IGlzRVM2U2V0JCQxKHYpXG4gICAgICAgICAgICAgICAgICAgID8gb2JzZXJ2YWJsZSQkMS5zZXQodiwgYXJnMilcbiAgICAgICAgICAgICAgICAgICAgOiB2O1xuICAgIC8vIHRoaXMgdmFsdWUgY291bGQgYmUgY29udmVydGVkIHRvIGEgbmV3IG9ic2VydmFibGUgZGF0YSBzdHJ1Y3R1cmUsIHJldHVybiBpdFxuICAgIGlmIChyZXMgIT09IHYpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgLy8gb3RoZXJ3aXNlLCBqdXN0IGJveCBpdFxuICAgIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgIFwiVGhlIHByb3ZpZGVkIHZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQgaW50byBhbiBvYnNlcnZhYmxlLiBJZiB5b3Ugd2FudCBqdXN0IGNyZWF0ZSBhbiBvYnNlcnZhYmxlIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHVzZSAnb2JzZXJ2YWJsZS5ib3godmFsdWUpJ1wiKTtcbn1cbnZhciBvYnNlcnZhYmxlRmFjdG9yaWVzID0ge1xuICAgIGJveDogZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIGluY29ycmVjdGx5VXNlZEFzRGVjb3JhdG9yKFwiYm94XCIpO1xuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVZhbHVlJCQxKHZhbHVlLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUsIHRydWUsIG8uZXF1YWxzKTtcbiAgICB9LFxuICAgIGFycmF5OiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlcywgb3B0aW9ucykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpXG4gICAgICAgICAgICBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcImFycmF5XCIpO1xuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVPYnNlcnZhYmxlQXJyYXkkJDEoaW5pdGlhbFZhbHVlcywgZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyhvKSwgby5uYW1lKTtcbiAgICB9LFxuICAgIG1hcDogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKVxuICAgICAgICAgICAgaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IoXCJtYXBcIik7XG4gICAgICAgIHZhciBvID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyQkMShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlTWFwJCQxKGluaXRpYWxWYWx1ZXMsIGdldEVuaGFuY2VyRnJvbU9wdGlvbnMobyksIG8ubmFtZSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWVzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIGluY29ycmVjdGx5VXNlZEFzRGVjb3JhdG9yKFwic2V0XCIpO1xuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMkJDEob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNldCQkMShpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xuICAgIH0sXG4gICAgb2JqZWN0OiBmdW5jdGlvbiAocHJvcHMsIGRlY29yYXRvcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcIm9iamVjdFwiKTtcbiAgICAgICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zJCQxKG9wdGlvbnMpO1xuICAgICAgICBpZiAoby5wcm94eSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBleHRlbmRPYnNlcnZhYmxlJCQxKHt9LCBwcm9wcywgZGVjb3JhdG9ycywgbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdERlY29yYXRvciA9IGdldERlZmF1bHREZWNvcmF0b3JGcm9tT2JqZWN0T3B0aW9ucyQkMShvKTtcbiAgICAgICAgICAgIHZhciBiYXNlID0gZXh0ZW5kT2JzZXJ2YWJsZSQkMSh7fSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG8pO1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gY3JlYXRlRHluYW1pY09ic2VydmFibGVPYmplY3QkJDEoYmFzZSk7XG4gICAgICAgICAgICBleHRlbmRPYnNlcnZhYmxlT2JqZWN0V2l0aFByb3BlcnRpZXMkJDEocHJveHksIHByb3BzLCBkZWNvcmF0b3JzLCBkZWZhdWx0RGVjb3JhdG9yKTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVmOiByZWZEZWNvcmF0b3IkJDEsXG4gICAgc2hhbGxvdzogc2hhbGxvd0RlY29yYXRvcixcbiAgICBkZWVwOiBkZWVwRGVjb3JhdG9yJCQxLFxuICAgIHN0cnVjdDogcmVmU3RydWN0RGVjb3JhdG9yXG59O1xudmFyIG9ic2VydmFibGUkJDEgPSBjcmVhdGVPYnNlcnZhYmxlO1xuLy8gd2VpcmQgdHJpY2sgdG8ga2VlcCBvdXIgdHlwaW5ncyBuaWNlbHkgd2l0aCBvdXIgZnVuY3MsIGFuZCBzdGlsbCBleHRlbmQgdGhlIG9ic2VydmFibGUgZnVuY3Rpb25cbk9iamVjdC5rZXlzKG9ic2VydmFibGVGYWN0b3JpZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIChvYnNlcnZhYmxlJCQxW25hbWVdID0gb2JzZXJ2YWJsZUZhY3Rvcmllc1tuYW1lXSk7IH0pO1xuZnVuY3Rpb24gaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IobWV0aG9kTmFtZSkge1xuICAgIGZhaWwkJDEoXG4gICAgLy8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgXCJFeHBlY3RlZCBvbmUgb3IgdHdvIGFyZ3VtZW50cyB0byBvYnNlcnZhYmxlLlwiICsgbWV0aG9kTmFtZSArIFwiLiBEaWQgeW91IGFjY2lkZW50YWxseSB0cnkgdG8gdXNlIG9ic2VydmFibGUuXCIgKyBtZXRob2ROYW1lICsgXCIgYXMgZGVjb3JhdG9yP1wiKTtcbn1cblxudmFyIGNvbXB1dGVkRGVjb3JhdG9yJCQxID0gY3JlYXRlUHJvcERlY29yYXRvciQkMShmYWxzZSwgZnVuY3Rpb24gKGluc3RhbmNlLCBwcm9wZXJ0eU5hbWUsIGRlc2NyaXB0b3IsIGRlY29yYXRvclRhcmdldCwgZGVjb3JhdG9yQXJncykge1xuICAgIHZhciBnZXQkJDEgPSBkZXNjcmlwdG9yLmdldCwgc2V0JCQxID0gZGVzY3JpcHRvci5zZXQ7IC8vIGluaXRpYWxWYWx1ZSBpcyB0aGUgZGVzY3JpcHRvciBmb3IgZ2V0IC8gc2V0IHByb3BzXG4gICAgLy8gT3B0aW1pemF0aW9uOiBmYXN0ZXIgb24gZGVjb3JhdG9yIHRhcmdldCBvciBpbnN0YW5jZT8gQXNzdW1pbmcgdGFyZ2V0XG4gICAgLy8gT3B0aW1pemF0aW9uOiBmaW5kIG91dCBpZiBkZWNsYXJpbmcgb24gaW5zdGFuY2UgaXNuJ3QganVzdCBmYXN0ZXIuIChhbHNvIG1ha2VzIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHNpbXBsZXIpLiBCdXQsIG1vcmUgbWVtb3J5IHVzYWdlLi5cbiAgICAvLyBGb3JjaW5nIGluc3RhbmNlIG5vdywgZml4ZXMgaG90IHJlbG9hZGlnIGlzc3VlcyBvbiBSZWFjdCBOYXRpdmU6XG4gICAgdmFyIG9wdGlvbnMgPSBkZWNvcmF0b3JBcmdzWzBdIHx8IHt9O1xuICAgIGFzT2JzZXJ2YWJsZU9iamVjdCQkMShpbnN0YW5jZSkuYWRkQ29tcHV0ZWRQcm9wKGluc3RhbmNlLCBwcm9wZXJ0eU5hbWUsIF9fYXNzaWduKHsgZ2V0OiBnZXQkJDEsXG4gICAgICAgIHNldDogc2V0JCQxLCBjb250ZXh0OiBpbnN0YW5jZSB9LCBvcHRpb25zKSk7XG59KTtcbnZhciBjb21wdXRlZFN0cnVjdERlY29yYXRvciA9IGNvbXB1dGVkRGVjb3JhdG9yJCQxKHsgZXF1YWxzOiBjb21wYXJlciQkMS5zdHJ1Y3R1cmFsIH0pO1xuLyoqXG4gKiBEZWNvcmF0b3IgZm9yIGNsYXNzIHByb3BlcnRpZXM6IEBjb21wdXRlZCBnZXQgdmFsdWUoKSB7IHJldHVybiBleHByOyB9LlxuICogRm9yIGxlZ2FjeSBwdXJwb3NlcyBhbHNvIGludm9rYWJsZSBhcyBFUzUgb2JzZXJ2YWJsZSBjcmVhdGVkOiBgY29tcHV0ZWQoKCkgPT4gZXhwcilgO1xuICovXG52YXIgY29tcHV0ZWQkJDEgPSBmdW5jdGlvbiBjb21wdXRlZCQkMShhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIC8vIEBjb21wdXRlZFxuICAgICAgICByZXR1cm4gY29tcHV0ZWREZWNvcmF0b3IkJDEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKGFyZzEgIT09IG51bGwgJiYgdHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBAY29tcHV0ZWQoeyBvcHRpb25zIH0pXG4gICAgICAgIHJldHVybiBjb21wdXRlZERlY29yYXRvciQkMS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICAvLyBjb21wdXRlZChleHByLCBvcHRpb25zPylcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGludmFyaWFudCQkMSh0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiLCBcIkZpcnN0IGFyZ3VtZW50IHRvIGBjb21wdXRlZGAgc2hvdWxkIGJlIGFuIGV4cHJlc3Npb24uXCIpO1xuICAgICAgICBpbnZhcmlhbnQkJDEoYXJndW1lbnRzLmxlbmd0aCA8IDMsIFwiQ29tcHV0ZWQgdGFrZXMgb25lIG9yIHR3byBhcmd1bWVudHMgaWYgdXNlZCBhcyBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgdmFyIG9wdHMgPSB0eXBlb2YgYXJnMiA9PT0gXCJvYmplY3RcIiA/IGFyZzIgOiB7fTtcbiAgICBvcHRzLmdldCA9IGFyZzE7XG4gICAgb3B0cy5zZXQgPSB0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiID8gYXJnMiA6IG9wdHMuc2V0O1xuICAgIG9wdHMubmFtZSA9IG9wdHMubmFtZSB8fCBhcmcxLm5hbWUgfHwgXCJcIjsgLyogZm9yIGdlbmVyYXRlZCBuYW1lICovXG4gICAgcmV0dXJuIG5ldyBDb21wdXRlZFZhbHVlJCQxKG9wdHMpO1xufTtcbmNvbXB1dGVkJCQxLnN0cnVjdCA9IGNvbXB1dGVkU3RydWN0RGVjb3JhdG9yO1xuXG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24kJDEoYWN0aW9uTmFtZSwgZm4sIHJlZikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgaW52YXJpYW50JCQxKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiLCBcImBhY3Rpb25gIGNhbiBvbmx5IGJlIGludm9rZWQgb24gZnVuY3Rpb25zXCIpO1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbk5hbWUgIT09IFwic3RyaW5nXCIgfHwgIWFjdGlvbk5hbWUpXG4gICAgICAgICAgICBmYWlsJCQxKFwiYWN0aW9ucyBzaG91bGQgaGF2ZSB2YWxpZCBuYW1lcywgZ290OiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICAgIH1cbiAgICB2YXIgcmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXhlY3V0ZUFjdGlvbiQkMShhY3Rpb25OYW1lLCBmbiwgcmVmIHx8IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICByZXMuaXNNb2J4QWN0aW9uID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZXhlY3V0ZUFjdGlvbiQkMShhY3Rpb25OYW1lLCBmbiwgc2NvcGUsIGFyZ3MpIHtcbiAgICB2YXIgcnVuSW5mbyA9IHN0YXJ0QWN0aW9uKGFjdGlvbk5hbWUsIGZuLCBzY29wZSwgYXJncyk7XG4gICAgdmFyIHNob3VsZFN1cHJlc3NSZWFjdGlvbkVycm9yID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgcmVzID0gZm4uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuICAgICAgICBzaG91bGRTdXByZXNzUmVhY3Rpb25FcnJvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHNob3VsZFN1cHJlc3NSZWFjdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBnbG9iYWxTdGF0ZSQkMS5zdXBwcmVzc1JlYWN0aW9uRXJyb3JzID0gc2hvdWxkU3VwcmVzc1JlYWN0aW9uRXJyb3I7XG4gICAgICAgICAgICBlbmRBY3Rpb24ocnVuSW5mbyk7XG4gICAgICAgICAgICBnbG9iYWxTdGF0ZSQkMS5zdXBwcmVzc1JlYWN0aW9uRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbmRBY3Rpb24ocnVuSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzdGFydEFjdGlvbihhY3Rpb25OYW1lLCBmbiwgc2NvcGUsIGFyZ3MpIHtcbiAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkJCQxKCkgJiYgISFhY3Rpb25OYW1lO1xuICAgIHZhciBzdGFydFRpbWUgPSAwO1xuICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBsID0gKGFyZ3MgJiYgYXJncy5sZW5ndGgpIHx8IDA7XG4gICAgICAgIHZhciBmbGF0dGVuZEFyZ3MgPSBuZXcgQXJyYXkobCk7XG4gICAgICAgIGlmIChsID4gMClcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKVxuICAgICAgICAgICAgICAgIGZsYXR0ZW5kQXJnc1tpXSA9IGFyZ3NbaV07XG4gICAgICAgIHNweVJlcG9ydFN0YXJ0JCQxKHtcbiAgICAgICAgICAgIHR5cGU6IFwiYWN0aW9uXCIsXG4gICAgICAgICAgICBuYW1lOiBhY3Rpb25OYW1lLFxuICAgICAgICAgICAgb2JqZWN0OiBzY29wZSxcbiAgICAgICAgICAgIGFyZ3VtZW50czogZmxhdHRlbmRBcmdzXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgcHJldkRlcml2YXRpb24gPSB1bnRyYWNrZWRTdGFydCQkMSgpO1xuICAgIHN0YXJ0QmF0Y2gkJDEoKTtcbiAgICB2YXIgcHJldkFsbG93U3RhdGVDaGFuZ2VzID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydCQkMSh0cnVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2RGVyaXZhdGlvbjogcHJldkRlcml2YXRpb24sXG4gICAgICAgIHByZXZBbGxvd1N0YXRlQ2hhbmdlczogcHJldkFsbG93U3RhdGVDaGFuZ2VzLFxuICAgICAgICBub3RpZnlTcHk6IG5vdGlmeVNweSxcbiAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWVcbiAgICB9O1xufVxuZnVuY3Rpb24gZW5kQWN0aW9uKHJ1bkluZm8pIHtcbiAgICBhbGxvd1N0YXRlQ2hhbmdlc0VuZCQkMShydW5JbmZvLnByZXZBbGxvd1N0YXRlQ2hhbmdlcyk7XG4gICAgZW5kQmF0Y2gkJDEoKTtcbiAgICB1bnRyYWNrZWRFbmQkJDEocnVuSW5mby5wcmV2RGVyaXZhdGlvbik7XG4gICAgaWYgKHJ1bkluZm8ubm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgc3B5UmVwb3J0RW5kJCQxKHsgdGltZTogRGF0ZS5ub3coKSAtIHJ1bkluZm8uc3RhcnRUaW1lIH0pO1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXMkJDEoYWxsb3dTdGF0ZUNoYW5nZXMkJDEsIGZ1bmMpIHtcbiAgICB2YXIgcHJldiA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQkJDEoYWxsb3dTdGF0ZUNoYW5nZXMkJDEpO1xuICAgIHZhciByZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzID0gZnVuYygpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQkJDEocHJldik7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0JCQxKGFsbG93U3RhdGVDaGFuZ2VzJCQxKSB7XG4gICAgdmFyIHByZXYgPSBnbG9iYWxTdGF0ZSQkMS5hbGxvd1N0YXRlQ2hhbmdlcztcbiAgICBnbG9iYWxTdGF0ZSQkMS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGFsbG93U3RhdGVDaGFuZ2VzJCQxO1xuICAgIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNFbmQkJDEocHJldikge1xuICAgIGdsb2JhbFN0YXRlJCQxLmFsbG93U3RhdGVDaGFuZ2VzID0gcHJldjtcbn1cbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWQkJDEoZnVuYykge1xuICAgIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUkJDEuY29tcHV0YXRpb25EZXB0aDtcbiAgICBnbG9iYWxTdGF0ZSQkMS5jb21wdXRhdGlvbkRlcHRoID0gMDtcbiAgICB2YXIgcmVzO1xuICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IGZ1bmMoKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGdsb2JhbFN0YXRlJCQxLmNvbXB1dGF0aW9uRGVwdGggPSBwcmV2O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG52YXIgT2JzZXJ2YWJsZVZhbHVlJCQxID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPYnNlcnZhYmxlVmFsdWUkJDEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVZhbHVlJCQxKHZhbHVlLCBlbmhhbmNlciwgbmFtZSwgbm90aWZ5U3B5LCBlcXVhbHMpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gXCJPYnNlcnZhYmxlVmFsdWVAXCIgKyBnZXROZXh0SWQkJDEoKTsgfVxuICAgICAgICBpZiAobm90aWZ5U3B5ID09PSB2b2lkIDApIHsgbm90aWZ5U3B5ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoZXF1YWxzID09PSB2b2lkIDApIHsgZXF1YWxzID0gY29tcGFyZXIkJDEuZGVmYXVsdDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBuYW1lKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMuZXF1YWxzID0gZXF1YWxzO1xuICAgICAgICBfdGhpcy5oYXNVbnJlcG9ydGVkQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnZhbHVlID0gZW5oYW5jZXIodmFsdWUsIHVuZGVmaW5lZCwgbmFtZSk7XG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgaXNTcHlFbmFibGVkJCQxKCkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG5vdGlmeSBzcHkgaWYgdGhpcyBpcyBhIHN0YW5kLWFsb25lIG9ic2VydmFibGVcbiAgICAgICAgICAgIHNweVJlcG9ydCQkMSh7IHR5cGU6IFwiY3JlYXRlXCIsIG5hbWU6IF90aGlzLm5hbWUsIG5ld1ZhbHVlOiBcIlwiICsgX3RoaXMudmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYnNlcnZhYmxlVmFsdWUkJDEucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZXIodmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlVmFsdWUkJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBuZXdWYWx1ZSA9IHRoaXMucHJlcGFyZU5ld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZSQkMS5VTkNIQU5HRUQpIHtcbiAgICAgICAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQkJDEoKTtcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQkJDEoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldE5ld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCQkMSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlVmFsdWUkJDEucHJvdG90eXBlLnByZXBhcmVOZXdWYWx1ZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCQkMSh0aGlzKTtcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyQkMSh0aGlzKSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSQkMSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBnbG9iYWxTdGF0ZSQkMS5VTkNIQU5HRUQ7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBseSBtb2RpZmllclxuICAgICAgICBuZXdWYWx1ZSA9IHRoaXMuZW5oYW5jZXIobmV3VmFsdWUsIHRoaXMudmFsdWUsIHRoaXMubmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVxdWFscyh0aGlzLnZhbHVlLCBuZXdWYWx1ZSkgPyBnbG9iYWxTdGF0ZSQkMS5VTkNIQU5HRUQgOiBuZXdWYWx1ZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVWYWx1ZSQkMS5wcm90b3R5cGUuc2V0TmV3VmFsdWUgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB0aGlzLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgaWYgKGhhc0xpc3RlbmVycyQkMSh0aGlzKSkge1xuICAgICAgICAgICAgbm90aWZ5TGlzdGVuZXJzJCQxKHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZVZhbHVlJCQxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlKHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVZhbHVlJCQxLnByb3RvdHlwZS5pbnRlcmNlcHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvciQkMSh0aGlzLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVWYWx1ZSQkMS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIGlmIChmaXJlSW1tZWRpYXRlbHkpXG4gICAgICAgICAgICBsaXN0ZW5lcih7XG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyJCQxKHRoaXMsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVWYWx1ZSQkMS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVWYWx1ZSQkMS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIltcIiArIHRoaXMudmFsdWUgKyBcIl1cIjtcbiAgICB9O1xuICAgIE9ic2VydmFibGVWYWx1ZSQkMS5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRvUHJpbWl0aXZlJCQxKHRoaXMuZ2V0KCkpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVZhbHVlJCQxLnByb3RvdHlwZVtTeW1ib2wudG9QcmltaXRpdmVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVZhbHVlJCQxO1xufShBdG9tJCQxKSk7XG52YXIgaXNPYnNlcnZhYmxlVmFsdWUkJDEgPSBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlJCQxKFwiT2JzZXJ2YWJsZVZhbHVlXCIsIE9ic2VydmFibGVWYWx1ZSQkMSk7XG5cbi8qKlxuICogQSBub2RlIGluIHRoZSBzdGF0ZSBkZXBlbmRlbmN5IHJvb3QgdGhhdCBvYnNlcnZlcyBvdGhlciBub2RlcywgYW5kIGNhbiBiZSBvYnNlcnZlZCBpdHNlbGYuXG4gKlxuICogQ29tcHV0ZWRWYWx1ZSB3aWxsIHJlbWVtYmVyIHRoZSByZXN1bHQgb2YgdGhlIGNvbXB1dGF0aW9uIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGJhdGNoLCBvclxuICogd2hpbGUgYmVpbmcgb2JzZXJ2ZWQuXG4gKlxuICogRHVyaW5nIHRoaXMgdGltZSBpdCB3aWxsIHJlY29tcHV0ZSBvbmx5IHdoZW4gb25lIG9mIGl0cyBkaXJlY3QgZGVwZW5kZW5jaWVzIGNoYW5nZWQsXG4gKiBidXQgb25seSB3aGVuIGl0IGlzIGJlaW5nIGFjY2Vzc2VkIHdpdGggYENvbXB1dGVkVmFsdWUuZ2V0KClgLlxuICpcbiAqIEltcGxlbWVudGF0aW9uIGRlc2NyaXB0aW9uOlxuICogMS4gRmlyc3QgdGltZSBpdCdzIGJlaW5nIGFjY2Vzc2VkIGl0IHdpbGwgY29tcHV0ZSBhbmQgcmVtZW1iZXIgcmVzdWx0XG4gKiAgICBnaXZlIGJhY2sgcmVtZW1iZXJlZCByZXN1bHQgdW50aWwgMi4gaGFwcGVuc1xuICogMi4gRmlyc3QgdGltZSBhbnkgZGVlcCBkZXBlbmRlbmN5IGNoYW5nZSwgcHJvcGFnYXRlIFBPU1NJQkxZX1NUQUxFIHRvIGFsbCBvYnNlcnZlcnMsIHdhaXQgZm9yIDMuXG4gKiAzLiBXaGVuIGl0J3MgYmVpbmcgYWNjZXNzZWQsIHJlY29tcHV0ZSBpZiBhbnkgc2hhbGxvdyBkZXBlbmRlbmN5IGNoYW5nZWQuXG4gKiAgICBpZiByZXN1bHQgY2hhbmdlZDogcHJvcGFnYXRlIFNUQUxFIHRvIGFsbCBvYnNlcnZlcnMsIHRoYXQgd2VyZSBQT1NTSUJMWV9TVEFMRSBmcm9tIHRoZSBsYXN0IHN0ZXAuXG4gKiAgICBnbyB0byBzdGVwIDIuIGVpdGhlciB3YXlcbiAqXG4gKiBJZiBhdCBhbnkgcG9pbnQgaXQncyBvdXRzaWRlIGJhdGNoIGFuZCBpdCBpc24ndCBvYnNlcnZlZDogcmVzZXQgZXZlcnl0aGluZyBhbmQgZ28gdG8gMS5cbiAqL1xudmFyIENvbXB1dGVkVmFsdWUkJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbXB1dGVkIHZhbHVlIGJhc2VkIG9uIGEgZnVuY3Rpb24gZXhwcmVzc2lvbi5cbiAgICAgKlxuICAgICAqIFRoZSBgbmFtZWAgcHJvcGVydHkgaXMgZm9yIGRlYnVnIHB1cnBvc2VzIG9ubHkuXG4gICAgICpcbiAgICAgKiBUaGUgYGVxdWFsc2AgcHJvcGVydHkgc3BlY2lmaWVzIHRoZSBjb21wYXJlciBmdW5jdGlvbiB0byB1c2UgdG8gZGV0ZXJtaW5lIGlmIGEgbmV3bHkgcHJvZHVjZWRcbiAgICAgKiB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHByZXZpb3VzIHZhbHVlLiBUd28gY29tcGFyZXJzIGFyZSBwcm92aWRlZCBpbiB0aGUgbGlicmFyeTsgYGRlZmF1bHRDb21wYXJlcmBcbiAgICAgKiBjb21wYXJlcyBiYXNlZCBvbiBpZGVudGl0eSBjb21wYXJpc29uICg9PT0pLCBhbmQgYHN0cnVjdHVhbENvbXBhcmVyYCBkZWVwbHkgY29tcGFyZXMgdGhlIHN0cnVjdHVyZS5cbiAgICAgKiBTdHJ1Y3R1cmFsIGNvbXBhcmlzb24gY2FuIGJlIGNvbnZlbmllbnQgaWYgeW91IGFsd2F5cyBwcm9kdWNlIGEgbmV3IGFnZ3JlZ2F0ZWQgb2JqZWN0IGFuZFxuICAgICAqIGRvbid0IHdhbnQgdG8gbm90aWZ5IG9ic2VydmVycyBpZiBpdCBpcyBzdHJ1Y3R1cmFsbHkgdGhlIHNhbWUuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHdvcmtpbmcgd2l0aCB2ZWN0b3JzLCBtb3VzZSBjb29yZGluYXRlcyBldGMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcHV0ZWRWYWx1ZSQkMShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbiAgICAgICAgdGhpcy5vYnNlcnZpbmcgPSBbXTsgLy8gbm9kZXMgd2UgYXJlIGxvb2tpbmcgYXQuIE91ciB2YWx1ZSBkZXBlbmRzIG9uIHRoZXNlIG5vZGVzXG4gICAgICAgIHRoaXMubmV3T2JzZXJ2aW5nID0gbnVsbDsgLy8gZHVyaW5nIHRyYWNraW5nIGl0J3MgYW4gYXJyYXkgd2l0aCBuZXcgb2JzZXJ2ZWQgb2JzZXJ2ZXJzXG4gICAgICAgIHRoaXMuaXNCZWluZ09ic2VydmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5kaWZmVmFsdWUgPSAwO1xuICAgICAgICB0aGlzLnJ1bklkID0gMDtcbiAgICAgICAgdGhpcy5sYXN0QWNjZXNzZWRCeSA9IDA7XG4gICAgICAgIHRoaXMubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURTtcbiAgICAgICAgdGhpcy51bmJvdW5kRGVwc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fX21hcGlkID0gXCIjXCIgKyBnZXROZXh0SWQkJDEoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ldyBDYXVnaHRFeGNlcHRpb24kJDEobnVsbCk7XG4gICAgICAgIHRoaXMuaXNDb21wdXRpbmcgPSBmYWxzZTsgLy8gdG8gY2hlY2sgZm9yIGN5Y2xlc1xuICAgICAgICB0aGlzLmlzUnVubmluZ1NldHRlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzVHJhY2luZyA9IFRyYWNlTW9kZSQkMS5OT05FO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFvcHRpb25zLmdldClcbiAgICAgICAgICAgIHRocm93IFwiW21vYnhdIG1pc3Npbmcgb3B0aW9uIGZvciBjb21wdXRlZDogZ2V0XCI7XG4gICAgICAgIHRoaXMuZGVyaXZhdGlvbiA9IG9wdGlvbnMuZ2V0O1xuICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgXCJDb21wdXRlZFZhbHVlQFwiICsgZ2V0TmV4dElkJCQxKCk7XG4gICAgICAgIGlmIChvcHRpb25zLnNldClcbiAgICAgICAgICAgIHRoaXMuc2V0dGVyID0gY3JlYXRlQWN0aW9uJCQxKHRoaXMubmFtZSArIFwiLXNldHRlclwiLCBvcHRpb25zLnNldCk7XG4gICAgICAgIHRoaXMuZXF1YWxzID1cbiAgICAgICAgICAgIG9wdGlvbnMuZXF1YWxzIHx8XG4gICAgICAgICAgICAgICAgKG9wdGlvbnMuY29tcGFyZVN0cnVjdHVyYWwgfHwgb3B0aW9ucy5zdHJ1Y3RcbiAgICAgICAgICAgICAgICAgICAgPyBjb21wYXJlciQkMS5zdHJ1Y3R1cmFsXG4gICAgICAgICAgICAgICAgICAgIDogY29tcGFyZXIkJDEuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVxdWlyZXNSZWFjdGlvbiA9ICEhb3B0aW9ucy5yZXF1aXJlc1JlYWN0aW9uO1xuICAgICAgICB0aGlzLmtlZXBBbGl2ZSA9ICEhb3B0aW9ucy5rZWVwQWxpdmU7XG4gICAgfVxuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLm9uQmVjb21lU3RhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHByb3BhZ2F0ZU1heWJlQ2hhbmdlZCQkMSh0aGlzKTtcbiAgICB9O1xuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLm9uQmVjb21lT2JzZXJ2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQmVjb21lT2JzZXJ2ZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMub25CZWNvbWVPYnNlcnZlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLm9uQmVjb21lVW5vYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub25CZWNvbWVVbm9ic2VydmVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm9uQmVjb21lVW5vYnNlcnZlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhpcyBjb21wdXRlZCB2YWx1ZS5cbiAgICAgKiBXaWxsIGV2YWx1YXRlIGl0cyBjb21wdXRhdGlvbiBmaXJzdCBpZiBuZWVkZWQuXG4gICAgICovXG4gICAgQ29tcHV0ZWRWYWx1ZSQkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NvbXB1dGluZylcbiAgICAgICAgICAgIGZhaWwkJDEoXCJDeWNsZSBkZXRlY3RlZCBpbiBjb21wdXRhdGlvbiBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMuZGVyaXZhdGlvbik7XG4gICAgICAgIGlmIChnbG9iYWxTdGF0ZSQkMS5pbkJhdGNoID09PSAwICYmIHRoaXMub2JzZXJ2ZXJzLnNpemUgPT09IDAgJiYgIXRoaXMua2VlcEFsaXZlKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29tcHV0ZSQkMSh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2FybkFib3V0VW50cmFja2VkUmVhZCgpO1xuICAgICAgICAgICAgICAgIHN0YXJ0QmF0Y2gkJDEoKTsgLy8gU2VlIHBlcmYgdGVzdCAnY29tcHV0ZWQgbWVtb2l6YXRpb24nXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuY29tcHV0ZVZhbHVlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBlbmRCYXRjaCQkMSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0T2JzZXJ2ZWQkJDEodGhpcyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29tcHV0ZSQkMSh0aGlzKSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFja0FuZENvbXB1dGUoKSlcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlQ2hhbmdlQ29uZmlybWVkJCQxKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnZhbHVlO1xuICAgICAgICBpZiAoaXNDYXVnaHRFeGNlcHRpb24kJDEocmVzdWx0KSlcbiAgICAgICAgICAgIHRocm93IHJlc3VsdC5jYXVzZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXMgPSB0aGlzLmNvbXB1dGVWYWx1ZShmYWxzZSk7XG4gICAgICAgIGlmIChpc0NhdWdodEV4Y2VwdGlvbiQkMShyZXMpKVxuICAgICAgICAgICAgdGhyb3cgcmVzLmNhdXNlO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgQ29tcHV0ZWRWYWx1ZSQkMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnNldHRlcikge1xuICAgICAgICAgICAgaW52YXJpYW50JCQxKCF0aGlzLmlzUnVubmluZ1NldHRlciwgXCJUaGUgc2V0dGVyIG9mIGNvbXB1dGVkIHZhbHVlICdcIiArIHRoaXMubmFtZSArIFwiJyBpcyB0cnlpbmcgdG8gdXBkYXRlIGl0c2VsZi4gRGlkIHlvdSBpbnRlbmQgdG8gdXBkYXRlIGFuIF9vYnNlcnZhYmxlXyB2YWx1ZSwgaW5zdGVhZCBvZiB0aGUgY29tcHV0ZWQgcHJvcGVydHk/XCIpO1xuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmdTZXR0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRlci5jYWxsKHRoaXMuc2NvcGUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaW52YXJpYW50JCQxKGZhbHNlLCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICBcIltDb21wdXRlZFZhbHVlICdcIiArIHRoaXMubmFtZSArIFwiJ10gSXQgaXMgbm90IHBvc3NpYmxlIHRvIGFzc2lnbiBhIG5ldyB2YWx1ZSB0byBhIGNvbXB1dGVkIHZhbHVlLlwiKTtcbiAgICB9O1xuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLnRyYWNrQW5kQ29tcHV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzU3B5RW5hYmxlZCQkMSgpICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgc3B5UmVwb3J0JCQxKHtcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMuc2NvcGUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjb21wdXRlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICB2YXIgd2FzU3VzcGVuZGVkID0gXG4gICAgICAgIC8qIHNlZSAjMTIwOCAqLyB0aGlzLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdGhpcy5jb21wdXRlVmFsdWUodHJ1ZSk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gd2FzU3VzcGVuZGVkIHx8XG4gICAgICAgICAgICBpc0NhdWdodEV4Y2VwdGlvbiQkMShvbGRWYWx1ZSkgfHxcbiAgICAgICAgICAgIGlzQ2F1Z2h0RXhjZXB0aW9uJCQxKG5ld1ZhbHVlKSB8fFxuICAgICAgICAgICAgIXRoaXMuZXF1YWxzKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfTtcbiAgICBDb21wdXRlZFZhbHVlJCQxLnByb3RvdHlwZS5jb21wdXRlVmFsdWUgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgdGhpcy5pc0NvbXB1dGluZyA9IHRydWU7XG4gICAgICAgIGdsb2JhbFN0YXRlJCQxLmNvbXB1dGF0aW9uRGVwdGgrKztcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICByZXMgPSB0cmFja0Rlcml2ZWRGdW5jdGlvbiQkMSh0aGlzLCB0aGlzLmRlcml2YXRpb24sIHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGdsb2JhbFN0YXRlJCQxLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmRlcml2YXRpb24uY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZGVyaXZhdGlvbi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSBuZXcgQ2F1Z2h0RXhjZXB0aW9uJCQxKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxTdGF0ZSQkMS5jb21wdXRhdGlvbkRlcHRoLS07XG4gICAgICAgIHRoaXMuaXNDb21wdXRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIENvbXB1dGVkVmFsdWUkJDEucHJvdG90eXBlLnN1c3BlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5rZWVwQWxpdmUpIHtcbiAgICAgICAgICAgIGNsZWFyT2JzZXJ2aW5nJCQxKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgaG9sZCBvbiB0byBjb21wdXRlZCB2YWx1ZSFcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcHV0ZWRWYWx1ZSQkMS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldlZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gYXV0b3J1biQkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBfdGhpcy5nZXQoKTtcbiAgICAgICAgICAgIGlmICghZmlyc3RUaW1lIHx8IGZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2VSA9IHVudHJhY2tlZFN0YXJ0JCQxKCk7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IF90aGlzLFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBwcmV2VmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQkJDEocHJldlUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICBwcmV2VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21wdXRlZFZhbHVlJCQxLnByb3RvdHlwZS53YXJuQWJvdXRVbnRyYWNrZWRSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5yZXF1aXJlc1JlYWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICBmYWlsJCQxKFwiW21vYnhdIENvbXB1dGVkIHZhbHVlIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1RyYWNpbmcgIT09IFRyYWNlTW9kZSQkMS5OT05FKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlttb2J4LnRyYWNlXSAnXCIgKyB0aGlzLm5hbWUgKyBcIicgaXMgYmVpbmcgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dC4gRG9pbmcgYSBmdWxsIHJlY29tcHV0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xvYmFsU3RhdGUkJDEuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gQ29tcHV0ZWQgdmFsdWUgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyBiZWluZyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0LiBEb2luZyBhIGZ1bGwgcmVjb21wdXRlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21wdXRlZFZhbHVlJCQxLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xuICAgIH07XG4gICAgQ29tcHV0ZWRWYWx1ZSQkMS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIltcIiArIHRoaXMuZGVyaXZhdGlvbi50b1N0cmluZygpICsgXCJdXCI7XG4gICAgfTtcbiAgICBDb21wdXRlZFZhbHVlJCQxLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdG9QcmltaXRpdmUkJDEodGhpcy5nZXQoKSk7XG4gICAgfTtcbiAgICBDb21wdXRlZFZhbHVlJCQxLnByb3RvdHlwZVtTeW1ib2wudG9QcmltaXRpdmVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcHV0ZWRWYWx1ZSQkMTtcbn0oKSk7XG52YXIgaXNDb21wdXRlZFZhbHVlJCQxID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZSQkMShcIkNvbXB1dGVkVmFsdWVcIiwgQ29tcHV0ZWRWYWx1ZSQkMSk7XG5cbnZhciBJRGVyaXZhdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChJRGVyaXZhdGlvblN0YXRlJCQxKSB7XG4gICAgLy8gYmVmb3JlIGJlaW5nIHJ1biBvciAob3V0c2lkZSBiYXRjaCBhbmQgbm90IGJlaW5nIG9ic2VydmVkKVxuICAgIC8vIGF0IHRoaXMgcG9pbnQgZGVyaXZhdGlvbiBpcyBub3QgaG9sZGluZyBhbnkgZGF0YSBhYm91dCBkZXBlbmRlbmN5IHRyZWVcbiAgICBJRGVyaXZhdGlvblN0YXRlJCQxW0lEZXJpdmF0aW9uU3RhdGUkJDFbXCJOT1RfVFJBQ0tJTkdcIl0gPSAtMV0gPSBcIk5PVF9UUkFDS0lOR1wiO1xuICAgIC8vIG5vIHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkIHNpbmNlIGxhc3QgY29tcHV0YXRpb25cbiAgICAvLyB3b24ndCByZWNhbGN1bGF0ZSBkZXJpdmF0aW9uXG4gICAgLy8gdGhpcyBpcyB3aGF0IG1ha2VzIG1vYnggZmFzdFxuICAgIElEZXJpdmF0aW9uU3RhdGUkJDFbSURlcml2YXRpb25TdGF0ZSQkMVtcIlVQX1RPX0RBVEVcIl0gPSAwXSA9IFwiVVBfVE9fREFURVwiO1xuICAgIC8vIHNvbWUgZGVlcCBkZXBlbmRlbmN5IGNoYW5nZWQsIGJ1dCBkb24ndCBrbm93IGlmIHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkXG4gICAgLy8gd2lsbCByZXF1aXJlIHRvIGNoZWNrIGZpcnN0IGlmIFVQX1RPX0RBVEUgb3IgUE9TU0lCTFlfU1RBTEVcbiAgICAvLyBjdXJyZW50bHkgb25seSBDb21wdXRlZFZhbHVlIHdpbGwgcHJvcGFnYXRlIFBPU1NJQkxZX1NUQUxFXG4gICAgLy9cbiAgICAvLyBoYXZpbmcgdGhpcyBzdGF0ZSBpcyBzZWNvbmQgYmlnIG9wdGltaXphdGlvbjpcbiAgICAvLyBkb24ndCBoYXZlIHRvIHJlY29tcHV0ZSBvbiBldmVyeSBkZXBlbmRlbmN5IGNoYW5nZSwgYnV0IG9ubHkgd2hlbiBpdCdzIG5lZWRlZFxuICAgIElEZXJpdmF0aW9uU3RhdGUkJDFbSURlcml2YXRpb25TdGF0ZSQkMVtcIlBPU1NJQkxZX1NUQUxFXCJdID0gMV0gPSBcIlBPU1NJQkxZX1NUQUxFXCI7XG4gICAgLy8gQSBzaGFsbG93IGRlcGVuZGVuY3kgaGFzIGNoYW5nZWQgc2luY2UgbGFzdCBjb21wdXRhdGlvbiBhbmQgdGhlIGRlcml2YXRpb25cbiAgICAvLyB3aWxsIG5lZWQgdG8gcmVjb21wdXRlIHdoZW4gaXQncyBuZWVkZWQgbmV4dC5cbiAgICBJRGVyaXZhdGlvblN0YXRlJCQxW0lEZXJpdmF0aW9uU3RhdGUkJDFbXCJTVEFMRVwiXSA9IDJdID0gXCJTVEFMRVwiO1xufSkoSURlcml2YXRpb25TdGF0ZSB8fCAoSURlcml2YXRpb25TdGF0ZSA9IHt9KSk7XG52YXIgVHJhY2VNb2RlJCQxO1xuKGZ1bmN0aW9uIChUcmFjZU1vZGUkJDEpIHtcbiAgICBUcmFjZU1vZGUkJDFbVHJhY2VNb2RlJCQxW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgVHJhY2VNb2RlJCQxW1RyYWNlTW9kZSQkMVtcIkxPR1wiXSA9IDFdID0gXCJMT0dcIjtcbiAgICBUcmFjZU1vZGUkJDFbVHJhY2VNb2RlJCQxW1wiQlJFQUtcIl0gPSAyXSA9IFwiQlJFQUtcIjtcbn0pKFRyYWNlTW9kZSQkMSB8fCAoVHJhY2VNb2RlJCQxID0ge30pKTtcbnZhciBDYXVnaHRFeGNlcHRpb24kJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2F1Z2h0RXhjZXB0aW9uJCQxKGNhdXNlKSB7XG4gICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICAgICAgLy8gRW1wdHlcbiAgICB9XG4gICAgcmV0dXJuIENhdWdodEV4Y2VwdGlvbiQkMTtcbn0oKSk7XG5mdW5jdGlvbiBpc0NhdWdodEV4Y2VwdGlvbiQkMShlKSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBDYXVnaHRFeGNlcHRpb24kJDE7XG59XG4vKipcbiAqIEZpbmRzIG91dCB3aGV0aGVyIGFueSBkZXBlbmRlbmN5IG9mIHRoZSBkZXJpdmF0aW9uIGhhcyBhY3R1YWxseSBjaGFuZ2VkLlxuICogSWYgZGVwZW5kZW5jaWVzU3RhdGUgaXMgMSB0aGVuIGl0IHdpbGwgcmVjYWxjdWxhdGUgZGVwZW5kZW5jaWVzLFxuICogaWYgYW55IGRlcGVuZGVuY3kgY2hhbmdlZCBpdCB3aWxsIHByb3BhZ2F0ZSBpdCBieSBjaGFuZ2luZyBkZXBlbmRlbmNpZXNTdGF0ZSB0byAyLlxuICpcbiAqIEJ5IGl0ZXJhdGluZyBvdmVyIHRoZSBkZXBlbmRlbmNpZXMgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IHdlcmUgcmVwb3J0ZWQgYW5kXG4gKiBzdG9wcGluZyBvbiB0aGUgZmlyc3QgY2hhbmdlLCBhbGwgdGhlIHJlY2FsY3VsYXRpb25zIGFyZSBvbmx5IGNhbGxlZCBmb3IgQ29tcHV0ZWRWYWx1ZXNcbiAqIHRoYXQgd2lsbCBiZSB0cmFja2VkIGJ5IGRlcml2YXRpb24uIFRoYXQgaXMgYmVjYXVzZSB3ZSBhc3N1bWUgdGhhdCBpZiB0aGUgZmlyc3QgeFxuICogZGVwZW5kZW5jaWVzIG9mIHRoZSBkZXJpdmF0aW9uIGRvZXNuJ3QgY2hhbmdlIHRoZW4gdGhlIGRlcml2YXRpb24gc2hvdWxkIHJ1biB0aGUgc2FtZSB3YXlcbiAqIHVwIHVudGlsIGFjY2Vzc2luZyB4LXRoIGRlcGVuZGVuY3kuXG4gKi9cbmZ1bmN0aW9uIHNob3VsZENvbXB1dGUkJDEoZGVyaXZhdGlvbikge1xuICAgIHN3aXRjaCAoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSkge1xuICAgICAgICBjYXNlIElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURTpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORzpcbiAgICAgICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRToge1xuICAgICAgICAgICAgdmFyIHByZXZVbnRyYWNrZWQgPSB1bnRyYWNrZWRTdGFydCQkMSgpOyAvLyBubyBuZWVkIGZvciB0aG9zZSBjb21wdXRlZHMgdG8gYmUgcmVwb3J0ZWQsIHRoZXkgd2lsbCBiZSBwaWNrZWQgdXAgaW4gdHJhY2tEZXJpdmVkRnVuY3Rpb24uXG4gICAgICAgICAgICB2YXIgb2JzID0gZGVyaXZhdGlvbi5vYnNlcnZpbmcsIGwgPSBvYnMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gb2JzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkVmFsdWUkJDEob2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsU3RhdGUkJDEuZGlzYWJsZUVycm9yQm91bmRhcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgaW50ZXJlc3RlZCBpbiB0aGUgdmFsdWUgKm9yKiBleGNlcHRpb24gYXQgdGhpcyBtb21lbnQsIGJ1dCBpZiB0aGVyZSBpcyBvbmUsIG5vdGlmeSBhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQkJDEocHJldlVudHJhY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ29tcHV0ZWRWYWx1ZSBgb2JqYCBhY3R1YWxseSBjaGFuZ2VkIGl0IHdpbGwgYmUgY29tcHV0ZWQgYW5kIHByb3BhZ2F0ZWQgdG8gaXRzIG9ic2VydmVycy5cbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGBkZXJpdmF0aW9uYCBpcyBhbiBvYnNlcnZlciBvZiBgb2JqYFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZhcmlhbnRTaG91bGRDb21wdXRlKGRlcml2YXRpb24pXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQkJDEocHJldlVudHJhY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZURlcGVuZGVuY2llc1N0YXRlVG8wJCQxKGRlcml2YXRpb24pO1xuICAgICAgICAgICAgdW50cmFja2VkRW5kJCQxKHByZXZVbnRyYWNrZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gZnVuY3Rpb24gaW52YXJpYW50U2hvdWxkQ29tcHV0ZShkZXJpdmF0aW9uOiBJRGVyaXZhdGlvbikge1xuLy8gICAgIGNvbnN0IG5ld0RlcFN0YXRlID0gKGRlcml2YXRpb24gYXMgYW55KS5kZXBlbmRlbmNpZXNTdGF0ZVxuLy8gICAgIGlmIChcbi8vICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiICYmXG4vLyAgICAgICAgIChuZXdEZXBTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRSB8fFxuLy8gICAgICAgICAgICAgbmV3RGVwU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HKVxuLy8gICAgIClcbi8vICAgICAgICAgZmFpbChcIklsbGVnYWwgZGVwZW5kZW5jeSBzdGF0ZVwiKVxuLy8gfVxuZnVuY3Rpb24gaXNDb21wdXRpbmdEZXJpdmF0aW9uJCQxKCkge1xuICAgIHJldHVybiBnbG9iYWxTdGF0ZSQkMS50cmFja2luZ0Rlcml2YXRpb24gIT09IG51bGw7IC8vIGZpbHRlciBvdXQgYWN0aW9ucyBpbnNpZGUgY29tcHV0YXRpb25zXG59XG5mdW5jdGlvbiBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCQkMShhdG9tKSB7XG4gICAgdmFyIGhhc09ic2VydmVycyQkMSA9IGF0b20ub2JzZXJ2ZXJzLnNpemUgPiAwO1xuICAgIC8vIFNob3VsZCBuZXZlciBiZSBwb3NzaWJsZSB0byBjaGFuZ2UgYW4gb2JzZXJ2ZWQgb2JzZXJ2YWJsZSBmcm9tIGluc2lkZSBjb21wdXRlZCwgc2VlICM3OThcbiAgICBpZiAoZ2xvYmFsU3RhdGUkJDEuY29tcHV0YXRpb25EZXB0aCA+IDAgJiYgaGFzT2JzZXJ2ZXJzJCQxKVxuICAgICAgICBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgXCJDb21wdXRlZCB2YWx1ZXMgYXJlIG5vdCBhbGxvd2VkIHRvIGNhdXNlIHNpZGUgZWZmZWN0cyBieSBjaGFuZ2luZyBvYnNlcnZhYmxlcyB0aGF0IGFyZSBhbHJlYWR5IGJlaW5nIG9ic2VydmVkLiBUcmllZCB0byBtb2RpZnk6IFwiICsgYXRvbS5uYW1lKTtcbiAgICAvLyBTaG91bGQgbm90IGJlIHBvc3NpYmxlIHRvIGNoYW5nZSBvYnNlcnZlZCBzdGF0ZSBvdXRzaWRlIHN0cmljdCBtb2RlLCBleGNlcHQgZHVyaW5nIGluaXRpYWxpemF0aW9uLCBzZWUgIzU2M1xuICAgIGlmICghZ2xvYmFsU3RhdGUkJDEuYWxsb3dTdGF0ZUNoYW5nZXMgJiYgKGhhc09ic2VydmVycyQkMSB8fCBnbG9iYWxTdGF0ZSQkMS5lbmZvcmNlQWN0aW9ucyA9PT0gXCJzdHJpY3RcIikpXG4gICAgICAgIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICAoZ2xvYmFsU3RhdGUkJDEuZW5mb3JjZUFjdGlvbnNcbiAgICAgICAgICAgICAgICA/IFwiU2luY2Ugc3RyaWN0LW1vZGUgaXMgZW5hYmxlZCwgY2hhbmdpbmcgb2JzZXJ2ZWQgb2JzZXJ2YWJsZSB2YWx1ZXMgb3V0c2lkZSBhY3Rpb25zIGlzIG5vdCBhbGxvd2VkLiBQbGVhc2Ugd3JhcCB0aGUgY29kZSBpbiBhbiBgYWN0aW9uYCBpZiB0aGlzIGNoYW5nZSBpcyBpbnRlbmRlZC4gVHJpZWQgdG8gbW9kaWZ5OiBcIlxuICAgICAgICAgICAgICAgIDogXCJTaWRlIGVmZmVjdHMgbGlrZSBjaGFuZ2luZyBzdGF0ZSBhcmUgbm90IGFsbG93ZWQgYXQgdGhpcyBwb2ludC4gQXJlIHlvdSB0cnlpbmcgdG8gbW9kaWZ5IHN0YXRlIGZyb20sIGZvciBleGFtcGxlLCB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9mIGEgUmVhY3QgY29tcG9uZW50PyBUcmllZCB0byBtb2RpZnk6IFwiKSArXG4gICAgICAgICAgICAgICAgYXRvbS5uYW1lKTtcbn1cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIGBmYCBhbmQgdHJhY2tzIHdoaWNoIG9ic2VydmFibGVzIGFyZSBiZWluZyBhY2Nlc3NlZC5cbiAqIFRoZSB0cmFja2luZyBpbmZvcm1hdGlvbiBpcyBzdG9yZWQgb24gdGhlIGBkZXJpdmF0aW9uYCBvYmplY3QgYW5kIHRoZSBkZXJpdmF0aW9uIGlzIHJlZ2lzdGVyZWRcbiAqIGFzIG9ic2VydmVyIG9mIGFueSBvZiB0aGUgYWNjZXNzZWQgb2JzZXJ2YWJsZXMuXG4gKi9cbmZ1bmN0aW9uIHRyYWNrRGVyaXZlZEZ1bmN0aW9uJCQxKGRlcml2YXRpb24sIGYsIGNvbnRleHQpIHtcbiAgICAvLyBwcmUgYWxsb2NhdGUgYXJyYXkgYWxsb2NhdGlvbiArIHJvb20gZm9yIHZhcmlhdGlvbiBpbiBkZXBzXG4gICAgLy8gYXJyYXkgd2lsbCBiZSB0cmltbWVkIGJ5IGJpbmREZXBlbmRlbmNpZXNcbiAgICBjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMCQkMShkZXJpdmF0aW9uKTtcbiAgICBkZXJpdmF0aW9uLm5ld09ic2VydmluZyA9IG5ldyBBcnJheShkZXJpdmF0aW9uLm9ic2VydmluZy5sZW5ndGggKyAxMDApO1xuICAgIGRlcml2YXRpb24udW5ib3VuZERlcHNDb3VudCA9IDA7XG4gICAgZGVyaXZhdGlvbi5ydW5JZCA9ICsrZ2xvYmFsU3RhdGUkJDEucnVuSWQ7XG4gICAgdmFyIHByZXZUcmFja2luZyA9IGdsb2JhbFN0YXRlJCQxLnRyYWNraW5nRGVyaXZhdGlvbjtcbiAgICBnbG9iYWxTdGF0ZSQkMS50cmFja2luZ0Rlcml2YXRpb24gPSBkZXJpdmF0aW9uO1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGdsb2JhbFN0YXRlJCQxLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIHtcbiAgICAgICAgcmVzdWx0ID0gZi5jYWxsKGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGYuY2FsbChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IENhdWdodEV4Y2VwdGlvbiQkMShlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnbG9iYWxTdGF0ZSQkMS50cmFja2luZ0Rlcml2YXRpb24gPSBwcmV2VHJhY2tpbmc7XG4gICAgYmluZERlcGVuZGVuY2llcyhkZXJpdmF0aW9uKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBkaWZmcyBuZXdPYnNlcnZpbmcgd2l0aCBvYnNlcnZpbmcuXG4gKiB1cGRhdGUgb2JzZXJ2aW5nIHRvIGJlIG5ld09ic2VydmluZyB3aXRoIHVuaXF1ZSBvYnNlcnZhYmxlc1xuICogbm90aWZ5IG9ic2VydmVycyB0aGF0IGJlY29tZSBvYnNlcnZlZC91bm9ic2VydmVkXG4gKi9cbmZ1bmN0aW9uIGJpbmREZXBlbmRlbmNpZXMoZGVyaXZhdGlvbikge1xuICAgIC8vIGludmFyaWFudChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlICE9PSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORywgXCJJTlRFUk5BTCBFUlJPUiBiaW5kRGVwZW5kZW5jaWVzIGV4cGVjdHMgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTFcIik7XG4gICAgdmFyIHByZXZPYnNlcnZpbmcgPSBkZXJpdmF0aW9uLm9ic2VydmluZztcbiAgICB2YXIgb2JzZXJ2aW5nID0gKGRlcml2YXRpb24ub2JzZXJ2aW5nID0gZGVyaXZhdGlvbi5uZXdPYnNlcnZpbmcpO1xuICAgIHZhciBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU7XG4gICAgLy8gR28gdGhyb3VnaCBhbGwgbmV3IG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6ICh0aGlzIGxpc3QgY2FuIGNvbnRhaW4gZHVwbGljYXRlcyk6XG4gICAgLy8gICAwOiBmaXJzdCBvY2N1cnJlbmNlLCBjaGFuZ2UgdG8gMSBhbmQga2VlcCBpdFxuICAgIC8vICAgMTogZXh0cmEgb2NjdXJyZW5jZSwgZHJvcCBpdFxuICAgIHZhciBpMCA9IDAsIGwgPSBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGRlcCA9IG9ic2VydmluZ1tpXTtcbiAgICAgICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIGRlcC5kaWZmVmFsdWUgPSAxO1xuICAgICAgICAgICAgaWYgKGkwICE9PSBpKVxuICAgICAgICAgICAgICAgIG9ic2VydmluZ1tpMF0gPSBkZXA7XG4gICAgICAgICAgICBpMCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwY2FzdCBpcyAnc2FmZScgaGVyZSwgYmVjYXVzZSBpZiBkZXAgaXMgSU9ic2VydmFibGUsIGBkZXBlbmRlbmNpZXNTdGF0ZWAgd2lsbCBiZSB1bmRlZmluZWQsXG4gICAgICAgIC8vIG5vdCBoaXR0aW5nIHRoZSBjb25kaXRpb25cbiAgICAgICAgaWYgKGRlcC5kZXBlbmRlbmNpZXNTdGF0ZSA+IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgbG93ZXN0TmV3T2JzZXJ2aW5nRGVyaXZhdGlvblN0YXRlID0gZGVwLmRlcGVuZGVuY2llc1N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9ic2VydmluZy5sZW5ndGggPSBpMDtcbiAgICBkZXJpdmF0aW9uLm5ld09ic2VydmluZyA9IG51bGw7IC8vIG5ld09ic2VydmluZyBzaG91bGRuJ3QgYmUgbmVlZGVkIG91dHNpZGUgdHJhY2tpbmcgKHN0YXRlbWVudCBtb3ZlZCBkb3duIHRvIHdvcmsgYXJvdW5kIEZGIGJ1Zywgc2VlICM2MTQpXG4gICAgLy8gR28gdGhyb3VnaCBhbGwgb2xkIG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6IChpdCBpcyB1bmlxdWUgYWZ0ZXIgbGFzdCBiaW5kRGVwZW5kZW5jaWVzKVxuICAgIC8vICAgMDogaXQncyBub3QgaW4gbmV3IG9ic2VydmFibGVzLCB1bm9ic2VydmUgaXRcbiAgICAvLyAgIDE6IGl0IGtlZXBzIGJlaW5nIG9ic2VydmVkLCBkb24ndCB3YW50IHRvIG5vdGlmeSBpdC4gY2hhbmdlIHRvIDBcbiAgICBsID0gcHJldk9ic2VydmluZy5sZW5ndGg7XG4gICAgd2hpbGUgKGwtLSkge1xuICAgICAgICB2YXIgZGVwID0gcHJldk9ic2VydmluZ1tsXTtcbiAgICAgICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHJlbW92ZU9ic2VydmVyJCQxKGRlcCwgZGVyaXZhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZGVwLmRpZmZWYWx1ZSA9IDA7XG4gICAgfVxuICAgIC8vIEdvIHRocm91Z2ggYWxsIG5ldyBvYnNlcnZhYmxlcyBhbmQgY2hlY2sgZGlmZlZhbHVlOiAobm93IGl0IHNob3VsZCBiZSB1bmlxdWUpXG4gICAgLy8gICAwOiBpdCB3YXMgc2V0IHRvIDAgaW4gbGFzdCBsb29wLiBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nLlxuICAgIC8vICAgMTogaXQgd2Fzbid0IG9ic2VydmVkLCBsZXQncyBvYnNlcnZlIGl0LiBzZXQgYmFjayB0byAwXG4gICAgd2hpbGUgKGkwLS0pIHtcbiAgICAgICAgdmFyIGRlcCA9IG9ic2VydmluZ1tpMF07XG4gICAgICAgIGlmIChkZXAuZGlmZlZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICBkZXAuZGlmZlZhbHVlID0gMDtcbiAgICAgICAgICAgIGFkZE9ic2VydmVyJCQxKGRlcCwgZGVyaXZhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU29tZSBuZXcgb2JzZXJ2ZWQgZGVyaXZhdGlvbnMgbWF5IGJlY29tZSBzdGFsZSBkdXJpbmcgdGhpcyBkZXJpdmF0aW9uIGNvbXB1dGF0aW9uXG4gICAgLy8gc28gdGhleSBoYXZlIGhhZCBubyBjaGFuY2UgdG8gcHJvcGFnYXRlIHN0YWxlbmVzcyAoIzkxNilcbiAgICBpZiAobG93ZXN0TmV3T2JzZXJ2aW5nRGVyaXZhdGlvblN0YXRlICE9PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUpIHtcbiAgICAgICAgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSA9IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZTtcbiAgICAgICAgZGVyaXZhdGlvbi5vbkJlY29tZVN0YWxlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJPYnNlcnZpbmckJDEoZGVyaXZhdGlvbikge1xuICAgIC8vIGludmFyaWFudChnbG9iYWxTdGF0ZS5pbkJhdGNoID4gMCwgXCJJTlRFUk5BTCBFUlJPUiBjbGVhck9ic2VydmluZyBzaG91bGQgYmUgY2FsbGVkIG9ubHkgaW5zaWRlIGJhdGNoXCIpO1xuICAgIHZhciBvYnMgPSBkZXJpdmF0aW9uLm9ic2VydmluZztcbiAgICBkZXJpdmF0aW9uLm9ic2VydmluZyA9IFtdO1xuICAgIHZhciBpID0gb2JzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICByZW1vdmVPYnNlcnZlciQkMShvYnNbaV0sIGRlcml2YXRpb24pO1xuICAgIGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbn1cbmZ1bmN0aW9uIHVudHJhY2tlZCQkMShhY3Rpb24kJDEpIHtcbiAgICB2YXIgcHJldiA9IHVudHJhY2tlZFN0YXJ0JCQxKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbiQkMSgpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdW50cmFja2VkRW5kJCQxKHByZXYpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVudHJhY2tlZFN0YXJ0JCQxKCkge1xuICAgIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUkJDEudHJhY2tpbmdEZXJpdmF0aW9uO1xuICAgIGdsb2JhbFN0YXRlJCQxLnRyYWNraW5nRGVyaXZhdGlvbiA9IG51bGw7XG4gICAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiB1bnRyYWNrZWRFbmQkJDEocHJldikge1xuICAgIGdsb2JhbFN0YXRlJCQxLnRyYWNraW5nRGVyaXZhdGlvbiA9IHByZXY7XG59XG4vKipcbiAqIG5lZWRlZCB0byBrZWVwIGBsb3dlc3RPYnNlcnZlclN0YXRlYCBjb3JyZWN0LiB3aGVuIGNoYW5naW5nIGZyb20gKDIgb3IgMSkgdG8gMFxuICpcbiAqL1xuZnVuY3Rpb24gY2hhbmdlRGVwZW5kZW5jaWVzU3RhdGVUbzAkJDEoZGVyaXZhdGlvbikge1xuICAgIGlmIChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUpXG4gICAgICAgIHJldHVybjtcbiAgICBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xuICAgIHZhciBvYnMgPSBkZXJpdmF0aW9uLm9ic2VydmluZztcbiAgICB2YXIgaSA9IG9icy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2JzW2ldLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU7XG59XG5cbi8qKlxuICogVGhlc2UgdmFsdWVzIHdpbGwgcGVyc2lzdCBpZiBnbG9iYWwgc3RhdGUgaXMgcmVzZXRcbiAqL1xudmFyIHBlcnNpc3RlbnRLZXlzID0gW1xuICAgIFwibW9ieEd1aWRcIixcbiAgICBcInNweUxpc3RlbmVyc1wiLFxuICAgIFwiZW5mb3JjZUFjdGlvbnNcIixcbiAgICBcImNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvblwiLFxuICAgIFwiZGlzYWJsZUVycm9yQm91bmRhcmllc1wiLFxuICAgIFwicnVuSWRcIixcbiAgICBcIlVOQ0hBTkdFRFwiXG5dO1xudmFyIE1vYlhHbG9iYWxzJCQxID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vYlhHbG9iYWxzJCQxKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogTW9iWEdsb2JhbHMgdmVyc2lvbi5cbiAgICAgICAgICogTW9iWCBjb21wYXRpYmxpdHkgd2l0aCBvdGhlciB2ZXJzaW9ucyBsb2FkZWQgaW4gbWVtb3J5IGFzIGxvbmcgYXMgdGhpcyB2ZXJzaW9uIG1hdGNoZXMuXG4gICAgICAgICAqIEl0IGluZGljYXRlcyB0aGF0IHRoZSBnbG9iYWwgc3RhdGUgc3RpbGwgc3RvcmVzIHNpbWlsYXIgaW5mb3JtYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogTi5COiB0aGlzIHZlcnNpb24gaXMgdW5yZWxhdGVkIHRvIHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgTW9iWCwgYW5kIGlzIG9ubHkgdGhlIHZlcnNpb24gb2YgdGhlXG4gICAgICAgICAqIGludGVybmFsIHN0YXRlIHN0b3JhZ2Ugb2YgTW9iWCwgYW5kIGNhbiBiZSB0aGUgc2FtZSBhY3Jvc3MgbWFueSBkaWZmZXJlbnQgcGFja2FnZSB2ZXJzaW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJzaW9uID0gNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdsb2JhbGx5IHVuaXF1ZSB0b2tlbiB0byBzaWduYWwgdW5jaGFuZ2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlVOQ0hBTkdFRCA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IHJ1bm5pbmcgZGVyaXZhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFja2luZ0Rlcml2YXRpb24gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXJlIHdlIHJ1bm5pbmcgYSBjb21wdXRhdGlvbiBjdXJyZW50bHk/IChub3QgYSByZWFjdGlvbilcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcHV0YXRpb25EZXB0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFYWNoIHRpbWUgYSBkZXJpdmF0aW9uIGlzIHRyYWNrZWQsIGl0IGlzIGFzc2lnbmVkIGEgdW5pcXVlIHJ1bi1pZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5JZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnZ3VpZCcgZm9yIGdlbmVyYWwgcHVycG9zZS4gV2lsbCBiZSBwZXJzaXN0ZWQgYW1vbmdzdCByZXNldHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vYnhHdWlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFyZSB3ZSBpbiBhIGJhdGNoIGJsb2NrPyAoYW5kIGhvdyBtYW55IG9mIHRoZW0pXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluQmF0Y2ggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogT2JzZXJ2YWJsZXMgdGhhdCBkb24ndCBoYXZlIG9ic2VydmVycyBhbnltb3JlLCBhbmQgYXJlIGFib3V0IHRvIGJlXG4gICAgICAgICAqIHN1c3BlbmRlZCwgdW5sZXNzIHNvbWVib2R5IGVsc2UgYWNjZXNzZXMgaXQgaW4gdGhlIHNhbWUgYmF0Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0lPYnNlcnZhYmxlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlbmRpbmdVbm9ic2VydmF0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBzY2hlZHVsZWQsIG5vdCB5ZXQgZXhlY3V0ZWQsIHJlYWN0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGVuZGluZ1JlYWN0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXJlIHdlIGN1cnJlbnRseSBwcm9jZXNzaW5nIHJlYWN0aW9ucz9cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmVhY3Rpb25zID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyBpdCBhbGxvd2VkIHRvIGNoYW5nZSBvYnNlcnZhYmxlcyBhdCB0aGlzIHBvaW50P1xuICAgICAgICAgKiBJbiBnZW5lcmFsLCBNb2JYIGRvZXNuJ3QgYWxsb3cgdGhhdCB3aGVuIHJ1bm5pbmcgY29tcHV0YXRpb25zIGFuZCBSZWFjdC5yZW5kZXIuXG4gICAgICAgICAqIFRvIGVuc3VyZSB0aGF0IHRob3NlIGZ1bmN0aW9ucyBzdGF5IHB1cmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFsbG93U3RhdGVDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHN0cmljdCBtb2RlIGlzIGVuYWJsZWQsIHN0YXRlIGNoYW5nZXMgYXJlIGJ5IGRlZmF1bHQgbm90IGFsbG93ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5mb3JjZUFjdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNweSBjYWxsYmFja3NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3B5TGlzdGVuZXJzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWxseSBhdHRhY2hlZCBlcnJvciBoYW5kbGVycyB0aGF0IHJlYWN0IHNwZWNpZmljYWxseSB0byBlcnJvcnMgaW4gcmVhY3Rpb25zXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2FybiBpZiBjb21wdXRlZCB2YWx1ZXMgYXJlIGFjY2Vzc2VkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAvKlxuICAgICAgICAgKiBEb24ndCBjYXRjaCBhbmQgcmV0aHJvdyBleGNlcHRpb25zLiBUaGlzIGlzIHVzZWZ1bCBmb3IgaW5zcGVjdGluZyB0aGUgc3RhdGUgb2ZcbiAgICAgICAgICogdGhlIHN0YWNrIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyB3aGlsZSBkZWJ1Z2dpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPSBmYWxzZTtcbiAgICAgICAgLypcbiAgICAgICAgICogSWYgdHJ1ZSwgd2UgYXJlIGFscmVhZHkgaGFuZGxpbmcgYW4gZXhjZXB0aW9uIGluIGFuIGFjdGlvbi4gQW55IGVycm9ycyBpbiByZWFjdGlvbnMgc2hvdWxkIGJlIHN1cHJlc3NlZCwgYXNcbiAgICAgICAgICogdGhleSBhcmUgbm90IHRoZSBjYXVzZSwgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvaXNzdWVzLzE4MzZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcHJlc3NSZWFjdGlvbkVycm9ycyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gTW9iWEdsb2JhbHMkJDE7XG59KCkpO1xudmFyIGNhbk1lcmdlR2xvYmFsU3RhdGUgPSB0cnVlO1xudmFyIGlzb2xhdGVDYWxsZWQgPSBmYWxzZTtcbnZhciBnbG9iYWxTdGF0ZSQkMSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbCQkMSgpO1xuICAgIGlmIChnbG9iYWwuX19tb2J4SW5zdGFuY2VDb3VudCA+IDAgJiYgIWdsb2JhbC5fX21vYnhHbG9iYWxzKVxuICAgICAgICBjYW5NZXJnZUdsb2JhbFN0YXRlID0gZmFsc2U7XG4gICAgaWYgKGdsb2JhbC5fX21vYnhHbG9iYWxzICYmIGdsb2JhbC5fX21vYnhHbG9iYWxzLnZlcnNpb24gIT09IG5ldyBNb2JYR2xvYmFscyQkMSgpLnZlcnNpb24pXG4gICAgICAgIGNhbk1lcmdlR2xvYmFsU3RhdGUgPSBmYWxzZTtcbiAgICBpZiAoIWNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWlzb2xhdGVDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBmYWlsJCQxKFwiVGhlcmUgYXJlIG11bHRpcGxlLCBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgTW9iWCBhY3RpdmUuIE1ha2Ugc3VyZSBNb2JYIGlzIGxvYWRlZCBvbmx5IG9uY2Ugb3IgdXNlIGBjb25maWd1cmUoeyBpc29sYXRlR2xvYmFsU3RhdGU6IHRydWUgfSlgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2JYR2xvYmFscyQkMSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChnbG9iYWwuX19tb2J4R2xvYmFscykge1xuICAgICAgICBnbG9iYWwuX19tb2J4SW5zdGFuY2VDb3VudCArPSAxO1xuICAgICAgICBpZiAoIWdsb2JhbC5fX21vYnhHbG9iYWxzLlVOQ0hBTkdFRClcbiAgICAgICAgICAgIGdsb2JhbC5fX21vYnhHbG9iYWxzLlVOQ0hBTkdFRCA9IHt9OyAvLyBtYWtlIG1lcmdlIGJhY2t3YXJkIGNvbXBhdGlibGVcbiAgICAgICAgcmV0dXJuIGdsb2JhbC5fX21vYnhHbG9iYWxzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICByZXR1cm4gKGdsb2JhbC5fX21vYnhHbG9iYWxzID0gbmV3IE1vYlhHbG9iYWxzJCQxKCkpO1xuICAgIH1cbn0pKCk7XG5mdW5jdGlvbiBpc29sYXRlR2xvYmFsU3RhdGUkJDEoKSB7XG4gICAgaWYgKGdsb2JhbFN0YXRlJCQxLnBlbmRpbmdSZWFjdGlvbnMubGVuZ3RoIHx8XG4gICAgICAgIGdsb2JhbFN0YXRlJCQxLmluQmF0Y2ggfHxcbiAgICAgICAgZ2xvYmFsU3RhdGUkJDEuaXNSdW5uaW5nUmVhY3Rpb25zKVxuICAgICAgICBmYWlsJCQxKFwiaXNvbGF0ZUdsb2JhbFN0YXRlIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIE1vYlggaXMgcnVubmluZyBhbnkgcmVhY3Rpb25zXCIpO1xuICAgIGlzb2xhdGVDYWxsZWQgPSB0cnVlO1xuICAgIGlmIChjYW5NZXJnZUdsb2JhbFN0YXRlKSB7XG4gICAgICAgIGlmICgtLWdldEdsb2JhbCQkMSgpLl9fbW9ieEluc3RhbmNlQ291bnQgPT09IDApXG4gICAgICAgICAgICBnZXRHbG9iYWwkJDEoKS5fX21vYnhHbG9iYWxzID0gdW5kZWZpbmVkO1xuICAgICAgICBnbG9iYWxTdGF0ZSQkMSA9IG5ldyBNb2JYR2xvYmFscyQkMSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEdsb2JhbFN0YXRlJCQxKCkge1xuICAgIHJldHVybiBnbG9iYWxTdGF0ZSQkMTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seTsgdGhpcyB3aWxsIGJyZWFrIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBleGlzdGluZyBvYnNlcnZhYmxlcyxcbiAqIGJ1dCBjYW4gYmUgdXNlZCB0byBnZXQgYmFjayBhdCBhIHN0YWJsZSBzdGF0ZSBhZnRlciB0aHJvd2luZyBlcnJvcnNcbiAqL1xuZnVuY3Rpb24gcmVzZXRHbG9iYWxTdGF0ZSQkMSgpIHtcbiAgICB2YXIgZGVmYXVsdEdsb2JhbHMgPSBuZXcgTW9iWEdsb2JhbHMkJDEoKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdEdsb2JhbHMpXG4gICAgICAgIGlmIChwZXJzaXN0ZW50S2V5cy5pbmRleE9mKGtleSkgPT09IC0xKVxuICAgICAgICAgICAgZ2xvYmFsU3RhdGUkJDFba2V5XSA9IGRlZmF1bHRHbG9iYWxzW2tleV07XG4gICAgZ2xvYmFsU3RhdGUkJDEuYWxsb3dTdGF0ZUNoYW5nZXMgPSAhZ2xvYmFsU3RhdGUkJDEuZW5mb3JjZUFjdGlvbnM7XG59XG5mdW5jdGlvbiBnZXRHbG9iYWwkJDEoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiBnbG9iYWw7XG59XG5cbmZ1bmN0aW9uIGhhc09ic2VydmVycyQkMShvYnNlcnZhYmxlJCQxKSB7XG4gICAgcmV0dXJuIG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzICYmIG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzLnNpemUgPiAwO1xufVxuZnVuY3Rpb24gZ2V0T2JzZXJ2ZXJzJCQxKG9ic2VydmFibGUkJDEpIHtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZSQkMS5vYnNlcnZlcnM7XG59XG4vLyBmdW5jdGlvbiBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZTogSU9ic2VydmFibGUpIHtcbi8vICAgICBjb25zdCBsaXN0ID0gb2JzZXJ2YWJsZS5vYnNlcnZlcnNcbi8vICAgICBjb25zdCBtYXAgPSBvYnNlcnZhYmxlLm9ic2VydmVyc0luZGV4ZXNcbi8vICAgICBjb25zdCBsID0gbGlzdC5sZW5ndGhcbi8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuLy8gICAgICAgICBjb25zdCBpZCA9IGxpc3RbaV0uX19tYXBpZFxuLy8gICAgICAgICBpZiAoaSkge1xuLy8gICAgICAgICAgICAgaW52YXJpYW50KG1hcFtpZF0gPT09IGksIFwiSU5URVJOQUwgRVJST1IgbWFwcyBkZXJpdmF0aW9uLl9fbWFwaWQgdG8gaW5kZXggaW4gbGlzdFwiKSAvLyBmb3IgcGVyZm9ybWFuY2Vcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIGludmFyaWFudCghKGlkIGluIG1hcCksIFwiSU5URVJOQUwgRVJST1Igb2JzZXJ2ZXIgb24gaW5kZXggMCBzaG91bGRuJ3QgYmUgaGVsZCBpbiBtYXAuXCIpIC8vIGZvciBwZXJmb3JtYW5jZVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gICAgIGludmFyaWFudChcbi8vICAgICAgICAgbGlzdC5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXMobWFwKS5sZW5ndGggPT09IGxpc3QubGVuZ3RoIC0gMSxcbi8vICAgICAgICAgXCJJTlRFUk5BTCBFUlJPUiB0aGVyZSBpcyBubyBqdW5rIGluIG1hcFwiXG4vLyAgICAgKVxuLy8gfVxuZnVuY3Rpb24gYWRkT2JzZXJ2ZXIkJDEob2JzZXJ2YWJsZSQkMSwgbm9kZSkge1xuICAgIC8vIGludmFyaWFudChub2RlLmRlcGVuZGVuY2llc1N0YXRlICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiwgY2FuIGFkZCBvbmx5IGRlcGVuZGVuY2llc1N0YXRlICE9PSAtMVwiKTtcbiAgICAvLyBpbnZhcmlhbnQob2JzZXJ2YWJsZS5fb2JzZXJ2ZXJzLmluZGV4T2Yobm9kZSkgPT09IC0xLCBcIklOVEVSTkFMIEVSUk9SIGFkZCBhbHJlYWR5IGFkZGVkIG5vZGVcIik7XG4gICAgLy8gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGUpO1xuICAgIG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzLmFkZChub2RlKTtcbiAgICBpZiAob2JzZXJ2YWJsZSQkMS5sb3dlc3RPYnNlcnZlclN0YXRlID4gbm9kZS5kZXBlbmRlbmNpZXNTdGF0ZSlcbiAgICAgICAgb2JzZXJ2YWJsZSQkMS5sb3dlc3RPYnNlcnZlclN0YXRlID0gbm9kZS5kZXBlbmRlbmNpZXNTdGF0ZTtcbiAgICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gICAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiBkaWRuJ3QgYWRkIG5vZGVcIik7XG59XG5mdW5jdGlvbiByZW1vdmVPYnNlcnZlciQkMShvYnNlcnZhYmxlJCQxLCBub2RlKSB7XG4gICAgLy8gaW52YXJpYW50KGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwLCBcIklOVEVSTkFMIEVSUk9SLCByZW1vdmUgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IGluc2lkZSBiYXRjaFwiKTtcbiAgICAvLyBpbnZhcmlhbnQob2JzZXJ2YWJsZS5fb2JzZXJ2ZXJzLmluZGV4T2Yobm9kZSkgIT09IC0xLCBcIklOVEVSTkFMIEVSUk9SIHJlbW92ZSBhbHJlYWR5IHJlbW92ZWQgbm9kZVwiKTtcbiAgICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gICAgb2JzZXJ2YWJsZSQkMS5vYnNlcnZlcnMuZGVsZXRlKG5vZGUpO1xuICAgIGlmIChvYnNlcnZhYmxlJCQxLm9ic2VydmVycy5zaXplID09PSAwKSB7XG4gICAgICAgIC8vIGRlbGV0aW5nIGxhc3Qgb2JzZXJ2ZXJcbiAgICAgICAgcXVldWVGb3JVbm9ic2VydmF0aW9uJCQxKG9ic2VydmFibGUkJDEpO1xuICAgIH1cbiAgICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gICAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpID09PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiByZW1vdmUgYWxyZWFkeSByZW1vdmVkIG5vZGUyXCIpO1xufVxuZnVuY3Rpb24gcXVldWVGb3JVbm9ic2VydmF0aW9uJCQxKG9ic2VydmFibGUkJDEpIHtcbiAgICBpZiAob2JzZXJ2YWJsZSQkMS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAvLyBpbnZhcmlhbnQob2JzZXJ2YWJsZS5fb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCwgXCJJTlRFUk5BTCBFUlJPUiwgc2hvdWxkIG9ubHkgcXVldWUgZm9yIHVub2JzZXJ2YXRpb24gdW5vYnNlcnZlZCBvYnNlcnZhYmxlc1wiKTtcbiAgICAgICAgb2JzZXJ2YWJsZSQkMS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgZ2xvYmFsU3RhdGUkJDEucGVuZGluZ1Vub2JzZXJ2YXRpb25zLnB1c2gob2JzZXJ2YWJsZSQkMSk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXRjaCBzdGFydHMgYSB0cmFuc2FjdGlvbiwgYXQgbGVhc3QgZm9yIHB1cnBvc2VzIG9mIG1lbW9pemluZyBDb21wdXRlZFZhbHVlcyB3aGVuIG5vdGhpbmcgZWxzZSBkb2VzLlxuICogRHVyaW5nIGEgYmF0Y2ggYG9uQmVjb21lVW5vYnNlcnZlZGAgd2lsbCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlIHBlciBvYnNlcnZhYmxlLlxuICogQXZvaWRzIHVubmVjZXNzYXJ5IHJlY2FsY3VsYXRpb25zLlxuICovXG5mdW5jdGlvbiBzdGFydEJhdGNoJCQxKCkge1xuICAgIGdsb2JhbFN0YXRlJCQxLmluQmF0Y2grKztcbn1cbmZ1bmN0aW9uIGVuZEJhdGNoJCQxKCkge1xuICAgIGlmICgtLWdsb2JhbFN0YXRlJCQxLmluQmF0Y2ggPT09IDApIHtcbiAgICAgICAgcnVuUmVhY3Rpb25zJCQxKCk7XG4gICAgICAgIC8vIHRoZSBiYXRjaCBpcyBhY3R1YWxseSBhYm91dCB0byBmaW5pc2gsIGFsbCB1bm9ic2VydmluZyBzaG91bGQgaGFwcGVuIGhlcmUuXG4gICAgICAgIHZhciBsaXN0ID0gZ2xvYmFsU3RhdGUkJDEucGVuZGluZ1Vub2JzZXJ2YXRpb25zO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlJCQxID0gbGlzdFtpXTtcbiAgICAgICAgICAgIG9ic2VydmFibGUkJDEuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2YWJsZSQkMS5pc0JlaW5nT2JzZXJ2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBvYnNlcnZhYmxlIGhhZCByZWFjdGl2ZSBvYnNlcnZlcnMsIHRyaWdnZXIgdGhlIGhvb2tzXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUkJDEuaXNCZWluZ09ic2VydmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUkJDEub25CZWNvbWVVbm9ic2VydmVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZhYmxlJCQxIGluc3RhbmNlb2YgQ29tcHV0ZWRWYWx1ZSQkMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlZCB2YWx1ZXMgYXJlIGF1dG9tYXRpY2FsbHkgdGVhcmVkIGRvd24gd2hlbiB0aGUgbGFzdCBvYnNlcnZlciBsZWF2ZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBwcm9jZXNzIGhhcHBlbnMgcmVjdXJzaXZlbHksIHRoaXMgY29tcHV0ZWQgbWlnaHQgYmUgdGhlIGxhc3Qgb2JzZXJ2YWJlIG9mIGFub3RoZXIsIGV0Yy4uXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUkJDEuc3VzcGVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxTdGF0ZSQkMS5wZW5kaW5nVW5vYnNlcnZhdGlvbnMgPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiByZXBvcnRPYnNlcnZlZCQkMShvYnNlcnZhYmxlJCQxKSB7XG4gICAgdmFyIGRlcml2YXRpb24gPSBnbG9iYWxTdGF0ZSQkMS50cmFja2luZ0Rlcml2YXRpb247XG4gICAgaWYgKGRlcml2YXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbXBsZSBvcHRpbWl6YXRpb24sIGdpdmUgZWFjaCBkZXJpdmF0aW9uIHJ1biBhbiB1bmlxdWUgaWQgKHJ1bklkKVxuICAgICAgICAgKiBDaGVjayBpZiBsYXN0IHRpbWUgdGhpcyBvYnNlcnZhYmxlIHdhcyBhY2Nlc3NlZCB0aGUgc2FtZSBydW5JZCBpcyB1c2VkXG4gICAgICAgICAqIGlmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZSByZWxhdGlvbiBpcyBhbHJlYWR5IGtub3duXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZGVyaXZhdGlvbi5ydW5JZCAhPT0gb2JzZXJ2YWJsZSQkMS5sYXN0QWNjZXNzZWRCeSkge1xuICAgICAgICAgICAgb2JzZXJ2YWJsZSQkMS5sYXN0QWNjZXNzZWRCeSA9IGRlcml2YXRpb24ucnVuSWQ7XG4gICAgICAgICAgICAvLyBUcmllZCBzdG9yaW5nIG5ld09ic2VydmluZywgb3Igb2JzZXJ2aW5nLCBvciBib3RoIGFzIFNldCwgYnV0IHBlcmZvcm1hbmNlIGRpZG4ndCBjb21lIGNsb3NlLi4uXG4gICAgICAgICAgICBkZXJpdmF0aW9uLm5ld09ic2VydmluZ1tkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnQrK10gPSBvYnNlcnZhYmxlJCQxO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZhYmxlJCQxLmlzQmVpbmdPYnNlcnZlZCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUkJDEuaXNCZWluZ09ic2VydmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlJCQxLm9uQmVjb21lT2JzZXJ2ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JzZXJ2YWJsZSQkMS5vYnNlcnZlcnMuc2l6ZSA9PT0gMCAmJiBnbG9iYWxTdGF0ZSQkMS5pbkJhdGNoID4gMCkge1xuICAgICAgICBxdWV1ZUZvclVub2JzZXJ2YXRpb24kJDEob2JzZXJ2YWJsZSQkMSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIGZ1bmN0aW9uIGludmFyaWFudExPUyhvYnNlcnZhYmxlOiBJT2JzZXJ2YWJsZSwgbXNnOiBzdHJpbmcpIHtcbi8vICAgICAvLyBpdCdzIGV4cGVuc2l2ZSBzbyBiZXR0ZXIgbm90IHJ1biBpdCBpbiBwcm9kdWNpdG9uLiBidXQgdGVtcG9yYXJpbHkgaGVscGZ1bCBmb3IgdGVzdGluZ1xuLy8gICAgIGNvbnN0IG1pbiA9IGdldE9ic2VydmVycyhvYnNlcnZhYmxlKS5yZWR1Y2UoKGEsIGIpID0+IE1hdGgubWluKGEsIGIuZGVwZW5kZW5jaWVzU3RhdGUpLCAyKVxuLy8gICAgIGlmIChtaW4gPj0gb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlKSByZXR1cm4gLy8gPC0gdGhlIG9ubHkgYXNzdW1wdGlvbiBhYm91dCBgbG93ZXN0T2JzZXJ2ZXJTdGF0ZWBcbi8vICAgICB0aHJvdyBuZXcgRXJyb3IoXG4vLyAgICAgICAgIFwibG93ZXN0T2JzZXJ2ZXJTdGF0ZSBpcyB3cm9uZyBmb3IgXCIgK1xuLy8gICAgICAgICAgICAgbXNnICtcbi8vICAgICAgICAgICAgIFwiIGJlY2F1c2UgXCIgK1xuLy8gICAgICAgICAgICAgbWluICtcbi8vICAgICAgICAgICAgIFwiIDwgXCIgK1xuLy8gICAgICAgICAgICAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlXG4vLyAgICAgKVxuLy8gfVxuLyoqXG4gKiBOT1RFOiBjdXJyZW50IHByb3BhZ2F0aW9uIG1lY2hhbmlzbSB3aWxsIGluIGNhc2Ugb2Ygc2VsZiByZXJ1bmluZyBhdXRvcnVucyBiZWhhdmUgdW5leHBlY3RlZGx5XG4gKiBJdCB3aWxsIHByb3BhZ2F0ZSBjaGFuZ2VzIHRvIG9ic2VydmVycyBmcm9tIHByZXZpb3VzIHJ1blxuICogSXQncyBoYXJkIG9yIG1heWJlIGltcG9zc2libGUgKHdpdGggcmVhc29uYWJsZSBwZXJmKSB0byBnZXQgaXQgcmlnaHQgd2l0aCBjdXJyZW50IGFwcHJvYWNoXG4gKiBIb3BlZnVsbHkgc2VsZiByZXJ1bmluZyBhdXRvcnVucyBhcmVuJ3QgYSBmZWF0dXJlIHBlb3BsZSBzaG91bGQgZGVwZW5kIG9uXG4gKiBBbHNvIG1vc3QgYmFzaWMgdXNlIGNhc2VzIHNob3VsZCBiZSBva1xuICovXG4vLyBDYWxsZWQgYnkgQXRvbSB3aGVuIGl0cyB2YWx1ZSBjaGFuZ2VzXG5mdW5jdGlvbiBwcm9wYWdhdGVDaGFuZ2VkJCQxKG9ic2VydmFibGUkJDEpIHtcbiAgICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjaGFuZ2VkIHN0YXJ0XCIpO1xuICAgIGlmIChvYnNlcnZhYmxlJCQxLmxvd2VzdE9ic2VydmVyU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuU1RBTEUpXG4gICAgICAgIHJldHVybjtcbiAgICBvYnNlcnZhYmxlJCQxLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xuICAgIC8vIElkZWFsbHkgd2UgdXNlIGZvci4ub2YgaGVyZSwgYnV0IHRoZSBkb3duY29tcGlsZWQgdmVyc2lvbiBpcyByZWFsbHkgc2xvdy4uLlxuICAgIG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgaWYgKGQuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURSkge1xuICAgICAgICAgICAgaWYgKGQuaXNUcmFjaW5nICE9PSBUcmFjZU1vZGUkJDEuTk9ORSkge1xuICAgICAgICAgICAgICAgIGxvZ1RyYWNlSW5mbyhkLCBvYnNlcnZhYmxlJCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQub25CZWNvbWVTdGFsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGQuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xuICAgIH0pO1xuICAgIC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNoYW5nZWQgZW5kXCIpO1xufVxuLy8gQ2FsbGVkIGJ5IENvbXB1dGVkVmFsdWUgd2hlbiBpdCByZWNhbGN1bGF0ZSBhbmQgaXRzIHZhbHVlIGNoYW5nZWRcbmZ1bmN0aW9uIHByb3BhZ2F0ZUNoYW5nZUNvbmZpcm1lZCQkMShvYnNlcnZhYmxlJCQxKSB7XG4gICAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwiY29uZmlybWVkIHN0YXJ0XCIpO1xuICAgIGlmIChvYnNlcnZhYmxlJCQxLmxvd2VzdE9ic2VydmVyU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuU1RBTEUpXG4gICAgICAgIHJldHVybjtcbiAgICBvYnNlcnZhYmxlJCQxLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xuICAgIG9ic2VydmFibGUkJDEub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgaWYgKGQuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuUE9TU0lCTFlfU1RBTEUpXG4gICAgICAgICAgICBkLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5TVEFMRTtcbiAgICAgICAgZWxzZSBpZiAoZC5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFIC8vIHRoaXMgaGFwcGVucyBkdXJpbmcgY29tcHV0aW5nIG9mIGBkYCwganVzdCBrZWVwIGxvd2VzdE9ic2VydmVyU3RhdGUgdXAgdG8gZGF0ZS5cbiAgICAgICAgKVxuICAgICAgICAgICAgb2JzZXJ2YWJsZSQkMS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xuICAgIH0pO1xuICAgIC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNvbmZpcm1lZCBlbmRcIik7XG59XG4vLyBVc2VkIGJ5IGNvbXB1dGVkIHdoZW4gaXRzIGRlcGVuZGVuY3kgY2hhbmdlZCwgYnV0IHdlIGRvbid0IHdhbid0IHRvIGltbWVkaWF0ZWx5IHJlY29tcHV0ZS5cbmZ1bmN0aW9uIHByb3BhZ2F0ZU1heWJlQ2hhbmdlZCQkMShvYnNlcnZhYmxlJCQxKSB7XG4gICAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwibWF5YmUgc3RhcnRcIik7XG4gICAgaWYgKG9ic2VydmFibGUkJDEubG93ZXN0T2JzZXJ2ZXJTdGF0ZSAhPT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKVxuICAgICAgICByZXR1cm47XG4gICAgb2JzZXJ2YWJsZSQkMS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRTtcbiAgICBvYnNlcnZhYmxlJCQxLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUpIHtcbiAgICAgICAgICAgIGQuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlBPU1NJQkxZX1NUQUxFO1xuICAgICAgICAgICAgaWYgKGQuaXNUcmFjaW5nICE9PSBUcmFjZU1vZGUkJDEuTk9ORSkge1xuICAgICAgICAgICAgICAgIGxvZ1RyYWNlSW5mbyhkLCBvYnNlcnZhYmxlJCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQub25CZWNvbWVTdGFsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwibWF5YmUgZW5kXCIpO1xufVxuZnVuY3Rpb24gbG9nVHJhY2VJbmZvKGRlcml2YXRpb24sIG9ic2VydmFibGUkJDEpIHtcbiAgICBjb25zb2xlLmxvZyhcIlttb2J4LnRyYWNlXSAnXCIgKyBkZXJpdmF0aW9uLm5hbWUgKyBcIicgaXMgaW52YWxpZGF0ZWQgZHVlIHRvIGEgY2hhbmdlIGluOiAnXCIgKyBvYnNlcnZhYmxlJCQxLm5hbWUgKyBcIidcIik7XG4gICAgaWYgKGRlcml2YXRpb24uaXNUcmFjaW5nID09PSBUcmFjZU1vZGUkJDEuQlJFQUspIHtcbiAgICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICAgIHByaW50RGVwVHJlZShnZXREZXBlbmRlbmN5VHJlZSQkMShkZXJpdmF0aW9uKSwgbGluZXMsIDEpO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgbmV3IEZ1bmN0aW9uKFwiZGVidWdnZXI7XFxuLypcXG5UcmFjaW5nICdcIiArIGRlcml2YXRpb24ubmFtZSArIFwiJ1xcblxcbllvdSBhcmUgZW50ZXJpbmcgdGhpcyBicmVhayBwb2ludCBiZWNhdXNlIGRlcml2YXRpb24gJ1wiICsgZGVyaXZhdGlvbi5uYW1lICsgXCInIGlzIGJlaW5nIHRyYWNlZCBhbmQgJ1wiICsgb2JzZXJ2YWJsZSQkMS5uYW1lICsgXCInIGlzIG5vdyBmb3JjaW5nIGl0IHRvIHVwZGF0ZS5cXG5KdXN0IGZvbGxvdyB0aGUgc3RhY2t0cmFjZSB5b3Ugc2hvdWxkIG5vdyBzZWUgaW4gdGhlIGRldnRvb2xzIHRvIHNlZSBwcmVjaXNlbHkgd2hhdCBwaWVjZSBvZiB5b3VyIGNvZGUgaXMgY2F1c2luZyB0aGlzIHVwZGF0ZVxcblRoZSBzdGFja2ZyYW1lIHlvdSBhcmUgbG9va2luZyBmb3IgaXMgYXQgbGVhc3QgfjYtOCBzdGFjay1mcmFtZXMgdXAuXFxuXFxuXCIgKyAoZGVyaXZhdGlvbiBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUkJDEgPyBkZXJpdmF0aW9uLmRlcml2YXRpb24udG9TdHJpbmcoKS5yZXBsYWNlKC9bKl1cXC8vZywgXCIvXCIpIDogXCJcIikgKyBcIlxcblxcblRoZSBkZXBlbmRlbmNpZXMgZm9yIHRoaXMgZGVyaXZhdGlvbiBhcmU6XFxuXFxuXCIgKyBsaW5lcy5qb2luKFwiXFxuXCIpICsgXCJcXG4qL1xcbiAgICBcIikoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwcmludERlcFRyZWUodHJlZSwgbGluZXMsIGRlcHRoKSB7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA+PSAxMDAwKSB7XG4gICAgICAgIGxpbmVzLnB1c2goXCIoYW5kIG1hbnkgbW9yZSlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGluZXMucHVzaChcIlwiICsgbmV3IEFycmF5KGRlcHRoKS5qb2luKFwiXFx0XCIpICsgdHJlZS5uYW1lKTsgLy8gTVdFOiBub3QgdGhlIGZhc3Rlc3QsIGJ1dCB0aGUgZWFzaWVzdCB3YXkgOilcbiAgICBpZiAodHJlZS5kZXBlbmRlbmNpZXMpXG4gICAgICAgIHRyZWUuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBwcmludERlcFRyZWUoY2hpbGQsIGxpbmVzLCBkZXB0aCArIDEpOyB9KTtcbn1cblxudmFyIFJlYWN0aW9uJCQxID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlYWN0aW9uJCQxKG5hbWUsIG9uSW52YWxpZGF0ZSwgZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9IFwiUmVhY3Rpb25AXCIgKyBnZXROZXh0SWQkJDEoKTsgfVxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm9uSW52YWxpZGF0ZSA9IG9uSW52YWxpZGF0ZTtcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgIHRoaXMub2JzZXJ2aW5nID0gW107IC8vIG5vZGVzIHdlIGFyZSBsb29raW5nIGF0LiBPdXIgdmFsdWUgZGVwZW5kcyBvbiB0aGVzZSBub2Rlc1xuICAgICAgICB0aGlzLm5ld09ic2VydmluZyA9IFtdO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkc7XG4gICAgICAgIHRoaXMuZGlmZlZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5ydW5JZCA9IDA7XG4gICAgICAgIHRoaXMudW5ib3VuZERlcHNDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX19tYXBpZCA9IFwiI1wiICsgZ2V0TmV4dElkJCQxKCk7XG4gICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1RyYWNrUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1RyYWNpbmcgPSBUcmFjZU1vZGUkJDEuTk9ORTtcbiAgICB9XG4gICAgUmVhY3Rpb24kJDEucHJvdG90eXBlLm9uQmVjb21lU3RhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICB9O1xuICAgIFJlYWN0aW9uJCQxLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1NjaGVkdWxlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgZ2xvYmFsU3RhdGUkJDEucGVuZGluZ1JlYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgcnVuUmVhY3Rpb25zJCQxKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0aW9uJCQxLnByb3RvdHlwZS5pc1NjaGVkdWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2NoZWR1bGVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogaW50ZXJuYWwsIHVzZSBzY2hlZHVsZSgpIGlmIHlvdSBpbnRlbmQgdG8ga2ljayBvZmYgYSByZWFjdGlvblxuICAgICAqL1xuICAgIFJlYWN0aW9uJCQxLnByb3RvdHlwZS5ydW5SZWFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHN0YXJ0QmF0Y2gkJDEoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29tcHV0ZSQkMSh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzVHJhY2tQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUcmFja1BlbmRpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3B5RW5hYmxlZCQkMSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uSW52YWxpZGF0ZSBkaWRuJ3QgdHJpZ2dlciB0cmFjayByaWdodCBhd2F5Li5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNweVJlcG9ydCQkMSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2NoZWR1bGVkLXJlYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuZEJhdGNoJCQxKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0aW9uJCQxLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICBmYWlsJCQxKFwiUmVhY3Rpb24gYWxyZWFkeSBkaXNwb3NlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydEJhdGNoJCQxKCk7XG4gICAgICAgIHZhciBub3RpZnkgPSBpc1NweUVuYWJsZWQkJDEoKTtcbiAgICAgICAgdmFyIHN0YXJ0VGltZTtcbiAgICAgICAgaWYgKG5vdGlmeSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBzcHlSZXBvcnRTdGFydCQkMSh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVhY3Rpb25cIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRyYWNrRGVyaXZlZEZ1bmN0aW9uJCQxKHRoaXMsIGZuLCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNUcmFja1BlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgLy8gZGlzcG9zZWQgZHVyaW5nIGxhc3QgcnVuLiBDbGVhbiB1cCBldmVyeXRoaW5nIHRoYXQgd2FzIGJvdW5kIGFmdGVyIHRoZSBkaXNwb3NlIGNhbGwuXG4gICAgICAgICAgICBjbGVhck9ic2VydmluZyQkMSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDYXVnaHRFeGNlcHRpb24kJDEocmVzdWx0KSlcbiAgICAgICAgICAgIHRoaXMucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uKHJlc3VsdC5jYXVzZSk7XG4gICAgICAgIGlmIChub3RpZnkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICBzcHlSZXBvcnRFbmQkJDEoe1xuICAgICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVuZEJhdGNoJCQxKCk7XG4gICAgfTtcbiAgICBSZWFjdGlvbiQkMS5wcm90b3R5cGUucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoZXJyb3IsIHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iYWxTdGF0ZSQkMS5kaXNhYmxlRXJyb3JCb3VuZGFyaWVzKVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJbbW9ieF0gRW5jb3VudGVyZWQgYW4gdW5jYXVnaHQgZXhjZXB0aW9uIHRoYXQgd2FzIHRocm93biBieSBhIHJlYWN0aW9uIG9yIG9ic2VydmVyIGNvbXBvbmVudCwgaW46ICdcIiArIHRoaXMgKyBcIidcIjtcbiAgICAgICAgaWYgKGdsb2JhbFN0YXRlJCQxLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSAoZXJyb3IgaW4gcmVhY3Rpb24gJ1wiICsgdGhpcy5uYW1lICsgXCInIHN1cHByZXNzZWQsIGZpeCBlcnJvciBvZiBjYXVzaW5nIGFjdGlvbiBiZWxvdylcIik7IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBlcnJvcik7XG4gICAgICAgICAgICAvKiogSWYgZGVidWdnaW5nIGJyb3VnaHQgeW91IGhlcmUsIHBsZWFzZSwgcmVhZCB0aGUgYWJvdmUgbWVzc2FnZSA6LSkuIFRueCEgKi9cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTcHlFbmFibGVkJCQxKCkpIHtcbiAgICAgICAgICAgIHNweVJlcG9ydCQkMSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIGVycm9yOiBcIlwiICsgZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbFN0YXRlJCQxLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKGVycm9yLCBfdGhpcyk7IH0pO1xuICAgIH07XG4gICAgUmVhY3Rpb24kJDEucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBkaXNwb3NlZCB3aGlsZSBydW5uaW5nLCBjbGVhbiB1cCBsYXRlci4gTWF5YmUgbm90IG9wdGltYWwsIGJ1dCByYXJlIGNhc2VcbiAgICAgICAgICAgICAgICBzdGFydEJhdGNoJCQxKCk7XG4gICAgICAgICAgICAgICAgY2xlYXJPYnNlcnZpbmckJDEodGhpcyk7XG4gICAgICAgICAgICAgICAgZW5kQmF0Y2gkJDEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3Rpb24kJDEucHJvdG90eXBlLmdldERpc3Bvc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgciA9IHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICByWyRtb2J4JCQxXSA9IHRoaXM7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgUmVhY3Rpb24kJDEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJSZWFjdGlvbltcIiArIHRoaXMubmFtZSArIFwiXVwiO1xuICAgIH07XG4gICAgUmVhY3Rpb24kJDEucHJvdG90eXBlLnRyYWNlID0gZnVuY3Rpb24gKGVudGVyQnJlYWtQb2ludCkge1xuICAgICAgICBpZiAoZW50ZXJCcmVha1BvaW50ID09PSB2b2lkIDApIHsgZW50ZXJCcmVha1BvaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdHJhY2UkJDEodGhpcywgZW50ZXJCcmVha1BvaW50KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWFjdGlvbiQkMTtcbn0oKSk7XG5mdW5jdGlvbiBvblJlYWN0aW9uRXJyb3IkJDEoaGFuZGxlcikge1xuICAgIGdsb2JhbFN0YXRlJCQxLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZHggPSBnbG9iYWxTdGF0ZSQkMS5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKVxuICAgICAgICAgICAgZ2xvYmFsU3RhdGUkJDEuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgIH07XG59XG4vKipcbiAqIE1hZ2ljIG51bWJlciBhbGVydCFcbiAqIERlZmluZXMgd2l0aGluIGhvdyBtYW55IHRpbWVzIGEgcmVhY3Rpb24gaXMgYWxsb3dlZCB0byByZS10cmlnZ2VyIGl0c2VsZlxuICogdW50aWwgaXQgaXMgYXNzdW1lZCB0aGF0IHRoaXMgaXMgZ29ubmEgYmUgYSBuZXZlciBlbmRpbmcgbG9vcC4uLlxuICovXG52YXIgTUFYX1JFQUNUSU9OX0lURVJBVElPTlMgPSAxMDA7XG52YXIgcmVhY3Rpb25TY2hlZHVsZXIgPSBmdW5jdGlvbiAoZikgeyByZXR1cm4gZigpOyB9O1xuZnVuY3Rpb24gcnVuUmVhY3Rpb25zJCQxKCkge1xuICAgIC8vIFRyYW1wb2xpbmluZywgaWYgcnVuUmVhY3Rpb25zIGFyZSBhbHJlYWR5IHJ1bm5pbmcsIG5ldyByZWFjdGlvbnMgd2lsbCBiZSBwaWNrZWQgdXBcbiAgICBpZiAoZ2xvYmFsU3RhdGUkJDEuaW5CYXRjaCA+IDAgfHwgZ2xvYmFsU3RhdGUkJDEuaXNSdW5uaW5nUmVhY3Rpb25zKVxuICAgICAgICByZXR1cm47XG4gICAgcmVhY3Rpb25TY2hlZHVsZXIocnVuUmVhY3Rpb25zSGVscGVyKTtcbn1cbmZ1bmN0aW9uIHJ1blJlYWN0aW9uc0hlbHBlcigpIHtcbiAgICBnbG9iYWxTdGF0ZSQkMS5pc1J1bm5pbmdSZWFjdGlvbnMgPSB0cnVlO1xuICAgIHZhciBhbGxSZWFjdGlvbnMgPSBnbG9iYWxTdGF0ZSQkMS5wZW5kaW5nUmVhY3Rpb25zO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAvLyBXaGlsZSBydW5uaW5nIHJlYWN0aW9ucywgbmV3IHJlYWN0aW9ucyBtaWdodCBiZSB0cmlnZ2VyZWQuXG4gICAgLy8gSGVuY2Ugd2Ugd29yayB3aXRoIHR3byB2YXJpYWJsZXMgYW5kIGNoZWNrIHdoZXRoZXJcbiAgICAvLyB3ZSBjb252ZXJnZSB0byBubyByZW1haW5pbmcgcmVhY3Rpb25zIGFmdGVyIGEgd2hpbGUuXG4gICAgd2hpbGUgKGFsbFJlYWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICgrK2l0ZXJhdGlvbnMgPT09IE1BWF9SRUFDVElPTl9JVEVSQVRJT05TKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVhY3Rpb24gZG9lc24ndCBjb252ZXJnZSB0byBhIHN0YWJsZSBzdGF0ZSBhZnRlciBcIiArIE1BWF9SRUFDVElPTl9JVEVSQVRJT05TICsgXCIgaXRlcmF0aW9ucy5cIiArXG4gICAgICAgICAgICAgICAgKFwiIFByb2JhYmx5IHRoZXJlIGlzIGEgY3ljbGUgaW4gdGhlIHJlYWN0aXZlIGZ1bmN0aW9uOiBcIiArIGFsbFJlYWN0aW9uc1swXSkpO1xuICAgICAgICAgICAgYWxsUmVhY3Rpb25zLnNwbGljZSgwKTsgLy8gY2xlYXIgcmVhY3Rpb25zXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbWFpbmluZ1JlYWN0aW9ucyA9IGFsbFJlYWN0aW9ucy5zcGxpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVtYWluaW5nUmVhY3Rpb25zLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICAgIHJlbWFpbmluZ1JlYWN0aW9uc1tpXS5ydW5SZWFjdGlvbigpO1xuICAgIH1cbiAgICBnbG9iYWxTdGF0ZSQkMS5pc1J1bm5pbmdSZWFjdGlvbnMgPSBmYWxzZTtcbn1cbnZhciBpc1JlYWN0aW9uJCQxID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZSQkMShcIlJlYWN0aW9uXCIsIFJlYWN0aW9uJCQxKTtcbmZ1bmN0aW9uIHNldFJlYWN0aW9uU2NoZWR1bGVyJCQxKGZuKSB7XG4gICAgdmFyIGJhc2VTY2hlZHVsZXIgPSByZWFjdGlvblNjaGVkdWxlcjtcbiAgICByZWFjdGlvblNjaGVkdWxlciA9IGZ1bmN0aW9uIChmKSB7IHJldHVybiBmbihmdW5jdGlvbiAoKSB7IHJldHVybiBiYXNlU2NoZWR1bGVyKGYpOyB9KTsgfTtcbn1cblxuZnVuY3Rpb24gaXNTcHlFbmFibGVkJCQxKCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgISFnbG9iYWxTdGF0ZSQkMS5zcHlMaXN0ZW5lcnMubGVuZ3RoO1xufVxuZnVuY3Rpb24gc3B5UmVwb3J0JCQxKGV2ZW50KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgcmV0dXJuOyAvLyBkZWFkIGNvZGUgZWxpbWluYXRpb24gY2FuIGRvIHRoZSByZXN0XG4gICAgaWYgKCFnbG9iYWxTdGF0ZSQkMS5zcHlMaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIGxpc3RlbmVycyA9IGdsb2JhbFN0YXRlJCQxLnNweUxpc3RlbmVycztcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIGxpc3RlbmVyc1tpXShldmVudCk7XG59XG5mdW5jdGlvbiBzcHlSZXBvcnRTdGFydCQkMShldmVudCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgY2hhbmdlID0gX19hc3NpZ24oe30sIGV2ZW50LCB7IHNweVJlcG9ydFN0YXJ0OiB0cnVlIH0pO1xuICAgIHNweVJlcG9ydCQkMShjaGFuZ2UpO1xufVxudmFyIEVORF9FVkVOVCA9IHsgc3B5UmVwb3J0RW5kOiB0cnVlIH07XG5mdW5jdGlvbiBzcHlSZXBvcnRFbmQkJDEoY2hhbmdlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChjaGFuZ2UpXG4gICAgICAgIHNweVJlcG9ydCQkMShfX2Fzc2lnbih7fSwgY2hhbmdlLCB7IHNweVJlcG9ydEVuZDogdHJ1ZSB9KSk7XG4gICAgZWxzZVxuICAgICAgICBzcHlSZXBvcnQkJDEoRU5EX0VWRU5UKTtcbn1cbmZ1bmN0aW9uIHNweSQkMShsaXN0ZW5lcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW21vYnguc3B5XSBJcyBhIG5vLW9wIGluIHByb2R1Y3Rpb24gYnVpbGRzXCIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2xvYmFsU3RhdGUkJDEuc3B5TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gb25jZSQkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnbG9iYWxTdGF0ZSQkMS5zcHlMaXN0ZW5lcnMgPSBnbG9iYWxTdGF0ZSQkMS5zcHlMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsKSB7IHJldHVybiBsICE9PSBsaXN0ZW5lcjsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9udFJlYXNzaWduRmllbGRzKCkge1xuICAgIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIFwiQGFjdGlvbiBmaWVsZHMgYXJlIG5vdCByZWFzc2lnbmFibGVcIik7XG59XG5mdW5jdGlvbiBuYW1lZEFjdGlvbkRlY29yYXRvciQkMShuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsJCQxKFwiQGFjdGlvbiBjYW5ub3QgYmUgdXNlZCB3aXRoIGdldHRlcnNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBiYWJlbCAvIHR5cGVzY3JpcHRcbiAgICAgICAgICAgIC8vIEBhY3Rpb24gbWV0aG9kKCkgeyB9XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHR5cGVzY3JpcHRcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3JlYXRlQWN0aW9uJCQxKG5hbWUsIGRlc2NyaXB0b3IudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSAvLyBmb3IgdHlwZXNjcmlwdCwgdGhpcyBtdXN0IGJlIHdyaXRhYmxlLCBvdGhlcndpc2UgaXQgY2Fubm90IGluaGVyaXQgOi8gKHNlZSBpbmhlcml0YWJsZSBhY3Rpb25zIHRlc3QpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJhYmVsIG9ubHk6IEBhY3Rpb24gbWV0aG9kID0gKCkgPT4ge31cbiAgICAgICAgICAgIHZhciBpbml0aWFsaXplcl8xID0gZGVzY3JpcHRvci5pbml0aWFsaXplcjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE4uQjogd2UgY2FuJ3QgaW1tZWRpYXRlbHkgaW52b2tlIGluaXRpYWxpemVyOyB0aGlzIHdvdWxkIGJlIHdyb25nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBY3Rpb24kJDEobmFtZSwgaW5pdGlhbGl6ZXJfMS5jYWxsKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGJvdW5kIGluc3RhbmNlIG1ldGhvZHNcbiAgICAgICAgcmV0dXJuIGFjdGlvbkZpZWxkRGVjb3JhdG9yJCQxKG5hbWUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFjdGlvbkZpZWxkRGVjb3JhdG9yJCQxKG5hbWUpIHtcbiAgICAvLyBTaW1wbGUgcHJvcGVydHkgdGhhdCB3cml0ZXMgb24gZmlyc3QgaW52b2NhdGlvbiB0byB0aGUgY3VycmVudCBpbnN0YW5jZVxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZEhpZGRlblByb3AkJDEodGhpcywgcHJvcCwgYWN0aW9uJCQxKG5hbWUsIHZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBib3VuZEFjdGlvbkRlY29yYXRvciQkMSh0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvciwgYXBwbHlUb0luc3RhbmNlKSB7XG4gICAgaWYgKGFwcGx5VG9JbnN0YW5jZSA9PT0gdHJ1ZSkge1xuICAgICAgICBkZWZpbmVCb3VuZEFjdGlvbiQkMSh0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvci52YWx1ZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZGVzY3JpcHRvcikge1xuICAgICAgICAvLyBpZiAoZGVzY3JpcHRvci52YWx1ZSlcbiAgICAgICAgLy8gVHlwZXNjcmlwdCAvIEJhYmVsOiBAYWN0aW9uLmJvdW5kIG1ldGhvZCgpIHsgfVxuICAgICAgICAvLyBhbHNvOiBiYWJlbCBAYWN0aW9uLmJvdW5kIG1ldGhvZCA9ICgpID0+IHt9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmluZUJvdW5kQWN0aW9uJCQxKHRoaXMsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvci52YWx1ZSB8fCBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwodGhpcykpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBkb250UmVhc3NpZ25GaWVsZHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZmllbGQgZGVjb3JhdG9yIFR5cGVzY3JpcHQgQGFjdGlvbi5ib3VuZCBtZXRob2QgPSAoKSA9PiB7fVxuICAgIHJldHVybiB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIGRlZmluZUJvdW5kQWN0aW9uJCQxKHRoaXMsIHByb3BlcnR5TmFtZSwgdik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbnZhciBhY3Rpb24kJDEgPSBmdW5jdGlvbiBhY3Rpb24kJDEoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xuICAgIC8vIGFjdGlvbihmbigpIHt9KVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmcxID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBjcmVhdGVBY3Rpb24kJDEoYXJnMS5uYW1lIHx8IFwiPHVubmFtZWQgYWN0aW9uPlwiLCBhcmcxKTtcbiAgICAvLyBhY3Rpb24oXCJuYW1lXCIsIGZuKCkge30pXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZzIgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFjdGlvbiQkMShhcmcxLCBhcmcyKTtcbiAgICAvLyBAYWN0aW9uKFwibmFtZVwiKSBmbigpIHt9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBuYW1lZEFjdGlvbkRlY29yYXRvciQkMShhcmcxKTtcbiAgICAvLyBAYWN0aW9uIGZuKCkge31cbiAgICBpZiAoYXJnNCA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBhcHBseSB0byBpbnN0YW5jZSBpbW1lZGlhdGVseVxuICAgICAgICBhZGRIaWRkZW5Qcm9wJCQxKGFyZzEsIGFyZzIsIGNyZWF0ZUFjdGlvbiQkMShhcmcxLm5hbWUgfHwgYXJnMiwgYXJnMy52YWx1ZSwgdGhpcykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVkQWN0aW9uRGVjb3JhdG9yJCQxKGFyZzIpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxufTtcbmFjdGlvbiQkMS5ib3VuZCA9IGJvdW5kQWN0aW9uRGVjb3JhdG9yJCQxO1xuZnVuY3Rpb24gcnVuSW5BY3Rpb24kJDEoYXJnMSwgYXJnMikge1xuICAgIHZhciBhY3Rpb25OYW1lID0gdHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIgPyBhcmcxIDogYXJnMS5uYW1lIHx8IFwiPHVubmFtZWQgYWN0aW9uPlwiO1xuICAgIHZhciBmbiA9IHR5cGVvZiBhcmcxID09PSBcImZ1bmN0aW9uXCIgPyBhcmcxIDogYXJnMjtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGludmFyaWFudCQkMSh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIiAmJiBmbi5sZW5ndGggPT09IDAsIFwiYHJ1bkluQWN0aW9uYCBleHBlY3RzIGEgZnVuY3Rpb24gd2l0aG91dCBhcmd1bWVudHNcIik7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhYWN0aW9uTmFtZSlcbiAgICAgICAgICAgIGZhaWwkJDEoXCJhY3Rpb25zIHNob3VsZCBoYXZlIHZhbGlkIG5hbWVzLCBnb3Q6ICdcIiArIGFjdGlvbk5hbWUgKyBcIidcIik7XG4gICAgfVxuICAgIHJldHVybiBleGVjdXRlQWN0aW9uJCQxKGFjdGlvbk5hbWUsIGZuLCB0aGlzLCB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gaXNBY3Rpb24kJDEodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIgJiYgdGhpbmcuaXNNb2J4QWN0aW9uID09PSB0cnVlO1xufVxuZnVuY3Rpb24gZGVmaW5lQm91bmRBY3Rpb24kJDEodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGZuKSB7XG4gICAgYWRkSGlkZGVuUHJvcCQkMSh0YXJnZXQsIHByb3BlcnR5TmFtZSwgY3JlYXRlQWN0aW9uJCQxKHByb3BlcnR5TmFtZSwgZm4uYmluZCh0YXJnZXQpKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5hbWVkIHJlYWN0aXZlIHZpZXcgYW5kIGtlZXBzIGl0IGFsaXZlLCBzbyB0aGF0IHRoZSB2aWV3IGlzIGFsd2F5c1xuICogdXBkYXRlZCBpZiBvbmUgb2YgdGhlIGRlcGVuZGVuY2llcyBjaGFuZ2VzLCBldmVuIHdoZW4gdGhlIHZpZXcgaXMgbm90IGZ1cnRoZXIgdXNlZCBieSBzb21ldGhpbmcgZWxzZS5cbiAqIEBwYXJhbSB2aWV3IFRoZSByZWFjdGl2ZSB2aWV3XG4gKiBAcmV0dXJucyBkaXNwb3NlciBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gc3RvcCB0aGUgdmlldyBmcm9tIGJlaW5nIHVwZGF0ZWQgaW4gdGhlIGZ1dHVyZS5cbiAqL1xuZnVuY3Rpb24gYXV0b3J1biQkMSh2aWV3LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0gRU1QVFlfT0JKRUNUJCQxOyB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBpbnZhcmlhbnQkJDEodHlwZW9mIHZpZXcgPT09IFwiZnVuY3Rpb25cIiwgXCJBdXRvcnVuIGV4cGVjdHMgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFwiKTtcbiAgICAgICAgaW52YXJpYW50JCQxKGlzQWN0aW9uJCQxKHZpZXcpID09PSBmYWxzZSwgXCJBdXRvcnVuIGRvZXMgbm90IGFjY2VwdCBhY3Rpb25zIHNpbmNlIGFjdGlvbnMgYXJlIHVudHJhY2thYmxlXCIpO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IChvcHRzICYmIG9wdHMubmFtZSkgfHwgdmlldy5uYW1lIHx8IFwiQXV0b3J1bkBcIiArIGdldE5leHRJZCQkMSgpO1xuICAgIHZhciBydW5TeW5jID0gIW9wdHMuc2NoZWR1bGVyICYmICFvcHRzLmRlbGF5O1xuICAgIHZhciByZWFjdGlvbiQkMTtcbiAgICBpZiAocnVuU3luYykge1xuICAgICAgICAvLyBub3JtYWwgYXV0b3J1blxuICAgICAgICByZWFjdGlvbiQkMSA9IG5ldyBSZWFjdGlvbiQkMShuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrKHJlYWN0aW9uUnVubmVyKTtcbiAgICAgICAgfSwgb3B0cy5vbkVycm9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBzY2hlZHVsZXJfMSA9IGNyZWF0ZVNjaGVkdWxlckZyb21PcHRpb25zKG9wdHMpO1xuICAgICAgICAvLyBkZWJvdW5jZWQgYXV0b3J1blxuICAgICAgICB2YXIgaXNTY2hlZHVsZWRfMSA9IGZhbHNlO1xuICAgICAgICByZWFjdGlvbiQkMSA9IG5ldyBSZWFjdGlvbiQkMShuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWlzU2NoZWR1bGVkXzEpIHtcbiAgICAgICAgICAgICAgICBpc1NjaGVkdWxlZF8xID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZXJfMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2NoZWR1bGVkXzEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWFjdGlvbiQkMS5pc0Rpc3Bvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb24kJDEudHJhY2socmVhY3Rpb25SdW5uZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBvcHRzLm9uRXJyb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFjdGlvblJ1bm5lcigpIHtcbiAgICAgICAgdmlldyhyZWFjdGlvbiQkMSk7XG4gICAgfVxuICAgIHJlYWN0aW9uJCQxLnNjaGVkdWxlKCk7XG4gICAgcmV0dXJuIHJlYWN0aW9uJCQxLmdldERpc3Bvc2VyKCk7XG59XG52YXIgcnVuID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYoKTsgfTtcbmZ1bmN0aW9uIGNyZWF0ZVNjaGVkdWxlckZyb21PcHRpb25zKG9wdHMpIHtcbiAgICByZXR1cm4gb3B0cy5zY2hlZHVsZXJcbiAgICAgICAgPyBvcHRzLnNjaGVkdWxlclxuICAgICAgICA6IG9wdHMuZGVsYXlcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIHNldFRpbWVvdXQoZiwgb3B0cy5kZWxheSk7IH1cbiAgICAgICAgICAgIDogcnVuO1xufVxuZnVuY3Rpb24gcmVhY3Rpb24kJDEoZXhwcmVzc2lvbiwgZWZmZWN0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0gRU1QVFlfT0JKRUNUJCQxOyB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBpbnZhcmlhbnQkJDEodHlwZW9mIGV4cHJlc3Npb24gPT09IFwiZnVuY3Rpb25cIiwgXCJGaXJzdCBhcmd1bWVudCB0byByZWFjdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgaW52YXJpYW50JCQxKHR5cGVvZiBvcHRzID09PSBcIm9iamVjdFwiLCBcIlRoaXJkIGFyZ3VtZW50IG9mIHJlYWN0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IG9wdHMubmFtZSB8fCBcIlJlYWN0aW9uQFwiICsgZ2V0TmV4dElkJCQxKCk7XG4gICAgdmFyIGVmZmVjdEFjdGlvbiA9IGFjdGlvbiQkMShuYW1lLCBvcHRzLm9uRXJyb3IgPyB3cmFwRXJyb3JIYW5kbGVyKG9wdHMub25FcnJvciwgZWZmZWN0KSA6IGVmZmVjdCk7XG4gICAgdmFyIHJ1blN5bmMgPSAhb3B0cy5zY2hlZHVsZXIgJiYgIW9wdHMuZGVsYXk7XG4gICAgdmFyIHNjaGVkdWxlciA9IGNyZWF0ZVNjaGVkdWxlckZyb21PcHRpb25zKG9wdHMpO1xuICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuICAgIHZhciBpc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgZXF1YWxzID0gb3B0cy5jb21wYXJlU3RydWN0dXJhbFxuICAgICAgICA/IGNvbXBhcmVyJCQxLnN0cnVjdHVyYWxcbiAgICAgICAgOiBvcHRzLmVxdWFscyB8fCBjb21wYXJlciQkMS5kZWZhdWx0O1xuICAgIHZhciByID0gbmV3IFJlYWN0aW9uJCQxKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGZpcnN0VGltZSB8fCBydW5TeW5jKSB7XG4gICAgICAgICAgICByZWFjdGlvblJ1bm5lcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc1NjaGVkdWxlZCkge1xuICAgICAgICAgICAgaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2NoZWR1bGVyKHJlYWN0aW9uUnVubmVyKTtcbiAgICAgICAgfVxuICAgIH0sIG9wdHMub25FcnJvcik7XG4gICAgZnVuY3Rpb24gcmVhY3Rpb25SdW5uZXIoKSB7XG4gICAgICAgIGlzU2NoZWR1bGVkID0gZmFsc2U7IC8vIFE6IG1vdmUgaW50byByZWFjdGlvbiBydW5uZXI/XG4gICAgICAgIGlmIChyLmlzRGlzcG9zZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHIudHJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IGV4cHJlc3Npb24ocik7XG4gICAgICAgICAgICBjaGFuZ2VkID0gZmlyc3RUaW1lIHx8ICFlcXVhbHModmFsdWUsIG5leHRWYWx1ZSk7XG4gICAgICAgICAgICB2YWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmaXJzdFRpbWUgJiYgb3B0cy5maXJlSW1tZWRpYXRlbHkpXG4gICAgICAgICAgICBlZmZlY3RBY3Rpb24odmFsdWUsIHIpO1xuICAgICAgICBpZiAoIWZpcnN0VGltZSAmJiBjaGFuZ2VkID09PSB0cnVlKVxuICAgICAgICAgICAgZWZmZWN0QWN0aW9uKHZhbHVlLCByKTtcbiAgICAgICAgaWYgKGZpcnN0VGltZSlcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgIH1cbiAgICByLnNjaGVkdWxlKCk7XG4gICAgcmV0dXJuIHIuZ2V0RGlzcG9zZXIoKTtcbn1cbmZ1bmN0aW9uIHdyYXBFcnJvckhhbmRsZXIoZXJyb3JIYW5kbGVyLCBiYXNlRm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvckhhbmRsZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG9uQmVjb21lT2JzZXJ2ZWQkJDEodGhpbmcsIGFyZzIsIGFyZzMpIHtcbiAgICByZXR1cm4gaW50ZXJjZXB0SG9vayhcIm9uQmVjb21lT2JzZXJ2ZWRcIiwgdGhpbmcsIGFyZzIsIGFyZzMpO1xufVxuZnVuY3Rpb24gb25CZWNvbWVVbm9ic2VydmVkJCQxKHRoaW5nLCBhcmcyLCBhcmczKSB7XG4gICAgcmV0dXJuIGludGVyY2VwdEhvb2soXCJvbkJlY29tZVVub2JzZXJ2ZWRcIiwgdGhpbmcsIGFyZzIsIGFyZzMpO1xufVxuZnVuY3Rpb24gaW50ZXJjZXB0SG9vayhob29rLCB0aGluZywgYXJnMiwgYXJnMykge1xuICAgIHZhciBhdG9tID0gdHlwZW9mIGFyZzIgPT09IFwic3RyaW5nXCIgPyBnZXRBdG9tJCQxKHRoaW5nLCBhcmcyKSA6IGdldEF0b20kJDEodGhpbmcpO1xuICAgIHZhciBjYiA9IHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiID8gYXJnMyA6IGFyZzI7XG4gICAgdmFyIGxpc3RlbmVyc0tleSA9IGhvb2sgKyBcIkxpc3RlbmVyc1wiO1xuICAgIGlmIChhdG9tW2xpc3RlbmVyc0tleV0pIHtcbiAgICAgICAgYXRvbVtsaXN0ZW5lcnNLZXldLmFkZChjYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdG9tW2xpc3RlbmVyc0tleV0gPSBuZXcgU2V0KFtjYl0pO1xuICAgIH1cbiAgICB2YXIgb3JpZyA9IGF0b21baG9va107XG4gICAgaWYgKHR5cGVvZiBvcmlnICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBcIk5vdCBhbiBhdG9tIHRoYXQgY2FuIGJlICh1bilvYnNlcnZlZFwiKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaG9va0xpc3RlbmVycyA9IGF0b21bbGlzdGVuZXJzS2V5XTtcbiAgICAgICAgaWYgKGhvb2tMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGhvb2tMaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgICAgICAgIGlmIChob29rTGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgYXRvbVtsaXN0ZW5lcnNLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlJCQxKG9wdGlvbnMpIHtcbiAgICB2YXIgZW5mb3JjZUFjdGlvbnMgPSBvcHRpb25zLmVuZm9yY2VBY3Rpb25zLCBjb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24gPSBvcHRpb25zLmNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbiwgZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IG9wdGlvbnMuZGlzYWJsZUVycm9yQm91bmRhcmllcywgcmVhY3Rpb25TY2hlZHVsZXIgPSBvcHRpb25zLnJlYWN0aW9uU2NoZWR1bGVyO1xuICAgIGlmIChvcHRpb25zLmlzb2xhdGVHbG9iYWxTdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBpc29sYXRlR2xvYmFsU3RhdGUkJDEoKTtcbiAgICB9XG4gICAgaWYgKGVuZm9yY2VBY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbmZvcmNlQWN0aW9ucyA9PT0gXCJib29sZWFuXCIgfHwgZW5mb3JjZUFjdGlvbnMgPT09IFwic3RyaWN0XCIpXG4gICAgICAgICAgICBkZXByZWNhdGVkJCQxKFwiRGVwcmVjYXRlZCB2YWx1ZSBmb3IgJ2VuZm9yY2VBY3Rpb25zJywgdXNlICdmYWxzZScgPT4gJ1xcXCJuZXZlclxcXCInLCAndHJ1ZScgPT4gJ1xcXCJvYnNlcnZlZFxcXCInLCAnXFxcInN0cmljdFxcXCInID0+IFxcXCInYWx3YXlzJ1xcXCIgaW5zdGVhZFwiKTtcbiAgICAgICAgdmFyIGVhID0gdm9pZCAwO1xuICAgICAgICBzd2l0Y2ggKGVuZm9yY2VBY3Rpb25zKSB7XG4gICAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICBjYXNlIFwib2JzZXJ2ZWRcIjpcbiAgICAgICAgICAgICAgICBlYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgICAgY2FzZSBcIm5ldmVyXCI6XG4gICAgICAgICAgICAgICAgZWEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpY3RcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhbHdheXNcIjpcbiAgICAgICAgICAgICAgICBlYSA9IFwic3RyaWN0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZhaWwkJDEoXCJJbnZhbGlkIHZhbHVlIGZvciAnZW5mb3JjZUFjdGlvbnMnOiAnXCIgKyBlbmZvcmNlQWN0aW9ucyArIFwiJywgZXhwZWN0ZWQgJ25ldmVyJywgJ2Fsd2F5cycgb3IgJ29ic2VydmVkJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxTdGF0ZSQkMS5lbmZvcmNlQWN0aW9ucyA9IGVhO1xuICAgICAgICBnbG9iYWxTdGF0ZSQkMS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGVhID09PSB0cnVlIHx8IGVhID09PSBcInN0cmljdFwiID8gZmFsc2UgOiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ2xvYmFsU3RhdGUkJDEuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uID0gISFjb21wdXRlZFJlcXVpcmVzUmVhY3Rpb247XG4gICAgfVxuICAgIGlmIChkaXNhYmxlRXJyb3JCb3VuZGFyaWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBEZWJ1ZyBmZWF0dXJlIG9ubHkuIE1vYlggd2lsbCBOT1QgcmVjb3ZlciBmcm9tIGVycm9ycyB3aGVuIGBkaXNhYmxlRXJyb3JCb3VuZGFyaWVzYCBpcyBlbmFibGVkLlwiKTtcbiAgICAgICAgZ2xvYmFsU3RhdGUkJDEuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9ICEhZGlzYWJsZUVycm9yQm91bmRhcmllcztcbiAgICB9XG4gICAgaWYgKHJlYWN0aW9uU2NoZWR1bGVyKSB7XG4gICAgICAgIHNldFJlYWN0aW9uU2NoZWR1bGVyJCQxKHJlYWN0aW9uU2NoZWR1bGVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlY29yYXRlJCQxKHRoaW5nLCBkZWNvcmF0b3JzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgIGludmFyaWFudCQkMShpc1BsYWluT2JqZWN0JCQxKGRlY29yYXRvcnMpLCBcIkRlY29yYXRvcnMgc2hvdWxkIGJlIGEga2V5IHZhbHVlIG1hcFwiKTtcbiAgICB2YXIgdGFyZ2V0ID0gdHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIgPyB0aGluZy5wcm90b3R5cGUgOiB0aGluZztcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eURlY29yYXRvcnMgPSBkZWNvcmF0b3JzW3Byb3BdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcGVydHlEZWNvcmF0b3JzKSkge1xuICAgICAgICAgICAgcHJvcGVydHlEZWNvcmF0b3JzID0gW3Byb3BlcnR5RGVjb3JhdG9yc107XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICBpbnZhcmlhbnQkJDEocHJvcGVydHlEZWNvcmF0b3JzLmV2ZXJ5KGZ1bmN0aW9uIChkZWNvcmF0b3IpIHsgcmV0dXJuIHR5cGVvZiBkZWNvcmF0b3IgPT09IFwiZnVuY3Rpb25cIjsgfSksIFwiRGVjb3JhdGU6IGV4cGVjdGVkIGEgZGVjb3JhdG9yIGZ1bmN0aW9uIG9yIGFycmF5IG9mIGRlY29yYXRvciBmdW5jdGlvbnMgZm9yICdcIiArIHByb3AgKyBcIidcIik7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApO1xuICAgICAgICB2YXIgbmV3RGVzY3JpcHRvciA9IHByb3BlcnR5RGVjb3JhdG9ycy5yZWR1Y2UoZnVuY3Rpb24gKGFjY0Rlc2NyaXB0b3IsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcCwgYWNjRGVzY3JpcHRvcik7IH0sIGRlc2NyaXB0b3IpO1xuICAgICAgICBpZiAobmV3RGVzY3JpcHRvcilcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIG5ld0Rlc2NyaXB0b3IpO1xuICAgIH07XG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWNvcmF0b3JzKSB7XG4gICAgICAgIF9sb29wXzEocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB0aGluZztcbn1cblxuZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJsZSQkMSh0YXJnZXQsIHByb3BlcnRpZXMsIGRlY29yYXRvcnMsIG9wdGlvbnMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGludmFyaWFudCQkMShhcmd1bWVudHMubGVuZ3RoID49IDIgJiYgYXJndW1lbnRzLmxlbmd0aCA8PSA0LCBcIidleHRlbmRPYnNlcnZhYmxlJyBleHBlY3RlZCAyLTQgYXJndW1lbnRzXCIpO1xuICAgICAgICBpbnZhcmlhbnQkJDEodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIiwgXCInZXh0ZW5kT2JzZXJ2YWJsZScgZXhwZWN0cyBhbiBvYmplY3QgYXMgZmlyc3QgYXJndW1lbnRcIik7XG4gICAgICAgIGludmFyaWFudCQkMSghaXNPYnNlcnZhYmxlTWFwJCQxKHRhcmdldCksIFwiJ2V4dGVuZE9ic2VydmFibGUnIHNob3VsZCBub3QgYmUgdXNlZCBvbiBtYXBzLCB1c2UgbWFwLm1lcmdlIGluc3RlYWRcIik7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zJCQxKG9wdGlvbnMpO1xuICAgIHZhciBkZWZhdWx0RGVjb3JhdG9yID0gZ2V0RGVmYXVsdERlY29yYXRvckZyb21PYmplY3RPcHRpb25zJCQxKG9wdGlvbnMpO1xuICAgIGluaXRpYWxpemVJbnN0YW5jZSQkMSh0YXJnZXQpOyAvLyBGaXhlcyAjMTc0MFxuICAgIGFzT2JzZXJ2YWJsZU9iamVjdCQkMSh0YXJnZXQsIG9wdGlvbnMubmFtZSwgZGVmYXVsdERlY29yYXRvci5lbmhhbmNlcik7IC8vIG1ha2Ugc3VyZSBvYmplY3QgaXMgb2JzZXJ2YWJsZSwgZXZlbiB3aXRob3V0IGluaXRpYWwgcHJvcHNcbiAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgZXh0ZW5kT2JzZXJ2YWJsZU9iamVjdFdpdGhQcm9wZXJ0aWVzJCQxKHRhcmdldCwgcHJvcGVydGllcywgZGVjb3JhdG9ycywgZGVmYXVsdERlY29yYXRvcik7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHREZWNvcmF0b3JGcm9tT2JqZWN0T3B0aW9ucyQkMShvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdERlY29yYXRvciB8fCAob3B0aW9ucy5kZWVwID09PSBmYWxzZSA/IHJlZkRlY29yYXRvciQkMSA6IGRlZXBEZWNvcmF0b3IkJDEpO1xufVxuZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJsZU9iamVjdFdpdGhQcm9wZXJ0aWVzJCQxKHRhcmdldCwgcHJvcGVydGllcywgZGVjb3JhdG9ycywgZGVmYXVsdERlY29yYXRvcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgaW52YXJpYW50JCQxKCFpc09ic2VydmFibGUkJDEocHJvcGVydGllcyksIFwiRXh0ZW5kaW5nIGFuIG9iamVjdCB3aXRoIGFub3RoZXIgb2JzZXJ2YWJsZSAob2JqZWN0KSBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgY29uc3RydWN0IGFuIGV4cGxpY2l0IHByb3BlcnR5bWFwLCB1c2luZyBgdG9KU2AgaWYgbmVlZC4gU2VlIGlzc3VlICM1NDBcIik7XG4gICAgICAgIGlmIChkZWNvcmF0b3JzKVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRlY29yYXRvcnMpXG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHByb3BlcnRpZXMpKVxuICAgICAgICAgICAgICAgICAgICBmYWlsJCQxKFwiVHJ5aW5nIHRvIGRlY2xhcmUgYSBkZWNvcmF0b3IgZm9yIHVuc3BlY2lmaWVkIHByb3BlcnR5ICdcIiArIGtleSArIFwiJ1wiKTtcbiAgICB9XG4gICAgc3RhcnRCYXRjaCQkMSgpO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvcGVydGllcywga2V5KTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkpXG4gICAgICAgICAgICAgICAgICAgIGZhaWwkJDEoXCInZXh0ZW5kT2JzZXJ2YWJsZScgY2FuIG9ubHkgYmUgdXNlZCB0byBpbnRyb2R1Y2UgbmV3IHByb3BlcnRpZXMuIFVzZSAnc2V0JyBvciAnZGVjb3JhdGUnIGluc3RlYWQuIFRoZSBwcm9wZXJ0eSAnXCIgKyBrZXkgKyBcIicgYWxyZWFkeSBleGlzdHMgb24gJ1wiICsgdGFyZ2V0ICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkJCQxKGRlc2NyaXB0b3IudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBmYWlsJCQxKFwiUGFzc2luZyBhICdjb21wdXRlZCcgYXMgaW5pdGlhbCBwcm9wZXJ0eSB2YWx1ZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGJ5IGV4dGVuZE9ic2VydmFibGUuIFVzZSBhIGdldHRlciBvciBkZWNvcmF0b3IgaW5zdGVhZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzICYmIGtleSBpbiBkZWNvcmF0b3JzXG4gICAgICAgICAgICAgICAgPyBkZWNvcmF0b3JzW2tleV1cbiAgICAgICAgICAgICAgICA6IGRlc2NyaXB0b3IuZ2V0XG4gICAgICAgICAgICAgICAgICAgID8gY29tcHV0ZWREZWNvcmF0b3IkJDFcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0RGVjb3JhdG9yO1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiB0eXBlb2YgZGVjb3JhdG9yICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgZmFpbCQkMShcIk5vdCBhIHZhbGlkIGRlY29yYXRvciBmb3IgJ1wiICsga2V5ICsgXCInLCBnb3Q6IFwiICsgZGVjb3JhdG9yKTtcbiAgICAgICAgICAgIHZhciByZXN1bHREZXNjcmlwdG9yID0gZGVjb3JhdG9yKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHREZXNjcmlwdG9yIC8vIG90aGVyd2lzZSwgYXNzdW1lIGFscmVhZHkgYXBwbGllZCwgZHVlIHRvIGBhcHBseVRvSW5zdGFuY2VgXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByZXN1bHREZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZW5kQmF0Y2gkJDEoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY3lUcmVlJCQxKHRoaW5nLCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiBub2RlVG9EZXBlbmRlbmN5VHJlZShnZXRBdG9tJCQxKHRoaW5nLCBwcm9wZXJ0eSkpO1xufVxuZnVuY3Rpb24gbm9kZVRvRGVwZW5kZW5jeVRyZWUobm9kZSkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IG5vZGUubmFtZVxuICAgIH07XG4gICAgaWYgKG5vZGUub2JzZXJ2aW5nICYmIG5vZGUub2JzZXJ2aW5nLmxlbmd0aCA+IDApXG4gICAgICAgIHJlc3VsdC5kZXBlbmRlbmNpZXMgPSB1bmlxdWUkJDEobm9kZS5vYnNlcnZpbmcpLm1hcChub2RlVG9EZXBlbmRlbmN5VHJlZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE9ic2VydmVyVHJlZSQkMSh0aGluZywgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gbm9kZVRvT2JzZXJ2ZXJUcmVlKGdldEF0b20kJDEodGhpbmcsIHByb3BlcnR5KSk7XG59XG5mdW5jdGlvbiBub2RlVG9PYnNlcnZlclRyZWUobm9kZSkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IG5vZGUubmFtZVxuICAgIH07XG4gICAgaWYgKGhhc09ic2VydmVycyQkMShub2RlKSlcbiAgICAgICAgcmVzdWx0Lm9ic2VydmVycyA9IEFycmF5LmZyb20oZ2V0T2JzZXJ2ZXJzJCQxKG5vZGUpKS5tYXAobm9kZVRvT2JzZXJ2ZXJUcmVlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgZ2VuZXJhdG9ySWQgPSAwO1xuZnVuY3Rpb24gZmxvdyQkMShnZW5lcmF0b3IpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBcIkZsb3cgZXhwZWN0cyBvbmUgMSBhcmd1bWVudCBhbmQgY2Fubm90IGJlIHVzZWQgYXMgZGVjb3JhdG9yXCIpO1xuICAgIHZhciBuYW1lID0gZ2VuZXJhdG9yLm5hbWUgfHwgXCI8dW5uYW1lZCBmbG93PlwiO1xuICAgIC8vIEltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90ai9jby9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdHggPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgdmFyIHJ1bklkID0gKytnZW5lcmF0b3JJZDtcbiAgICAgICAgdmFyIGdlbiA9IGFjdGlvbiQkMShuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0gaW5pdFwiLCBnZW5lcmF0b3IpLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICAgIHZhciByZWplY3RvcjtcbiAgICAgICAgdmFyIHBlbmRpbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdGVwSWQgPSAwO1xuICAgICAgICAgICAgcmVqZWN0b3IgPSByZWplY3Q7XG4gICAgICAgICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXMpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgcmV0O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbiQkMShuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0geWllbGQgXCIgKyBzdGVwSWQrKywgZ2VuLm5leHQpLmNhbGwoZ2VuLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0KHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvblJlamVjdGVkKGVycikge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciByZXQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uJCQxKG5hbWUgKyBcIiAtIHJ1bmlkOiBcIiArIHJ1bklkICsgXCIgLSB5aWVsZCBcIiArIHN0ZXBJZCsrLCBnZW4udGhyb3cpLmNhbGwoZ2VuLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0KHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KHJldCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXQgJiYgdHlwZW9mIHJldC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gYXN5bmMgaXRlcmF0b3JcbiAgICAgICAgICAgICAgICAgICAgcmV0LnRoZW4obmV4dCwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0LmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUocmV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1Byb21pc2UudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkZ1bGZpbGxlZCh1bmRlZmluZWQpOyAvLyBraWNrIG9mZiB0aGUgcHJvY2Vzc1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvbWlzZS5jYW5jZWwgPSBhY3Rpb24kJDEobmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIGNhbmNlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nUHJvbWlzZSlcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsUHJvbWlzZShwZW5kaW5nUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgLy8gRmluYWxseSBibG9jayBjYW4gcmV0dXJuIChvciB5aWVsZCkgc3R1ZmYuLlxuICAgICAgICAgICAgICAgIHZhciByZXMgPSBnZW4ucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgLy8gZWF0IGFueXRoaW5nIHRoYXQgcHJvbWlzZSB3b3VsZCBkbywgaXQncyBjYW5jZWxsZWQhXG4gICAgICAgICAgICAgICAgdmFyIHlpZWxkZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHJlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgeWllbGRlZFByb21pc2UudGhlbihub29wJCQxLCBub29wJCQxKTtcbiAgICAgICAgICAgICAgICBjYW5jZWxQcm9taXNlKHlpZWxkZWRQcm9taXNlKTsgLy8gbWF5YmUgaXQgY2FuIGJlIGNhbmNlbGxlZCA6KVxuICAgICAgICAgICAgICAgIC8vIHJlamVjdCBvdXIgb3JpZ2luYWwgcHJvbWlzZVxuICAgICAgICAgICAgICAgIHJlamVjdG9yKG5ldyBFcnJvcihcIkZMT1dfQ0FOQ0VMTEVEXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0b3IoZSk7IC8vIHRoZXJlIGNvdWxkIGJlIGEgdGhyb3dpbmcgZmluYWxseSBibG9ja1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNhbmNlbFByb21pc2UocHJvbWlzZSkge1xuICAgIGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJjZXB0UmVhZHMkJDEodGhpbmcsIHByb3BPckhhbmRsZXIsIGhhbmRsZXIpIHtcbiAgICB2YXIgdGFyZ2V0O1xuICAgIGlmIChpc09ic2VydmFibGVNYXAkJDEodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZUFycmF5JCQxKHRoaW5nKSB8fCBpc09ic2VydmFibGVWYWx1ZSQkMSh0aGluZykpIHtcbiAgICAgICAgdGFyZ2V0ID0gZ2V0QWRtaW5pc3RyYXRpb24kJDEodGhpbmcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEodGhpbmcpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcE9ySGFuZGxlciAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIFwiSW50ZXJjZXB0UmVhZHMgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGEgc3BlY2lmaWMgcHJvcGVydHksIG5vdCB3aXRoIGFuIG9iamVjdCBpbiBnZW5lcmFsXCIpO1xuICAgICAgICB0YXJnZXQgPSBnZXRBZG1pbmlzdHJhdGlvbiQkMSh0aGluZywgcHJvcE9ySGFuZGxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgb2JzZXJ2YWJsZSBtYXAsIG9iamVjdCBvciBhcnJheSBhcyBmaXJzdCBhcnJheVwiKTtcbiAgICB9XG4gICAgaWYgKHRhcmdldC5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJBbiBpbnRlcmNlcHQgcmVhZGVyIHdhcyBhbHJlYWR5IGVzdGFibGlzaGVkXCIpO1xuICAgIHRhcmdldC5kZWhhbmNlciA9IHR5cGVvZiBwcm9wT3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIgPyBwcm9wT3JIYW5kbGVyIDogaGFuZGxlcjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB0YXJnZXQuZGVoYW5jZXIgPSB1bmRlZmluZWQ7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaW50ZXJjZXB0JCQxKHRoaW5nLCBwcm9wT3JIYW5kbGVyLCBoYW5kbGVyKSB7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRQcm9wZXJ0eSh0aGluZywgcHJvcE9ySGFuZGxlciwgaGFuZGxlcik7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gaW50ZXJjZXB0SW50ZXJjZXB0YWJsZSh0aGluZywgcHJvcE9ySGFuZGxlcik7XG59XG5mdW5jdGlvbiBpbnRlcmNlcHRJbnRlcmNlcHRhYmxlKHRoaW5nLCBoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uJCQxKHRoaW5nKS5pbnRlcmNlcHQoaGFuZGxlcik7XG59XG5mdW5jdGlvbiBpbnRlcmNlcHRQcm9wZXJ0eSh0aGluZywgcHJvcGVydHksIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24kJDEodGhpbmcsIHByb3BlcnR5KS5pbnRlcmNlcHQoaGFuZGxlcik7XG59XG5cbmZ1bmN0aW9uIF9pc0NvbXB1dGVkJCQxKHZhbHVlLCBwcm9wZXJ0eSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCQkMSh2YWx1ZSkgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXZhbHVlWyRtb2J4JCQxXS52YWx1ZXMuaGFzKHByb3BlcnR5KSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGF0b20gPSBnZXRBdG9tJCQxKHZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgICAgIHJldHVybiBpc0NvbXB1dGVkVmFsdWUkJDEoYXRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpc0NvbXB1dGVkVmFsdWUkJDEodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNDb21wdXRlZCQkMSh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSlcbiAgICAgICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICBcImlzQ29tcHV0ZWQgZXhwZWN0cyBvbmx5IDEgYXJndW1lbnQuIFVzZSBpc09ic2VydmFibGVQcm9wIHRvIGluc3BlY3QgdGhlIG9ic2VydmFiaWxpdHkgb2YgYSBwcm9wZXJ0eVwiKTtcbiAgICByZXR1cm4gX2lzQ29tcHV0ZWQkJDEodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNDb21wdXRlZFByb3AkJDEodmFsdWUsIHByb3BOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wTmFtZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICBcImlzQ29tcHV0ZWQgZXhwZWN0ZWQgYSBwcm9wZXJ0eSBuYW1lIGFzIHNlY29uZCBhcmd1bWVudFwiKTtcbiAgICByZXR1cm4gX2lzQ29tcHV0ZWQkJDEodmFsdWUsIHByb3BOYW1lKTtcbn1cblxuZnVuY3Rpb24gX2lzT2JzZXJ2YWJsZSh2YWx1ZSwgcHJvcGVydHkpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgIChpc09ic2VydmFibGVNYXAkJDEodmFsdWUpIHx8IGlzT2JzZXJ2YWJsZUFycmF5JCQxKHZhbHVlKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFpbCQkMShcImlzT2JzZXJ2YWJsZShvYmplY3QsIHByb3BlcnR5TmFtZSkgaXMgbm90IHN1cHBvcnRlZCBmb3IgYXJyYXlzIGFuZCBtYXBzLiBVc2UgbWFwLmhhcyBvciBhcnJheS5sZW5ndGggaW5zdGVhZC5cIik7XG4gICAgICAgIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVbJG1vYngkJDFdLnZhbHVlcy5oYXMocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRm9yIGZpcnN0IGNoZWNrLCBzZWUgIzcwMVxuICAgIHJldHVybiAoaXNPYnNlcnZhYmxlT2JqZWN0JCQxKHZhbHVlKSB8fFxuICAgICAgICAhIXZhbHVlWyRtb2J4JCQxXSB8fFxuICAgICAgICBpc0F0b20kJDEodmFsdWUpIHx8XG4gICAgICAgIGlzUmVhY3Rpb24kJDEodmFsdWUpIHx8XG4gICAgICAgIGlzQ29tcHV0ZWRWYWx1ZSQkMSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlJCQxKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpXG4gICAgICAgIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICBcImlzT2JzZXJ2YWJsZSBleHBlY3RzIG9ubHkgMSBhcmd1bWVudC4gVXNlIGlzT2JzZXJ2YWJsZVByb3AgdG8gaW5zcGVjdCB0aGUgb2JzZXJ2YWJpbGl0eSBvZiBhIHByb3BlcnR5XCIpO1xuICAgIHJldHVybiBfaXNPYnNlcnZhYmxlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZVByb3AkJDEodmFsdWUsIHByb3BOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wTmFtZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIFwiZXhwZWN0ZWQgYSBwcm9wZXJ0eSBuYW1lIGFzIHNlY29uZCBhcmd1bWVudFwiKTtcbiAgICByZXR1cm4gX2lzT2JzZXJ2YWJsZSh2YWx1ZSwgcHJvcE5hbWUpO1xufVxuXG5mdW5jdGlvbiBrZXlzJCQxKG9iaikge1xuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqWyRtb2J4JCQxXS5nZXRLZXlzKCk7XG4gICAgfVxuICAgIGlmIChpc09ic2VydmFibGVNYXAkJDEob2JqKSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShvYmoua2V5cygpKTtcbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZVNldCQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG9iai5rZXlzKCkpO1xuICAgIH1cbiAgICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkkJDEob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHsgcmV0dXJuIGluZGV4OyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgIFwiJ2tleXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cywgc2V0cyBhbmQgbWFwc1wiKTtcbn1cbmZ1bmN0aW9uIHZhbHVlcyQkMShvYmopIHtcbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0JCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGtleXMkJDEob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pO1xuICAgIH1cbiAgICBpZiAoaXNPYnNlcnZhYmxlTWFwJCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGtleXMkJDEob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqLmdldChrZXkpOyB9KTtcbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZVNldCQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG9iai52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGlmIChpc09ic2VydmFibGVBcnJheSQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmouc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgIFwiJ3ZhbHVlcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzLCBzZXRzIGFuZCBtYXBzXCIpO1xufVxuZnVuY3Rpb24gZW50cmllcyQkMShvYmopIHtcbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0JCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGtleXMkJDEob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gW2tleSwgb2JqW2tleV1dOyB9KTtcbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBrZXlzJCQxKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9iai5nZXQoa2V5KV07IH0pO1xuICAgIH1cbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0JCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLmVudHJpZXMoKSk7XG4gICAgfVxuICAgIGlmIChpc09ic2VydmFibGVBcnJheSQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmoubWFwKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7IHJldHVybiBbaW5kZXgsIGtleV07IH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgXCInZW50cmllcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIpO1xufVxuZnVuY3Rpb24gc2V0JCQxKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHN0YXJ0QmF0Y2gkJDEoKTtcbiAgICAgICAgdmFyIHZhbHVlc18xID0ga2V5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5XzEgaW4gdmFsdWVzXzEpXG4gICAgICAgICAgICAgICAgc2V0JCQxKG9iaiwga2V5XzEsIHZhbHVlc18xW2tleV8xXSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBlbmRCYXRjaCQkMSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCQkMShvYmopKSB7XG4gICAgICAgIHZhciBhZG0gPSBvYmpbJG1vYngkJDFdO1xuICAgICAgICB2YXIgZXhpc3RpbmdPYnNlcnZhYmxlID0gYWRtLnZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgYWRtLndyaXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRtLmFkZE9ic2VydmFibGVQcm9wKGtleSwgdmFsdWUsIGFkbS5kZWZhdWx0RW5oYW5jZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMShvYmopKSB7XG4gICAgICAgIG9iai5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZUFycmF5JCQxKG9iaikpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICAgICAgaW52YXJpYW50JCQxKGtleSA+PSAwLCBcIk5vdCBhIHZhbGlkIGluZGV4OiAnXCIgKyBrZXkgKyBcIidcIik7XG4gICAgICAgIHN0YXJ0QmF0Y2gkJDEoKTtcbiAgICAgICAgaWYgKGtleSA+PSBvYmoubGVuZ3RoKVxuICAgICAgICAgICAgb2JqLmxlbmd0aCA9IGtleSArIDE7XG4gICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIGVuZEJhdGNoJCQxKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgIFwiJ3NldCgpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZSQkMShvYmosIGtleSkge1xuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEob2JqKSkge1xuICAgICAgICBcbiAgICAgICAgb2JqWyRtb2J4JCQxXS5yZW1vdmUoa2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlTWFwJCQxKG9iaikpIHtcbiAgICAgICAgb2JqLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVTZXQkJDEob2JqKSkge1xuICAgICAgICBvYmouZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZUFycmF5JCQxKG9iaikpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICAgICAgaW52YXJpYW50JCQxKGtleSA+PSAwLCBcIk5vdCBhIHZhbGlkIGluZGV4OiAnXCIgKyBrZXkgKyBcIidcIik7XG4gICAgICAgIG9iai5zcGxpY2Uoa2V5LCAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgXCIncmVtb3ZlKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzJCQxKG9iaiwga2V5KSB7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCQkMShvYmopKSB7XG4gICAgICAgIC8vIHJldHVybiBrZXlzKG9iaikuaW5kZXhPZihrZXkpID49IDBcbiAgICAgICAgdmFyIGFkbSA9IGdldEFkbWluaXN0cmF0aW9uJCQxKG9iaik7XG4gICAgICAgIHJldHVybiBhZG0uaGFzKGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmouaGFzKGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZVNldCQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmouaGFzKGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZUFycmF5JCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGtleSA+PSAwICYmIGtleSA8IG9iai5sZW5ndGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgIFwiJ2hhcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldCQkMShvYmosIGtleSkge1xuICAgIGlmICghaGFzJCQxKG9iaiwga2V5KSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0JCQxKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVNYXAkJDEob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLmdldChrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVBcnJheSQkMShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgXCInZ2V0KCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvYnNlcnZlJCQxKHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUsIGZpcmVJbW1lZGlhdGVseSkge1xuICAgIGlmICh0eXBlb2YgY2JPckZpcmUgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIG9ic2VydmVPYnNlcnZhYmxlUHJvcGVydHkodGhpbmcsIHByb3BPckNiLCBjYk9yRmlyZSwgZmlyZUltbWVkaWF0ZWx5KTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBvYnNlcnZlT2JzZXJ2YWJsZSh0aGluZywgcHJvcE9yQ2IsIGNiT3JGaXJlKTtcbn1cbmZ1bmN0aW9uIG9ic2VydmVPYnNlcnZhYmxlKHRoaW5nLCBsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uJCQxKHRoaW5nKS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xufVxuZnVuY3Rpb24gb2JzZXJ2ZU9ic2VydmFibGVQcm9wZXJ0eSh0aGluZywgcHJvcGVydHksIGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24kJDEodGhpbmcsIHByb3BlcnR5KS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xufVxuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgZGV0ZWN0Q3ljbGVzOiB0cnVlLFxuICAgIGV4cG9ydE1hcHNBc09iamVjdHM6IHRydWUsXG4gICAgcmVjdXJzZUV2ZXJ5dGhpbmc6IGZhbHNlXG59O1xuZnVuY3Rpb24gY2FjaGUobWFwLCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZGV0ZWN0Q3ljbGVzKVxuICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRvSlNIZWxwZXIoc291cmNlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKSB7XG4gICAgaWYgKCFvcHRpb25zLnJlY3Vyc2VFdmVyeXRoaW5nICYmICFpc09ic2VydmFibGUkJDEoc291cmNlKSlcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAvLyBEaXJlY3RseSByZXR1cm4gbnVsbCBpZiBzb3VyY2UgaXMgbnVsbFxuICAgIGlmIChzb3VyY2UgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIERpcmVjdGx5IHJldHVybiB0aGUgRGF0ZSBvYmplY3QgaXRzZWxmIGlmIGNvbnRhaW5lZCBpbiB0aGUgb2JzZXJ2YWJsZVxuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIGlmIChpc09ic2VydmFibGVWYWx1ZSQkMShzb3VyY2UpKVxuICAgICAgICByZXR1cm4gdG9KU0hlbHBlcihzb3VyY2UuZ2V0KCksIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pO1xuICAgIC8vIG1ha2Ugc3VyZSB3ZSB0cmFjayB0aGUga2V5cyBvZiB0aGUgb2JqZWN0XG4gICAgaWYgKGlzT2JzZXJ2YWJsZSQkMShzb3VyY2UpKVxuICAgICAgICBrZXlzJCQxKHNvdXJjZSk7XG4gICAgdmFyIGRldGVjdEN5Y2xlcyA9IG9wdGlvbnMuZGV0ZWN0Q3ljbGVzID09PSB0cnVlO1xuICAgIGlmIChkZXRlY3RDeWNsZXMgJiYgc291cmNlICE9PSBudWxsICYmIF9fYWxyZWFkeVNlZW4uaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIF9fYWxyZWFkeVNlZW4uZ2V0KHNvdXJjZSk7XG4gICAgfVxuICAgIGlmIChpc09ic2VydmFibGVBcnJheSQkMShzb3VyY2UpIHx8IEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICB2YXIgcmVzXzEgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIFtdLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHRvQWRkID0gc291cmNlLm1hcChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pOyB9KTtcbiAgICAgICAgcmVzXzEubGVuZ3RoID0gdG9BZGQubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRvQWRkLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICAgIHJlc18xW2ldID0gdG9BZGRbaV07XG4gICAgICAgIHJldHVybiByZXNfMTtcbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZVNldCQkMShzb3VyY2UpIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpID09PSBTZXQucHJvdG90eXBlKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmV4cG9ydE1hcHNBc09iamVjdHMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzXzIgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIG5ldyBTZXQoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXNfMi5hZGQodG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2VlbikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzXzMgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIFtdLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlc18zLnB1c2godG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2VlbikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzXzM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMShzb3VyY2UpIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpID09PSBNYXAucHJvdG90eXBlKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmV4cG9ydE1hcHNBc09iamVjdHMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzXzQgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIG5ldyBNYXAoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIHJlc180LnNldChrZXksIHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc180O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc181ID0gY2FjaGUoX19hbHJlYWR5U2Vlbiwgc291cmNlLCB7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIHJlc181W2tleV0gPSB0b0pTSGVscGVyKHZhbHVlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc181O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIHRoZSBzaXR1YXRpb24gdGhhdCBzb3VyY2UgaXMgYW4gT2JzZXJ2YWJsZU9iamVjdCBvciBhIHBsYWluIG9iamVjdFxuICAgIHZhciByZXMgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIHt9LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIHJlc1trZXldID0gdG9KU0hlbHBlcihzb3VyY2Vba2V5XSwgb3B0aW9ucywgX19hbHJlYWR5U2Vlbik7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB0b0pTJCQxKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiKVxuICAgICAgICBvcHRpb25zID0geyBkZXRlY3RDeWNsZXM6IG9wdGlvbnMgfTtcbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICBvcHRpb25zLmRldGVjdEN5Y2xlcyA9XG4gICAgICAgIG9wdGlvbnMuZGV0ZWN0Q3ljbGVzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5yZWN1cnNlRXZlcnl0aGluZyA9PT0gdHJ1ZVxuICAgICAgICAgICAgOiBvcHRpb25zLmRldGVjdEN5Y2xlcyA9PT0gdHJ1ZTtcbiAgICB2YXIgX19hbHJlYWR5U2VlbjtcbiAgICBpZiAob3B0aW9ucy5kZXRlY3RDeWNsZXMpXG4gICAgICAgIF9fYWxyZWFkeVNlZW4gPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHRvSlNIZWxwZXIoc291cmNlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKTtcbn1cblxuZnVuY3Rpb24gdHJhY2UkJDEoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBlbnRlckJyZWFrUG9pbnQgPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgIGVudGVyQnJlYWtQb2ludCA9IGFyZ3MucG9wKCk7XG4gICAgdmFyIGRlcml2YXRpb24gPSBnZXRBdG9tRnJvbUFyZ3MoYXJncyk7XG4gICAgaWYgKCFkZXJpdmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgXCIndHJhY2UoYnJlYWs/KScgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYSB0cmFja2VkIGNvbXB1dGVkIHZhbHVlIG9yIGEgUmVhY3Rpb24uIENvbnNpZGVyIHBhc3NpbmcgaW4gdGhlIGNvbXB1dGVkIHZhbHVlIG9yIHJlYWN0aW9uIGV4cGxpY2l0bHlcIik7XG4gICAgfVxuICAgIGlmIChkZXJpdmF0aW9uLmlzVHJhY2luZyA9PT0gVHJhY2VNb2RlJCQxLk5PTkUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbbW9ieC50cmFjZV0gJ1wiICsgZGVyaXZhdGlvbi5uYW1lICsgXCInIHRyYWNpbmcgZW5hYmxlZFwiKTtcbiAgICB9XG4gICAgZGVyaXZhdGlvbi5pc1RyYWNpbmcgPSBlbnRlckJyZWFrUG9pbnQgPyBUcmFjZU1vZGUkJDEuQlJFQUsgOiBUcmFjZU1vZGUkJDEuTE9HO1xufVxuZnVuY3Rpb24gZ2V0QXRvbUZyb21BcmdzKGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxTdGF0ZSQkMS50cmFja2luZ0Rlcml2YXRpb247XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBnZXRBdG9tJCQxKGFyZ3NbMF0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXRvbSQkMShhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICB9XG59XG5cbi8qKlxuICogRHVyaW5nIGEgdHJhbnNhY3Rpb24gbm8gdmlld3MgYXJlIHVwZGF0ZWQgdW50aWwgdGhlIGVuZCBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gKiBUaGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBydW4gc3luY2hyb25vdXNseSBub25ldGhlbGVzcy5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uIGEgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIHNvbWUgcmVhY3RpdmUgc3RhdGVcbiAqIEByZXR1cm5zIGFueSB2YWx1ZSB0aGF0IHdhcyByZXR1cm5lZCBieSB0aGUgJ2FjdGlvbicgcGFyYW1ldGVyLlxuICovXG5mdW5jdGlvbiB0cmFuc2FjdGlvbiQkMShhY3Rpb24kJDEsIHRoaXNBcmcpIHtcbiAgICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7IHRoaXNBcmcgPSB1bmRlZmluZWQ7IH1cbiAgICBzdGFydEJhdGNoJCQxKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbiQkMS5hcHBseSh0aGlzQXJnKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGVuZEJhdGNoJCQxKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3aGVuJCQxKHByZWRpY2F0ZSwgYXJnMSwgYXJnMikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxIHx8IChhcmcxICYmIHR5cGVvZiBhcmcxID09PSBcIm9iamVjdFwiKSlcbiAgICAgICAgcmV0dXJuIHdoZW5Qcm9taXNlKHByZWRpY2F0ZSwgYXJnMSk7XG4gICAgcmV0dXJuIF93aGVuKHByZWRpY2F0ZSwgYXJnMSwgYXJnMiB8fCB7fSk7XG59XG5mdW5jdGlvbiBfd2hlbihwcmVkaWNhdGUsIGVmZmVjdCwgb3B0cykge1xuICAgIHZhciB0aW1lb3V0SGFuZGxlO1xuICAgIGlmICh0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghZGlzcG9zZXJbJG1vYngkJDFdLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlcigpO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIldIRU5fVElNRU9VVFwiKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5vbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICBvcHRzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdHMudGltZW91dCk7XG4gICAgfVxuICAgIG9wdHMubmFtZSA9IG9wdHMubmFtZSB8fCBcIldoZW5AXCIgKyBnZXROZXh0SWQkJDEoKTtcbiAgICB2YXIgZWZmZWN0QWN0aW9uID0gY3JlYXRlQWN0aW9uJCQxKG9wdHMubmFtZSArIFwiLWVmZmVjdFwiLCBlZmZlY3QpO1xuICAgIHZhciBkaXNwb3NlciA9IGF1dG9ydW4kJDEoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSgpKSB7XG4gICAgICAgICAgICByLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0SGFuZGxlKVxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgIGVmZmVjdEFjdGlvbigpO1xuICAgICAgICB9XG4gICAgfSwgb3B0cyk7XG4gICAgcmV0dXJuIGRpc3Bvc2VyO1xufVxuZnVuY3Rpb24gd2hlblByb21pc2UocHJlZGljYXRlLCBvcHRzKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBvcHRzICYmIG9wdHMub25FcnJvcilcbiAgICAgICAgcmV0dXJuIGZhaWwkJDEoXCJ0aGUgb3B0aW9ucyAnb25FcnJvcicgYW5kICdwcm9taXNlJyBjYW5ub3QgYmUgY29tYmluZWRcIik7XG4gICAgdmFyIGNhbmNlbDtcbiAgICB2YXIgcmVzID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZGlzcG9zZXIgPSBfd2hlbihwcmVkaWNhdGUsIHJlc29sdmUsIF9fYXNzaWduKHt9LCBvcHRzLCB7IG9uRXJyb3I6IHJlamVjdCB9KSk7XG4gICAgICAgIGNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc3Bvc2VyKCk7XG4gICAgICAgICAgICByZWplY3QoXCJXSEVOX0NBTkNFTExFRFwiKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXMuY2FuY2VsID0gY2FuY2VsO1xuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFkbSh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0WyRtb2J4JCQxXTtcbn1cbi8vIE9wdGltaXphdGlvbjogd2UgZG9uJ3QgbmVlZCB0aGUgaW50ZXJtZWRpYXRlIG9iamVjdHMgYW5kIGNvdWxkIGhhdmUgYSBjb21wbGV0ZWx5IGN1c3RvbSBhZG1pbmlzdHJhdGlvbiBmb3IgRHluYW1pY09iamVjdHMsXG4vLyBhbmQgc2tpcCBlaXRoZXIgdGhlIGludGVybmFsIHZhbHVlcyBtYXAsIG9yIHRoZSBiYXNlIG9iamVjdCB3aXRoIGl0cyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyFcbnZhciBvYmplY3RQcm94eVRyYXBzID0ge1xuICAgIGhhczogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJG1vYngkJDEgfHwgbmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiIHx8IG5hbWUgPT09IG1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sJCQxKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBhZG0gPSBnZXRBZG0odGFyZ2V0KTtcbiAgICAgICAgLy8gTVdFOiBzaG91bGQgYGluYCBvcGVyYXRvciBiZSByZWFjdGl2ZT8gSWYgbm90LCBiZWxvdyBjb2RlIHBhdGggd2lsbCBiZSBmYXN0ZXIgLyBtb3JlIG1lbW9yeSBlZmZpY2llbnRcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcGVyZm9ybWFuY2Ugc3RhdHMhXG4gICAgICAgIC8vIGlmIChhZG0udmFsdWVzLmdldChuYW1lIGFzIHN0cmluZykpIHJldHVybiB0cnVlXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBhZG0uaGFzKG5hbWUpO1xuICAgICAgICByZXR1cm4gbmFtZSBpbiB0YXJnZXQ7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICRtb2J4JCQxIHx8IG5hbWUgPT09IFwiY29uc3RydWN0b3JcIiB8fCBuYW1lID09PSBtb2J4RGlkUnVuTGF6eUluaXRpYWxpemVyc1N5bWJvbCQkMSlcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbbmFtZV07XG4gICAgICAgIHZhciBhZG0gPSBnZXRBZG0odGFyZ2V0KTtcbiAgICAgICAgdmFyIG9ic2VydmFibGUkJDEgPSBhZG0udmFsdWVzLmdldChuYW1lKTtcbiAgICAgICAgaWYgKG9ic2VydmFibGUkJDEgaW5zdGFuY2VvZiBBdG9tJCQxKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JzZXJ2YWJsZSQkMS5nZXQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZml4ZXMgIzE3OTYsIGJlY2F1c2UgZGVsZXRpbmcgYSBwcm9wIHRoYXQgaGFzIGFuXG4gICAgICAgICAgICAgICAgLy8gdW5kZWZpbmVkIHZhbHVlIHdvbid0IHJldHJpZ2dlciBhIG9ic2VydmVyIChubyB2aXNpYmxlIGVmZmVjdCksXG4gICAgICAgICAgICAgICAgLy8gdGhlIGF1dG9ydW4gd291bGRuJ3Qgc3Vic2NyaWJlIHRvIGZ1dHVyZSBrZXkgY2hhbmdlcyAoc2VlIGFsc28gbmV4dCBjb21tZW50KVxuICAgICAgICAgICAgICAgIGFkbS5oYXMobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzdGFydCBsaXN0ZW5pbmcgdG8gZnV0dXJlIGtleXNcbiAgICAgICAgLy8gbm90ZSB0aGF0IHdlIG9ubHkgZG8gdGhpcyBoZXJlIGZvciBvcHRpbWl6YXRpb25cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgYWRtLmhhcyhuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzZXQkJDEodGFyZ2V0LCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XG4gICAgICAgIGFkbS5yZW1vdmUobmFtZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgb3duS2V5czogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XG4gICAgICAgIGFkbS5rZXlzQXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gICAgfSxcbiAgICBwcmV2ZW50RXh0ZW5zaW9uczogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBmYWlsJCQxKFwiRHluYW1pYyBvYnNlcnZhYmxlIG9iamVjdHMgY2Fubm90IGJlIGZyb3plblwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdCQkMShiYXNlKSB7XG4gICAgdmFyIHByb3h5ID0gbmV3IFByb3h5KGJhc2UsIG9iamVjdFByb3h5VHJhcHMpO1xuICAgIGJhc2VbJG1vYngkJDFdLnByb3h5ID0gcHJveHk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuXG5mdW5jdGlvbiBoYXNJbnRlcmNlcHRvcnMkJDEoaW50ZXJjZXB0YWJsZSkge1xuICAgIHJldHVybiBpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9ycyAhPT0gdW5kZWZpbmVkICYmIGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiByZWdpc3RlckludGVyY2VwdG9yJCQxKGludGVyY2VwdGFibGUsIGhhbmRsZXIpIHtcbiAgICB2YXIgaW50ZXJjZXB0b3JzID0gaW50ZXJjZXB0YWJsZS5pbnRlcmNlcHRvcnMgfHwgKGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzID0gW10pO1xuICAgIGludGVyY2VwdG9ycy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiBvbmNlJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkeCA9IGludGVyY2VwdG9ycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSlcbiAgICAgICAgICAgIGludGVyY2VwdG9ycy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGludGVyY2VwdENoYW5nZSQkMShpbnRlcmNlcHRhYmxlLCBjaGFuZ2UpIHtcbiAgICB2YXIgcHJldlUgPSB1bnRyYWNrZWRTdGFydCQkMSgpO1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpbnRlcmNlcHRvcnMgPSBpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9ycztcbiAgICAgICAgaWYgKGludGVyY2VwdG9ycylcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaW50ZXJjZXB0b3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoYW5nZSA9IGludGVyY2VwdG9yc1tpXShjaGFuZ2UpO1xuICAgICAgICAgICAgICAgIGludmFyaWFudCQkMSghY2hhbmdlIHx8IGNoYW5nZS50eXBlLCBcIkludGVyY2VwdCBoYW5kbGVycyBzaG91bGQgcmV0dXJuIG5vdGhpbmcgb3IgYSBjaGFuZ2Ugb2JqZWN0XCIpO1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHVudHJhY2tlZEVuZCQkMShwcmV2VSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYXNMaXN0ZW5lcnMkJDEobGlzdGVuYWJsZSkge1xuICAgIHJldHVybiBsaXN0ZW5hYmxlLmNoYW5nZUxpc3RlbmVycyAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyJCQxKGxpc3RlbmFibGUsIGhhbmRsZXIpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gbGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnMgfHwgKGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzID0gW10pO1xuICAgIGxpc3RlbmVycy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiBvbmNlJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSlcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycyQkMShsaXN0ZW5hYmxlLCBjaGFuZ2UpIHtcbiAgICB2YXIgcHJldlUgPSB1bnRyYWNrZWRTdGFydCQkMSgpO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBsaXN0ZW5hYmxlLmNoYW5nZUxpc3RlbmVycztcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaXN0ZW5lcnNbaV0oY2hhbmdlKTtcbiAgICB9XG4gICAgdW50cmFja2VkRW5kJCQxKHByZXZVKTtcbn1cblxudmFyIE1BWF9TUExJQ0VfU0laRSA9IDEwMDAwOyAvLyBTZWUgZS5nLiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvaXNzdWVzLzg1OVxudmFyIGFycmF5VHJhcHMgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAkbW9ieCQkMSlcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbJG1vYngkJDFdO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJsZW5ndGhcIilcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbJG1vYngkJDFdLmdldEFycmF5TGVuZ3RoKCk7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5RXh0ZW5zaW9ucy5nZXQuY2FsbCh0YXJnZXQsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiAhaXNOYU4obmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJheUV4dGVuc2lvbnMuZ2V0LmNhbGwodGFyZ2V0LCBwYXJzZUludChuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFycmF5RXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5RXh0ZW5zaW9uc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgdGFyZ2V0WyRtb2J4JCQxXS5zZXRBcnJheUxlbmd0aCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGFycmF5RXh0ZW5zaW9ucy5zZXQuY2FsbCh0YXJnZXQsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOYU4obmFtZSkpIHtcbiAgICAgICAgICAgIGFycmF5RXh0ZW5zaW9ucy5zZXQuY2FsbCh0YXJnZXQsIHBhcnNlSW50KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBwcmV2ZW50RXh0ZW5zaW9uczogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBmYWlsJCQxKFwiT2JzZXJ2YWJsZSBhcnJheXMgY2Fubm90IGJlIGZyb3plblwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlQXJyYXkkJDEoaW5pdGlhbFZhbHVlcywgZW5oYW5jZXIsIG5hbWUsIG93bmVkKSB7XG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQkJDEoKTsgfVxuICAgIGlmIChvd25lZCA9PT0gdm9pZCAwKSB7IG93bmVkID0gZmFsc2U7IH1cbiAgICB2YXIgYWRtID0gbmV3IE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKG5hbWUsIGVuaGFuY2VyLCBvd25lZCk7XG4gICAgYWRkSGlkZGVuRmluYWxQcm9wJCQxKGFkbS52YWx1ZXMsICRtb2J4JCQxLCBhZG0pO1xuICAgIHZhciBwcm94eSA9IG5ldyBQcm94eShhZG0udmFsdWVzLCBhcnJheVRyYXBzKTtcbiAgICBhZG0ucHJveHkgPSBwcm94eTtcbiAgICBpZiAoaW5pdGlhbFZhbHVlcyAmJiBpbml0aWFsVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICB2YXIgcHJldiA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQkJDEodHJ1ZSk7XG4gICAgICAgIGFkbS5zcGxpY2VXaXRoQXJyYXkoMCwgMCwgaW5pdGlhbFZhbHVlcyk7XG4gICAgICAgIGFsbG93U3RhdGVDaGFuZ2VzRW5kJCQxKHByZXYpO1xuICAgIH1cbiAgICByZXR1cm4gcHJveHk7XG59XG52YXIgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24obmFtZSwgZW5oYW5jZXIsIG93bmVkKSB7XG4gICAgICAgIHRoaXMub3duZWQgPSBvd25lZDtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm94eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXN0S25vd25MZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmF0b20gPSBuZXcgQXRvbSQkMShuYW1lIHx8IFwiT2JzZXJ2YWJsZUFycmF5QFwiICsgZ2V0TmV4dElkJCQxKCkpO1xuICAgICAgICB0aGlzLmVuaGFuY2VyID0gZnVuY3Rpb24gKG5ld1YsIG9sZFYpIHsgcmV0dXJuIGVuaGFuY2VyKG5ld1YsIG9sZFYsIG5hbWUgKyBcIlsuLl1cIik7IH07XG4gICAgfVxuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5kZWhhbmNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVoYW5jZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmRlaGFuY2VWYWx1ZXMgPSBmdW5jdGlvbiAodmFsdWVzJCQxKSB7XG4gICAgICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQgJiYgdmFsdWVzJCQxLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzJCQxLm1hcCh0aGlzLmRlaGFuY2VyKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyQkMTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5pbnRlcmNlcHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvciQkMSh0aGlzLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgaWYgKGZpcmVJbW1lZGlhdGVseSA9PT0gdm9pZCAwKSB7IGZpcmVJbW1lZGlhdGVseSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzcGxpY2VcIixcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBhZGRlZDogdGhpcy52YWx1ZXMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICBhZGRlZENvdW50OiB0aGlzLnZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgcmVtb3ZlZDogW10sXG4gICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50OiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lciQkMSh0aGlzLCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXlMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLnNldEFycmF5TGVuZ3RoID0gZnVuY3Rpb24gKG5ld0xlbmd0aCkge1xuICAgICAgICBpZiAodHlwZW9mIG5ld0xlbmd0aCAhPT0gXCJudW1iZXJcIiB8fCBuZXdMZW5ndGggPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW21vYnguYXJyYXldIE91dCBvZiByYW5nZTogXCIgKyBuZXdMZW5ndGgpO1xuICAgICAgICB2YXIgY3VycmVudExlbmd0aCA9IHRoaXMudmFsdWVzLmxlbmd0aDtcbiAgICAgICAgaWYgKG5ld0xlbmd0aCA9PT0gY3VycmVudExlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxzZSBpZiAobmV3TGVuZ3RoID4gY3VycmVudExlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG5ld0l0ZW1zID0gbmV3IEFycmF5KG5ld0xlbmd0aCAtIGN1cnJlbnRMZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGggLSBjdXJyZW50TGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgbmV3SXRlbXNbaV0gPSB1bmRlZmluZWQ7IC8vIE5vIEFycmF5LmZpbGwgZXZlcnl3aGVyZS4uLlxuICAgICAgICAgICAgdGhpcy5zcGxpY2VXaXRoQXJyYXkoY3VycmVudExlbmd0aCwgMCwgbmV3SXRlbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc3BsaWNlV2l0aEFycmF5KG5ld0xlbmd0aCwgY3VycmVudExlbmd0aCAtIG5ld0xlbmd0aCk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUudXBkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiAob2xkTGVuZ3RoLCBkZWx0YSkge1xuICAgICAgICBpZiAob2xkTGVuZ3RoICE9PSB0aGlzLmxhc3RLbm93bkxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlttb2J4XSBNb2RpZmljYXRpb24gZXhjZXB0aW9uOiB0aGUgaW50ZXJuYWwgc3RydWN0dXJlIG9mIGFuIG9ic2VydmFibGUgYXJyYXkgd2FzIGNoYW5nZWQuXCIpO1xuICAgICAgICB0aGlzLmxhc3RLbm93bkxlbmd0aCArPSBkZWx0YTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5zcGxpY2VXaXRoQXJyYXkgPSBmdW5jdGlvbiAoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCQkMSh0aGlzLmF0b20pO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPiBsZW5ndGgpXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgaW5kZXggPSBNYXRoLm1heCgwLCBsZW5ndGggKyBpbmRleCk7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBsZW5ndGggLSBpbmRleDtcbiAgICAgICAgZWxzZSBpZiAoZGVsZXRlQ291bnQgPT09IHVuZGVmaW5lZCB8fCBkZWxldGVDb3VudCA9PT0gbnVsbClcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gMDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkZWxldGVDb3VudCwgbGVuZ3RoIC0gaW5kZXgpKTtcbiAgICAgICAgaWYgKG5ld0l0ZW1zID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBuZXdJdGVtcyA9IEVNUFRZX0FSUkFZJCQxO1xuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzJCQxKHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlJCQxKHRoaXMsIHtcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzcGxpY2VcIixcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50OiBkZWxldGVDb3VudCxcbiAgICAgICAgICAgICAgICBhZGRlZDogbmV3SXRlbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0FSUkFZJCQxO1xuICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBjaGFuZ2UucmVtb3ZlZENvdW50O1xuICAgICAgICAgICAgbmV3SXRlbXMgPSBjaGFuZ2UuYWRkZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3SXRlbXMgPSBuZXdJdGVtcy5sZW5ndGggPT09IDAgPyBuZXdJdGVtcyA6IG5ld0l0ZW1zLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuZW5oYW5jZXIodiwgdW5kZWZpbmVkKTsgfSk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhEZWx0YSA9IG5ld0l0ZW1zLmxlbmd0aCAtIGRlbGV0ZUNvdW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBcnJheUxlbmd0aChsZW5ndGgsIGxlbmd0aERlbHRhKTsgLy8gY2hlY2tzIGlmIGludGVybmFsIGFycmF5IHdhc24ndCBtb2RpZmllZFxuICAgICAgICB9XG4gICAgICAgIHZhciByZXMgPSB0aGlzLnNwbGljZUl0ZW1zSW50b1ZhbHVlcyhpbmRleCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKTtcbiAgICAgICAgaWYgKGRlbGV0ZUNvdW50ICE9PSAwIHx8IG5ld0l0ZW1zLmxlbmd0aCAhPT0gMClcbiAgICAgICAgICAgIHRoaXMubm90aWZ5QXJyYXlTcGxpY2UoaW5kZXgsIG5ld0l0ZW1zLCByZXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWVzKHJlcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuc3BsaWNlSXRlbXNJbnRvVmFsdWVzID0gZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobmV3SXRlbXMubGVuZ3RoIDwgTUFYX1NQTElDRV9TSVpFKSB7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy52YWx1ZXMpLnNwbGljZS5hcHBseShfYSwgX19zcHJlYWQoW2luZGV4LCBkZWxldGVDb3VudF0sIG5ld0l0ZW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy52YWx1ZXMuc2xpY2UoaW5kZXgsIGluZGV4ICsgZGVsZXRlQ291bnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSB0aGlzLnZhbHVlc1xuICAgICAgICAgICAgICAgIC5zbGljZSgwLCBpbmRleClcbiAgICAgICAgICAgICAgICAuY29uY2F0KG5ld0l0ZW1zLCB0aGlzLnZhbHVlcy5zbGljZShpbmRleCArIGRlbGV0ZUNvdW50KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUubm90aWZ5QXJyYXlDaGlsZFVwZGF0ZSA9IGZ1bmN0aW9uIChpbmRleCwgbmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZCAmJiBpc1NweUVuYWJsZWQkJDEoKTtcbiAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIC8vIFRoZSByZWFzb24gd2h5IHRoaXMgaXMgb24gcmlnaHQgaGFuZCBzaWRlIGhlcmUgKGFuZCBub3QgYWJvdmUpLCBpcyB0aGlzIHdheSB0aGUgdWdsaWZpZXIgd2lsbCBkcm9wIGl0LCBidXQgaXQgd29uJ3RcbiAgICAgICAgLy8gY2F1c2UgYW55IHJ1bnRpbWUgb3ZlcmhlYWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB3aXRob3V0IE5PREVfRU5WIHNldCwgdW5sZXNzIHNweWluZyBpcyBlbmFibGVkXG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQkJDEoX19hc3NpZ24oe30sIGNoYW5nZSwgeyBuYW1lOiB0aGlzLmF0b20ubmFtZSB9KSk7XG4gICAgICAgIHRoaXMuYXRvbS5yZXBvcnRDaGFuZ2VkKCk7XG4gICAgICAgIGlmIChub3RpZnkpXG4gICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnMkJDEodGhpcywgY2hhbmdlKTtcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICBzcHlSZXBvcnRFbmQkJDEoKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5ub3RpZnlBcnJheVNwbGljZSA9IGZ1bmN0aW9uIChpbmRleCwgYWRkZWQsIHJlbW92ZWQpIHtcbiAgICAgICAgdmFyIG5vdGlmeVNweSA9ICF0aGlzLm93bmVkICYmIGlzU3B5RW5hYmxlZCQkMSgpO1xuICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzJCQxKHRoaXMpO1xuICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3BsaWNlXCIsXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICAgICAgICAgICAgYWRkZWQ6IGFkZGVkLFxuICAgICAgICAgICAgICAgIHJlbW92ZWRDb3VudDogcmVtb3ZlZC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgYWRkZWRDb3VudDogYWRkZWQubGVuZ3RoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQkJDEoX19hc3NpZ24oe30sIGNoYW5nZSwgeyBuYW1lOiB0aGlzLmF0b20ubmFtZSB9KSk7XG4gICAgICAgIHRoaXMuYXRvbS5yZXBvcnRDaGFuZ2VkKCk7XG4gICAgICAgIC8vIGNvbmZvcm06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L29ic2VydmVcbiAgICAgICAgaWYgKG5vdGlmeSlcbiAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyQkMSh0aGlzLCBjaGFuZ2UpO1xuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgICAgIHNweVJlcG9ydEVuZCQkMSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uO1xufSgpKTtcbnZhciBhcnJheUV4dGVuc2lvbnMgPSB7XG4gICAgaW50ZXJjZXB0OiBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpc1skbW9ieCQkMV0uaW50ZXJjZXB0KGhhbmRsZXIpO1xuICAgIH0sXG4gICAgb2JzZXJ2ZTogZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgaWYgKGZpcmVJbW1lZGlhdGVseSA9PT0gdm9pZCAwKSB7IGZpcmVJbW1lZGlhdGVseSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4JCQxXTtcbiAgICAgICAgcmV0dXJuIGFkbS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKDApO1xuICAgIH0sXG4gICAgcmVwbGFjZTogZnVuY3Rpb24gKG5ld0l0ZW1zKSB7XG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4JCQxXTtcbiAgICAgICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoMCwgYWRtLnZhbHVlcy5sZW5ndGgsIG5ld0l0ZW1zKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoaXMgYXJyYXkgYmFjayB0byBhIChzaGFsbG93KSBqYXZhc2NyaXB0IHN0cnVjdHVyZS5cbiAgICAgKiBGb3IgYSBkZWVwIGNsb25lIHVzZSBtb2J4LnRvSlNcbiAgICAgKi9cbiAgICB0b0pTOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsaWNlKCk7XG4gICAgfSxcbiAgICB0b0pTT046IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVXNlZCBieSBKU09OLnN0cmluZ2lmeVxuICAgICAgICByZXR1cm4gdGhpcy50b0pTKCk7XG4gICAgfSxcbiAgICAvKlxuICAgICAqIGZ1bmN0aW9ucyB0aGF0IGRvIGFsdGVyIHRoZSBpbnRlcm5hbCBzdHJ1Y3R1cmUgb2YgdGhlIGFycmF5LCAoYmFzZWQgb24gbGliLmVzNi5kLnRzKVxuICAgICAqIHNpbmNlIHRoZXNlIGZ1bmN0aW9ucyBhbHRlciB0aGUgaW5uZXIgc3RydWN0dXJlIG9mIHRoZSBhcnJheSwgdGhlIGhhdmUgc2lkZSBlZmZlY3RzLlxuICAgICAqIEJlY2F1c2UgdGhlIGhhdmUgc2lkZSBlZmZlY3RzLCB0aGV5IHNob3VsZCBub3QgYmUgdXNlZCBpbiBjb21wdXRlZCBmdW5jdGlvbixcbiAgICAgKiBhbmQgZm9yIHRoYXQgcmVhc29uIHRoZSBkbyBub3QgY2FsbCBkZXBlbmRlbmN5U3RhdGUubm90aWZ5T2JzZXJ2ZWRcbiAgICAgKi9cbiAgICBzcGxpY2U6IGZ1bmN0aW9uIChpbmRleCwgZGVsZXRlQ291bnQpIHtcbiAgICAgICAgdmFyIG5ld0l0ZW1zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBuZXdJdGVtc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieCQkMV07XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgsIGRlbGV0ZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKTtcbiAgICB9LFxuICAgIHNwbGljZVdpdGhBcnJheTogZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcbiAgICAgICAgdmFyIGFkbSA9IHRoaXNbJG1vYngkJDFdO1xuICAgICAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKTtcbiAgICB9LFxuICAgIHB1c2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4JCQxXTtcbiAgICAgICAgYWRtLnNwbGljZVdpdGhBcnJheShhZG0udmFsdWVzLmxlbmd0aCwgMCwgaXRlbXMpO1xuICAgICAgICByZXR1cm4gYWRtLnZhbHVlcy5sZW5ndGg7XG4gICAgfSxcbiAgICBwb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKE1hdGgubWF4KHRoaXNbJG1vYngkJDFdLnZhbHVlcy5sZW5ndGggLSAxLCAwKSwgMSlbMF07XG4gICAgfSxcbiAgICBzaGlmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpY2UoMCwgMSlbMF07XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgaXRlbXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieCQkMV07XG4gICAgICAgIGFkbS5zcGxpY2VXaXRoQXJyYXkoMCwgMCwgaXRlbXMpO1xuICAgICAgICByZXR1cm4gYWRtLnZhbHVlcy5sZW5ndGg7XG4gICAgfSxcbiAgICByZXZlcnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJldmVyc2UgYnkgZGVmYXVsdCBtdXRhdGVzIGluIHBsYWNlIGJlZm9yZSByZXR1cm5pbmcgdGhlIHJlc3VsdFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBpdCBib3RoIGEgJ2Rlcml2YXRpb24nIGFuZCBhICdtdXRhdGlvbicuXG4gICAgICAgIC8vIHNvIHdlIGRldmlhdGUgZnJvbSB0aGUgZGVmYXVsdCBhbmQganVzdCBtYWtlIGl0IGFuIGRlcnZpdGF0aW9uXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBgb2JzZXJ2YWJsZUFycmF5LnJldmVyc2UoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBhcnJheSBpbiBwbGFjZS4gVXNlIGBvYnNlcnZhYmxlQXJyYXkuc2xpY2UoKS5yZXZlcnNlKClgIHRvIHN1cHJlc3MgdGhpcyB3YXJuaW5nIGFuZCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gb24gYSBjb3B5LCBvciBgb2JzZXJ2YWJsZUFycmF5LnJlcGxhY2Uob2JzZXJ2YWJsZUFycmF5LnNsaWNlKCkucmV2ZXJzZSgpKWAgdG8gcmV2ZXJzZSAmIHVwZGF0ZSBpbiBwbGFjZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiBjbG9uZS5yZXZlcnNlLmFwcGx5KGNsb25lLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgc29ydDogZnVuY3Rpb24gKGNvbXBhcmVGbikge1xuICAgICAgICAvLyBzb3J0IGJ5IGRlZmF1bHQgbXV0YXRlcyBpbiBwbGFjZSBiZWZvcmUgcmV0dXJuaW5nIHRoZSByZXN1bHRcbiAgICAgICAgLy8gd2hpY2ggZ29lcyBhZ2FpbnN0IGFsbCBnb29kIHByYWN0aWNlcy4gTGV0J3Mgbm90IGNoYW5nZSB0aGUgYXJyYXkgaW4gcGxhY2UhXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBgb2JzZXJ2YWJsZUFycmF5LnNvcnQoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBhcnJheSBpbiBwbGFjZS4gVXNlIGBvYnNlcnZhYmxlQXJyYXkuc2xpY2UoKS5zb3J0KClgIHRvIHN1cHJlc3MgdGhpcyB3YXJuaW5nIGFuZCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gb24gYSBjb3B5LCBvciBgb2JzZXJ2YWJsZUFycmF5LnJlcGxhY2Uob2JzZXJ2YWJsZUFycmF5LnNsaWNlKCkuc29ydCgpKWAgdG8gc29ydCAmIHVwZGF0ZSBpbiBwbGFjZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiBjbG9uZS5zb3J0LmFwcGx5KGNsb25lLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGFkbSA9IHRoaXNbJG1vYngkJDFdO1xuICAgICAgICB2YXIgaWR4ID0gYWRtLmRlaGFuY2VWYWx1ZXMoYWRtLnZhbHVlcykuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4JCQxXTtcbiAgICAgICAgaWYgKGFkbSkge1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgYWRtLnZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhZG0uYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhZG0uZGVoYW5jZVZhbHVlKGFkbS52YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4LmFycmF5XSBBdHRlbXB0IHRvIHJlYWQgYW4gYXJyYXkgaW5kZXggKFwiICsgaW5kZXggKyBcIikgdGhhdCBpcyBvdXQgb2YgYm91bmRzIChcIiArIGFkbS52YWx1ZXMubGVuZ3RoICsgXCIpLiBQbGVhc2UgY2hlY2sgbGVuZ3RoIGZpcnN0LiBPdXQgb2YgYm91bmQgaW5kaWNlcyB3aWxsIG5vdCBiZSB0cmFja2VkIGJ5IE1vYlhcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKGluZGV4LCBuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieCQkMV07XG4gICAgICAgIHZhciB2YWx1ZXMkJDEgPSBhZG0udmFsdWVzO1xuICAgICAgICBpZiAoaW5kZXggPCB2YWx1ZXMkJDEubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgYXQgaW5kZXggaW4gcmFuZ2VcbiAgICAgICAgICAgIGNoZWNrSWZTdGF0ZU1vZGlmaWNhdGlvbnNBcmVBbGxvd2VkJCQxKGFkbS5hdG9tKTtcbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHZhbHVlcyQkMVtpbmRleF07XG4gICAgICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzJCQxKGFkbSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlJCQxKGFkbSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1ZhbHVlID0gYWRtLmVuaGFuY2VyKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB2YXIgY2hhbmdlZCA9IG5ld1ZhbHVlICE9PSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzJCQxW2luZGV4XSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGFkbS5ub3RpZnlBcnJheUNoaWxkVXBkYXRlKGluZGV4LCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSB2YWx1ZXMkJDEubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBhZGQgYSBuZXcgaXRlbVxuICAgICAgICAgICAgYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCwgMCwgW25ld1ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvdXQgb2YgYm91bmRzXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieC5hcnJheV0gSW5kZXggb3V0IG9mIGJvdW5kcywgXCIgKyBpbmRleCArIFwiIGlzIGxhcmdlciB0aGFuIFwiICsgdmFsdWVzJCQxLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuW1xuICAgIFwiY29uY2F0XCIsXG4gICAgXCJldmVyeVwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJmb3JFYWNoXCIsXG4gICAgXCJpbmRleE9mXCIsXG4gICAgXCJqb2luXCIsXG4gICAgXCJsYXN0SW5kZXhPZlwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJyZWR1Y2VcIixcbiAgICBcInJlZHVjZVJpZ2h0XCIsXG4gICAgXCJzbGljZVwiLFxuICAgIFwic29tZVwiLFxuICAgIFwidG9TdHJpbmdcIixcbiAgICBcInRvTG9jYWxlU3RyaW5nXCJcbl0uZm9yRWFjaChmdW5jdGlvbiAoZnVuY05hbWUpIHtcbiAgICBhcnJheUV4dGVuc2lvbnNbZnVuY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieCQkMV07XG4gICAgICAgIGFkbS5hdG9tLnJlcG9ydE9ic2VydmVkKCk7XG4gICAgICAgIHZhciByZXMgPSBhZG0uZGVoYW5jZVZhbHVlcyhhZG0udmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHJlc1tmdW5jTmFtZV0uYXBwbHkocmVzLCBhcmd1bWVudHMpO1xuICAgIH07XG59KTtcbnZhciBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZSQkMShcIk9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uXCIsIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKTtcbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZUFycmF5JCQxKHRoaW5nKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0JCQxKHRoaW5nKSAmJiBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKHRoaW5nWyRtb2J4JCQxXSk7XG59XG5cbnZhciBfYTtcbnZhciBPYnNlcnZhYmxlTWFwTWFya2VyID0ge307XG4vLyBqdXN0IGV4dGVuZCBNYXA/IFNlZSBhbHNvIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL25lc3RoYXJ1cy8xM2I0ZDc0ZjJlZjRhMmY0MzU3ZGJkM2ZjMjNjMWU1NFxuLy8gQnV0OiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvaXNzdWVzLzE1NTZcbnZhciBPYnNlcnZhYmxlTWFwJCQxID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVNYXAkJDEoaW5pdGlhbERhdGEsIGVuaGFuY2VyLCBuYW1lKSB7XG4gICAgICAgIGlmIChlbmhhbmNlciA9PT0gdm9pZCAwKSB7IGVuaGFuY2VyID0gZGVlcEVuaGFuY2VyJCQxOyB9XG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9IFwiT2JzZXJ2YWJsZU1hcEBcIiArIGdldE5leHRJZCQkMSgpOyB9XG4gICAgICAgIHRoaXMuZW5oYW5jZXIgPSBlbmhhbmNlcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpc1tfYV0gPSBPYnNlcnZhYmxlTWFwTWFya2VyO1xuICAgICAgICB0aGlzLl9rZXlzQXRvbSA9IGNyZWF0ZUF0b20kJDEodGhpcy5uYW1lICsgXCIua2V5cygpXCIpO1xuICAgICAgICB0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ10gPSBcIk1hcFwiO1xuICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2J4Lm1hcCByZXF1aXJlcyBNYXAgcG9seWZpbGwgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuIENoZWNrIGJhYmVsLXBvbHlmaWxsIG9yIGNvcmUtanMvZXM2L21hcC5qc1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9oYXNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubWVyZ2UoaW5pdGlhbERhdGEpO1xuICAgIH1cbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5faGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5oYXMoa2V5KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc01hcC5oYXMoa2V5KSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNNYXAuZ2V0KGtleSkuZ2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVIYXNNYXBFbnRyeShrZXksIGZhbHNlKS5nZXQoKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBoYXNLZXkgPSB0aGlzLl9oYXMoa2V5KTtcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyQkMSh0aGlzKSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSQkMSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogaGFzS2V5ID8gXCJ1cGRhdGVcIiA6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBrZXlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB2YWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzS2V5KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVWYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzJCQxKHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlJCQxKHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgICAgICAgICBuYW1lOiBrZXlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYXMoa2V5KSkge1xuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCQkMSgpO1xuICAgICAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5XG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IHRoaXMuX2RhdGEuZ2V0KGtleSkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGtleVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRTdGFydCQkMShfX2Fzc2lnbih7fSwgY2hhbmdlLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24kJDEoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZUhhc01hcEVudHJ5KGtleSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlJCQxID0gX3RoaXMuX2RhdGEuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZSQkMS5zZXROZXdWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9kYXRhLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyQkMSh0aGlzLCBjaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kJCQxKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5fdXBkYXRlSGFzTWFwRW50cnkgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAvLyBvcHRpbWl6YXRpb247IGRvbid0IGZpbGwgdGhlIGhhc01hcCBpZiB3ZSBhcmUgbm90IG9ic2VydmluZywgb3IgcmVtb3ZlIGVudHJ5IGlmIHRoZXJlIGFyZSBubyBvYnNlcnZlcnMgYW55bW9yZVxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9oYXNNYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgZW50cnkuc2V0TmV3VmFsdWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50cnkgPSBuZXcgT2JzZXJ2YWJsZVZhbHVlJCQxKHZhbHVlLCByZWZlcmVuY2VFbmhhbmNlciQkMSwgdGhpcy5uYW1lICsgXCIuXCIgKyBzdHJpbmdpZnlLZXkoa2V5KSArIFwiP1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9oYXNNYXAuc2V0KGtleSwgZW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLl91cGRhdGVWYWx1ZSA9IGZ1bmN0aW9uIChrZXksIG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlJCQxID0gdGhpcy5fZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgbmV3VmFsdWUgPSBvYnNlcnZhYmxlJCQxLnByZXBhcmVOZXdWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gZ2xvYmFsU3RhdGUkJDEuVU5DSEFOR0VEKSB7XG4gICAgICAgICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkJCQxKCk7XG4gICAgICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzJCQxKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogb2JzZXJ2YWJsZSQkMS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQkJDEoX19hc3NpZ24oe30sIGNoYW5nZSwgeyBuYW1lOiB0aGlzLm5hbWUsIGtleToga2V5IH0pKTtcbiAgICAgICAgICAgIG9ic2VydmFibGUkJDEuc2V0TmV3VmFsdWUobmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeSlcbiAgICAgICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnMkJDEodGhpcywgY2hhbmdlKTtcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCQkMSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5fYWRkVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCQkMSh0aGlzLl9rZXlzQXRvbSk7XG4gICAgICAgIHRyYW5zYWN0aW9uJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlJCQxID0gbmV3IE9ic2VydmFibGVWYWx1ZSQkMShuZXdWYWx1ZSwgX3RoaXMuZW5oYW5jZXIsIF90aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShrZXkpLCBmYWxzZSk7XG4gICAgICAgICAgICBfdGhpcy5fZGF0YS5zZXQoa2V5LCBvYnNlcnZhYmxlJCQxKTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZSQkMS52YWx1ZTsgLy8gdmFsdWUgbWlnaHQgaGF2ZSBiZWVuIGNoYW5nZWRcbiAgICAgICAgICAgIF90aGlzLl91cGRhdGVIYXNNYXBFbnRyeShrZXksIHRydWUpO1xuICAgICAgICAgICAgX3RoaXMuX2tleXNBdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQkJDEoKTtcbiAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICBzcHlSZXBvcnRTdGFydCQkMShfX2Fzc2lnbih7fSwgY2hhbmdlLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xuICAgICAgICBpZiAobm90aWZ5KVxuICAgICAgICAgICAgbm90aWZ5TGlzdGVuZXJzJCQxKHRoaXMsIGNoYW5nZSk7XG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgc3B5UmVwb3J0RW5kJCQxKCk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlKHRoaXMuX2RhdGEuZ2V0KGtleSkuZ2V0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWUodW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fa2V5c0F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEua2V5cygpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgICB2YXIga2V5cyQkMSA9IEFycmF5LmZyb20odGhpcy5rZXlzKCkpO1xuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwga2V5cyQkMS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlOiBzZWxmLmdldChrZXlzJCQxW25leHRJbmRleCsrXSksIGRvbmU6IGZhbHNlIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgICB2YXIga2V5cyQkMSA9IEFycmF5LmZyb20odGhpcy5rZXlzKCkpO1xuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4IDwga2V5cyQkMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXMkJDFbbmV4dEluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtrZXksIHNlbGYuZ2V0KGtleSldLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlWyhfYSA9ICRtb2J4JCQxLCBTeW1ib2wuaXRlcmF0b3IpXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBrZXkgPSBfZFswXSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBNZXJnZSBhbm90aGVyIG9iamVjdCBpbnRvIHRoaXMgb2JqZWN0LCByZXR1cm5zIHRoaXMuICovXG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMShvdGhlcikpIHtcbiAgICAgICAgICAgIG90aGVyID0gb3RoZXIudG9KUygpO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zYWN0aW9uJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpc1BsYWluT2JqZWN0JCQxKG90aGVyKSlcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvdGhlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBfdGhpcy5zZXQoa2V5LCBvdGhlcltrZXldKTsgfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG90aGVyKSlcbiAgICAgICAgICAgICAgICBvdGhlci5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLCBrZXkgPSBfYlswXSwgdmFsdWUgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRVM2TWFwJCQxKG90aGVyKSkge1xuICAgICAgICAgICAgICAgIGlmIChvdGhlci5jb25zdHJ1Y3RvciAhPT0gTWFwKVxuICAgICAgICAgICAgICAgICAgICBmYWlsJCQxKFwiQ2Fubm90IGluaXRpYWxpemUgZnJvbSBjbGFzc2VzIHRoYXQgaW5oZXJpdCBmcm9tIE1hcDogXCIgKyBvdGhlci5jb25zdHJ1Y3Rvci5uYW1lKTsgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgeyByZXR1cm4gX3RoaXMuc2V0KGtleSwgdmFsdWUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG90aGVyICE9PSBudWxsICYmIG90aGVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZmFpbCQkMShcIkNhbm5vdCBpbml0aWFsaXplIG1hcCBmcm9tIFwiICsgb3RoZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdHJhbnNhY3Rpb24kJDEoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdW50cmFja2VkJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKF90aGlzLmtleXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAodmFsdWVzJCQxKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRyYW5zYWN0aW9uJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGdyYWIgYWxsIHRoZSBrZXlzIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIG5ldyBtYXAgYnV0IG5vdCBwcmVzZW50IGluIHRoZSBjdXJyZW50IG1hcFxuICAgICAgICAgICAgLy8gYW5kIGRlbGV0ZSB0aGVtIGZyb20gdGhlIG1hcCwgdGhlbiBtZXJnZSB0aGUgbmV3IG1hcFxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGNhdXNlIHJlYWN0aW9ucyBvbmx5IG9uIGNoYW5nZWQgdmFsdWVzXG4gICAgICAgICAgICB2YXIgbmV3S2V5cyA9IGdldE1hcExpa2VLZXlzJCQxKHZhbHVlcyQkMSk7XG4gICAgICAgICAgICB2YXIgb2xkS2V5cyA9IEFycmF5LmZyb20oX3RoaXMua2V5cygpKTtcbiAgICAgICAgICAgIHZhciBtaXNzaW5nS2V5cyA9IG9sZEtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiBuZXdLZXlzLmluZGV4T2YoaykgPT09IC0xOyB9KTtcbiAgICAgICAgICAgIG1pc3NpbmdLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHsgcmV0dXJuIF90aGlzLmRlbGV0ZShrKTsgfSk7XG4gICAgICAgICAgICBfdGhpcy5tZXJnZSh2YWx1ZXMkJDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fa2V5c0F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwbGFpbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoaXMgbWFwLlxuICAgICAqIE5vdGUgdGhhdCBhbGwgdGhlIGtleXMgYmVpbmcgc3RyaW5naWZpZWQuXG4gICAgICogSWYgdGhlcmUgYXJlIGR1cGxpY2F0aW5nIGtleXMgYWZ0ZXIgY29udmVydGluZyB0aGVtIHRvIHN0cmluZ3MsIGJlaGF2aW91ciBpcyB1bmRldGVybWluZWQuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUudG9QT0pPID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGtleSA9IF9kWzBdLCB2YWx1ZSA9IF9kWzFdO1xuICAgICAgICAgICAgICAgIC8vIFdlIGxpZSBhYm91dCBzeW1ib2wga2V5IHR5cGVzIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzE4NjNcbiAgICAgICAgICAgICAgICByZXNbdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IHN0cmluZ2lmeUtleShrZXkpXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzaGFsbG93IG5vbiBvYnNlcnZhYmxlIG9iamVjdCBjbG9uZSBvZiB0aGlzIG1hcC5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHZhbHVlcyBtaWd0aCBzdGlsbCBiZSBvYnNlcnZhYmxlLiBGb3IgYSBkZWVwIGNsb25lIHVzZSBtb2J4LnRvSlMuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUudG9KUyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXAodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFVzZWQgYnkgSlNPTi5zdHJpbmdpZnlcbiAgICAgICAgcmV0dXJuIHRoaXMudG9QT0pPKCk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlTWFwJCQxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuICh0aGlzLm5hbWUgK1xuICAgICAgICAgICAgXCJbeyBcIiArXG4gICAgICAgICAgICBBcnJheS5mcm9tKHRoaXMua2V5cygpKVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc3RyaW5naWZ5S2V5KGtleSkgKyBcIjogXCIgKyAoXCJcIiArIF90aGlzLmdldChrZXkpKTsgfSlcbiAgICAgICAgICAgICAgICAuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgIFwiIH1dXCIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT2JzZXJ2ZXMgdGhpcyBvYmplY3QuIFRyaWdnZXJzIGZvciB0aGUgZXZlbnRzICdhZGQnLCAndXBkYXRlJyBhbmQgJ2RlbGV0ZScuXG4gICAgICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvb2JzZXJ2ZVxuICAgICAqIGZvciBjYWxsYmFjayBkZXRhaWxzXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZU1hcCQkMS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgaW52YXJpYW50JCQxKGZpcmVJbW1lZGlhdGVseSAhPT0gdHJ1ZSwgXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IGZpcmVJbW1lZGlhdGVseT10cnVlIGluIGNvbWJpbmF0aW9uIHdpdGggbWFwcy5cIik7XG4gICAgICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyJCQxKHRoaXMsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVNYXAkJDEucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yJCQxKHRoaXMsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVNYXAkJDE7XG59KCkpO1xuZnVuY3Rpb24gc3RyaW5naWZ5S2V5KGtleSkge1xuICAgIGlmIChrZXkgJiYga2V5LnRvU3RyaW5nKVxuICAgICAgICByZXR1cm4ga2V5LnRvU3RyaW5nKCk7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gbmV3IFN0cmluZyhrZXkpLnRvU3RyaW5nKCk7XG59XG4vKiAndmFyJyBmaXhlcyBzbWFsbC1idWlsZCBpc3N1ZSAqL1xudmFyIGlzT2JzZXJ2YWJsZU1hcCQkMSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEoXCJPYnNlcnZhYmxlTWFwXCIsIE9ic2VydmFibGVNYXAkJDEpO1xuXG52YXIgX2EkMTtcbnZhciBPYnNlcnZhYmxlU2V0TWFya2VyID0ge307XG52YXIgT2JzZXJ2YWJsZVNldCQkMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlU2V0JCQxKGluaXRpYWxEYXRhLCBlbmhhbmNlciwgbmFtZSkge1xuICAgICAgICBpZiAoZW5oYW5jZXIgPT09IHZvaWQgMCkgeyBlbmhhbmNlciA9IGRlZXBFbmhhbmNlciQkMTsgfVxuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIk9ic2VydmFibGVTZXRAXCIgKyBnZXROZXh0SWQkJDEoKTsgfVxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzW19hJDFdID0gT2JzZXJ2YWJsZVNldE1hcmtlcjtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fYXRvbSA9IGNyZWF0ZUF0b20kJDEodGhpcy5uYW1lKTtcbiAgICAgICAgdGhpc1tTeW1ib2wudG9TdHJpbmdUYWddID0gXCJTZXRcIjtcbiAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9ieC5zZXQgcmVxdWlyZXMgU2V0IHBvbHlmaWxsIGZvciB0aGUgY3VycmVudCBicm93c2VyLiBDaGVjayBiYWJlbC1wb2x5ZmlsbCBvciBjb3JlLWpzL2VzNi9zZXQuanNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmhhbmNlciA9IGZ1bmN0aW9uIChuZXdWLCBvbGRWKSB7IHJldHVybiBlbmhhbmNlcihuZXdWLCBvbGRWLCBuYW1lKTsgfTtcbiAgICAgICAgaWYgKGluaXRpYWxEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2UoaW5pdGlhbERhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGVTZXQkJDEucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVNldCQkMS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRyYW5zYWN0aW9uJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHVudHJhY2tlZCQkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhfdGhpcy5fZGF0YS52YWx1ZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrRm4sIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tGbi5jYWxsKHRoaXNBcmcsIHZhbHVlLCB2YWx1ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVTZXQkJDEucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9ic2VydmFibGVTZXQkJDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCQkMSh0aGlzLl9hdG9tKTtcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyQkMSh0aGlzKSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSQkMSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgLy8gVE9ETzogaWRlYWxseSwgdmFsdWUgPSBjaGFuZ2UudmFsdWUgd291bGQgYmUgZG9uZSBoZXJlLCBzbyB0aGF0IHZhbHVlcyBjYW4gYmVcbiAgICAgICAgICAgIC8vIGNoYW5nZWQgYnkgaW50ZXJjZXB0b3IuIFNhbWUgYXBwbGllcyBmb3Igb3RoZXIgU2V0IGFuZCBNYXAgYXBpJ3MuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uJCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGF0YS5hZGQoX3RoaXMuZW5oYW5jZXIodmFsdWUsIHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9hdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCQkMSgpO1xuICAgICAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5XG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0JCQxKGNoYW5nZSk7XG4gICAgICAgICAgICBpZiAobm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyQkMSh0aGlzLCBjaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kJCQxKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyQkMSh0aGlzKSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSQkMSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkJCQxKCk7XG4gICAgICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzJCQxKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQkJDEoX19hc3NpZ24oe30sIGNoYW5nZSwgeyBuYW1lOiB0aGlzLm5hbWUgfSkpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24kJDEoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9hdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGF0YS5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyQkMSh0aGlzLCBjaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kJCQxKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5oYXModGhpcy5kZWhhbmNlVmFsdWUodmFsdWUpKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVTZXQkJDEucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgICB2YXIga2V5cyQkMSA9IEFycmF5LmZyb20odGhpcy5rZXlzKCkpO1xuICAgICAgICB2YXIgdmFsdWVzJCQxID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIG1ha2VJdGVyYWJsZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgICAgICAgICAgIG5leHRJbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA8IHZhbHVlcyQkMS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlOiBba2V5cyQkMVtpbmRleF0sIHZhbHVlcyQkMVtpbmRleF1dLCBkb25lOiBmYWxzZSB9XG4gICAgICAgICAgICAgICAgICAgIDogeyBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVNldCQkMS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9ic2VydmFibGVWYWx1ZXMgPSBBcnJheS5mcm9tKHRoaXMuX2RhdGEudmFsdWVzKCkpO1xuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwgb2JzZXJ2YWJsZVZhbHVlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlOiBzZWxmLmRlaGFuY2VWYWx1ZShvYnNlcnZhYmxlVmFsdWVzW25leHRJbmRleCsrXSksIGRvbmU6IGZhbHNlIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChpc09ic2VydmFibGVTZXQkJDEob3RoZXIpKSB7XG4gICAgICAgICAgICBvdGhlciA9IG90aGVyLnRvSlMoKTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2FjdGlvbiQkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvdGhlcikpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdGhpcy5hZGQodmFsdWUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRVM2U2V0JCQxKG90aGVyKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIF90aGlzLmFkZCh2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3RoZXIgIT09IG51bGwgJiYgb3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZhaWwkJDEoXCJDYW5ub3QgaW5pdGlhbGl6ZSBzZXQgZnJvbSBcIiArIG90aGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVNldCQkMS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIC8vIFRPRE8gJ2ZpcmVJbW1lZGlhdGVseScgY2FuIGJlIHRydWU/XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgaW52YXJpYW50JCQxKGZpcmVJbW1lZGlhdGVseSAhPT0gdHJ1ZSwgXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IGZpcmVJbW1lZGlhdGVseT10cnVlIGluIGNvbWJpbmF0aW9uIHdpdGggc2V0cy5cIik7XG4gICAgICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyJCQxKHRoaXMsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVTZXQkJDEucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yJCQxKHRoaXMsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVNldCQkMS5wcm90b3R5cGUudG9KUyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXQodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlU2V0JCQxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArIFwiWyBcIiArIEFycmF5LmZyb20odGhpcykuam9pbihcIiwgXCIpICsgXCIgXVwiO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVNldCQkMS5wcm90b3R5cGVbKF9hJDEgPSAkbW9ieCQkMSwgU3ltYm9sLml0ZXJhdG9yKV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVTZXQkJDE7XG59KCkpO1xudmFyIGlzT2JzZXJ2YWJsZVNldCQkMSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEoXCJPYnNlcnZhYmxlU2V0XCIsIE9ic2VydmFibGVTZXQkJDEpO1xuXG52YXIgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMSh0YXJnZXQsIHZhbHVlcyQkMSwgbmFtZSwgZGVmYXVsdEVuaGFuY2VyKSB7XG4gICAgICAgIGlmICh2YWx1ZXMkJDEgPT09IHZvaWQgMCkgeyB2YWx1ZXMkJDEgPSBuZXcgTWFwKCk7IH1cbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzJCQxO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmRlZmF1bHRFbmhhbmNlciA9IGRlZmF1bHRFbmhhbmNlcjtcbiAgICAgICAgdGhpcy5rZXlzQXRvbSA9IG5ldyBBdG9tJCQxKG5hbWUgKyBcIi5rZXlzXCIpO1xuICAgIH1cbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24kJDEucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5nZXQoa2V5KS5nZXQoKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgdmFyIG9ic2VydmFibGUkJDEgPSB0aGlzLnZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKG9ic2VydmFibGUkJDEgaW5zdGFuY2VvZiBDb21wdXRlZFZhbHVlJCQxKSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlJCQxLnNldChuZXdWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW50ZXJjZXB0XG4gICAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnMkJDEodGhpcykpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UkJDEodGhpcywge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbmV3VmFsdWUgPSBvYnNlcnZhYmxlJCQxLnByZXBhcmVOZXdWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgIC8vIG5vdGlmeSBzcHkgJiBvYnNlcnZlcnNcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZSQkMS5VTkNIQU5HRUQpIHtcbiAgICAgICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnMkJDEodGhpcyk7XG4gICAgICAgICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkJCQxKCk7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvYnNlcnZhYmxlJCQxLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRTdGFydCQkMShfX2Fzc2lnbih7fSwgY2hhbmdlLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xuICAgICAgICAgICAgb2JzZXJ2YWJsZSQkMS5zZXROZXdWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAobm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyQkMSh0aGlzLCBjaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kJCQxKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5wZW5kaW5nS2V5cyB8fCAodGhpcy5wZW5kaW5nS2V5cyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIHZhciBlbnRyeSA9IG1hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGVudHJ5KVxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmdldCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSAhIXRoaXMudmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgICAgLy8gUG9zc2libGUgb3B0aW1pemF0aW9uOiBEb24ndCBoYXZlIGEgc2VwYXJhdGUgbWFwIGZvciBub24gZXhpc3Rpbmcga2V5cyxcbiAgICAgICAgICAgIC8vIGJ1dCBzdG9yZSB0aGVtIGluIHRoZSB2YWx1ZXMgbWFwIGluc3RlYWQsIHVzaW5nIGEgc3BlY2lhbCBzeW1ib2wgdG8gZGVub3RlIFwibm90IGV4aXN0aW5nXCJcbiAgICAgICAgICAgIGVudHJ5ID0gbmV3IE9ic2VydmFibGVWYWx1ZSQkMShleGlzdHMsIHJlZmVyZW5jZUVuaGFuY2VyJCQxLCB0aGlzLm5hbWUgKyBcIi5cIiArIGtleS50b1N0cmluZygpICsgXCI/XCIsIGZhbHNlKTtcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5LCBlbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkuZ2V0KCk7IC8vIHJlYWQgdG8gc3Vic2NyaWJlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMS5wcm90b3R5cGUuYWRkT2JzZXJ2YWJsZVByb3AgPSBmdW5jdGlvbiAocHJvcE5hbWUsIG5ld1ZhbHVlLCBlbmhhbmNlcikge1xuICAgICAgICBpZiAoZW5oYW5jZXIgPT09IHZvaWQgMCkgeyBlbmhhbmNlciA9IHRoaXMuZGVmYXVsdEVuaGFuY2VyOyB9XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgYXNzZXJ0UHJvcGVydHlDb25maWd1cmFibGUkJDEodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnMkJDEodGhpcykpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UkJDEodGhpcywge1xuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eSB8fCB0YXJnZXQsXG4gICAgICAgICAgICAgICAgbmFtZTogcHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9ic2VydmFibGUkJDEgPSBuZXcgT2JzZXJ2YWJsZVZhbHVlJCQxKG5ld1ZhbHVlLCBlbmhhbmNlciwgdGhpcy5uYW1lICsgXCIuXCIgKyBwcm9wTmFtZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQocHJvcE5hbWUsIG9ic2VydmFibGUkJDEpO1xuICAgICAgICBuZXdWYWx1ZSA9IG9ic2VydmFibGUkJDEudmFsdWU7IC8vIG9ic2VydmFibGVWYWx1ZSBtaWdodCBoYXZlIGNoYW5nZWQgaXRcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIGdlbmVyYXRlT2JzZXJ2YWJsZVByb3BDb25maWckJDEocHJvcE5hbWUpKTtcbiAgICAgICAgdGhpcy5ub3RpZnlQcm9wZXJ0eUFkZGl0aW9uKHByb3BOYW1lLCBuZXdWYWx1ZSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24kJDEucHJvdG90eXBlLmFkZENvbXB1dGVkUHJvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU93bmVyLCAvLyB3aGVyZSBpcyB0aGUgcHJvcGVydHkgZGVjbGFyZWQ/XG4gICAgcHJvcE5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgICBvcHRpb25zLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgdGhpcy5uYW1lICsgXCIuXCIgKyBwcm9wTmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KHByb3BOYW1lLCBuZXcgQ29tcHV0ZWRWYWx1ZSQkMShvcHRpb25zKSk7XG4gICAgICAgIGlmIChwcm9wZXJ0eU93bmVyID09PSB0YXJnZXQgfHwgaXNQcm9wZXJ0eUNvbmZpZ3VyYWJsZSQkMShwcm9wZXJ0eU93bmVyLCBwcm9wTmFtZSkpXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcGVydHlPd25lciwgcHJvcE5hbWUsIGdlbmVyYXRlQ29tcHV0ZWRQcm9wQ29uZmlnJCQxKHByb3BOYW1lKSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24kJDEucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlcy5oYXMoa2V5KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzJCQxKHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlJCQxKHRoaXMsIHtcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgdGFyZ2V0LFxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlbW92ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhcnRCYXRjaCQkMSgpO1xuICAgICAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQkJDEoKTtcbiAgICAgICAgICAgIHZhciBvbGRPYnNlcnZhYmxlID0gdGhpcy52YWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBvbGRPYnNlcnZhYmxlICYmIG9sZE9ic2VydmFibGUuZ2V0KCk7XG4gICAgICAgICAgICBvbGRPYnNlcnZhYmxlICYmIG9sZE9ic2VydmFibGUuc2V0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAvLyBub3RpZnkga2V5IGFuZCBrZXlzZXQgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLmtleXNBdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0tleXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnBlbmRpbmdLZXlzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuc2V0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgcHJvcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGFyZ2V0W2tleV07XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInJlbW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGtleVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRTdGFydCQkMShfX2Fzc2lnbih7fSwgY2hhbmdlLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeSlcbiAgICAgICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnMkJDEodGhpcywgY2hhbmdlKTtcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCQkMSgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgZW5kQmF0Y2gkJDEoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxLnByb3RvdHlwZS5pbGxlZ2FsQWNjZXNzID0gZnVuY3Rpb24gKG93bmVyLCBwcm9wTmFtZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBoYXBwZW5zIGlmIGEgcHJvcGVydHkgaXMgYWNjZXNzZWQgdGhyb3VnaCB0aGUgcHJvdG90eXBlIGNoYWluLCBidXQgdGhlIHByb3BlcnR5IHdhc1xuICAgICAgICAgKiBkZWNsYXJlZCBkaXJlY3RseSBhcyBvd24gcHJvcGVydHkgb24gdGhlIHByb3RvdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogRS5nLjpcbiAgICAgICAgICogY2xhc3MgQSB7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogZXh0ZW5kT2JzZXJ2YWJsZShBLnByb3RvdHlwZSwgeyB4OiAxIH0pXG4gICAgICAgICAqXG4gICAgICAgICAqIGNsYXNzQiBleHRlbnMgQSB7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogY29uc29sZS5sb2cobmV3IEIoKS54KVxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBpcyB1bmNsZWFyIHdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkICdzdGF0aWMnIG9yIGluaGVyaXRlZC5cbiAgICAgICAgICogRWl0aGVyIHVzZSBgY29uc29sZS5sb2coQS54KWBcbiAgICAgICAgICogb3I6IGRlY29yYXRlKEEsIHsgeDogb2JzZXJ2YWJsZSB9KVxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHVzaW5nIGRlY29yYXRlLCB0aGUgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgcmVkZWNsYXJlZCBhcyBvd24gcHJvcGVydHkgb24gdGhlIGFjdHVhbCBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc29sZS53YXJuKFwiUHJvcGVydHkgJ1wiICsgcHJvcE5hbWUgKyBcIicgb2YgJ1wiICsgb3duZXIgKyBcIicgd2FzIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHByb3RvdHlwZSBjaGFpbi4gVXNlICdkZWNvcmF0ZScgaW5zdGVhZCB0byBkZWNsYXJlIHRoZSBwcm9wIG9yIGFjY2VzcyBpdCBzdGF0aWNhbGx5IHRocm91Z2ggaXQncyBvd25lclwiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9ic2VydmVzIHRoaXMgb2JqZWN0LiBUcmlnZ2VycyBmb3IgdGhlIGV2ZW50cyAnYWRkJywgJ3VwZGF0ZScgYW5kICdkZWxldGUnLlxuICAgICAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L29ic2VydmVcbiAgICAgKiBmb3IgY2FsbGJhY2sgZGV0YWlsc1xuICAgICAqL1xuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgaW52YXJpYW50JCQxKGZpcmVJbW1lZGlhdGVseSAhPT0gdHJ1ZSwgXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IHRoZSBmaXJlIGltbWVkaWF0ZWx5IHByb3BlcnR5IGZvciBvYnNlcnZhYmxlIG9iamVjdHMuXCIpO1xuICAgICAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lciQkMSh0aGlzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24kJDEucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yJCQxKHRoaXMsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxLnByb3RvdHlwZS5ub3RpZnlQcm9wZXJ0eUFkZGl0aW9uID0gZnVuY3Rpb24gKGtleSwgbmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyQkMSh0aGlzKTtcbiAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCQkMSgpO1xuICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcbiAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0JCQxKF9fYXNzaWduKHt9LCBjaGFuZ2UsIHsgbmFtZTogdGhpcy5uYW1lLCBrZXk6IGtleSB9KSk7XG4gICAgICAgIGlmIChub3RpZnkpXG4gICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnMkJDEodGhpcywgY2hhbmdlKTtcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXG4gICAgICAgICAgICBzcHlSZXBvcnRFbmQkJDEoKTtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0tleXMpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMucGVuZGluZ0tleXMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAoZW50cnkpXG4gICAgICAgICAgICAgICAgZW50cnkuc2V0KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2V5c0F0b20ucmVwb3J0Q2hhbmdlZCgpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdGhpcy5rZXlzQXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICAvLyByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRoaXMudmFsdWVzKSBhcyBhbnlcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnZhbHVlcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBrZXkgPSBfZFswXSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZhYmxlVmFsdWUkJDEpXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiQkMTtcbn0oKSk7XG5mdW5jdGlvbiBhc09ic2VydmFibGVPYmplY3QkJDEodGFyZ2V0LCBuYW1lLCBkZWZhdWx0RW5oYW5jZXIpIHtcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIlwiOyB9XG4gICAgaWYgKGRlZmF1bHRFbmhhbmNlciA9PT0gdm9pZCAwKSB7IGRlZmF1bHRFbmhhbmNlciA9IGRlZXBFbmhhbmNlciQkMTsgfVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCAkbW9ieCQkMSkpXG4gICAgICAgIHJldHVybiB0YXJnZXRbJG1vYngkJDFdO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICBpbnZhcmlhbnQkJDEoT2JqZWN0LmlzRXh0ZW5zaWJsZSh0YXJnZXQpLCBcIkNhbm5vdCBtYWtlIHRoZSBkZXNpZ25hdGVkIG9iamVjdCBvYnNlcnZhYmxlOyBpdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QkJDEodGFyZ2V0KSlcbiAgICAgICAgbmFtZSA9ICh0YXJnZXQuY29uc3RydWN0b3IubmFtZSB8fCBcIk9ic2VydmFibGVPYmplY3RcIikgKyBcIkBcIiArIGdldE5leHRJZCQkMSgpO1xuICAgIGlmICghbmFtZSlcbiAgICAgICAgbmFtZSA9IFwiT2JzZXJ2YWJsZU9iamVjdEBcIiArIGdldE5leHRJZCQkMSgpO1xuICAgIHZhciBhZG0gPSBuZXcgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxKHRhcmdldCwgbmV3IE1hcCgpLCBuYW1lLCBkZWZhdWx0RW5oYW5jZXIpO1xuICAgIGFkZEhpZGRlblByb3AkJDEodGFyZ2V0LCAkbW9ieCQkMSwgYWRtKTtcbiAgICByZXR1cm4gYWRtO1xufVxudmFyIG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xudmFyIGNvbXB1dGVkUHJvcGVydHlDb25maWdzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGdlbmVyYXRlT2JzZXJ2YWJsZVByb3BDb25maWckJDEocHJvcE5hbWUpIHtcbiAgICByZXR1cm4gKG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdIHx8XG4gICAgICAgIChvYnNlcnZhYmxlUHJvcGVydHlDb25maWdzW3Byb3BOYW1lXSA9IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1skbW9ieCQkMV0ucmVhZChwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHRoaXNbJG1vYngkJDFdLndyaXRlKHByb3BOYW1lLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xufVxuZnVuY3Rpb24gZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lcihvd25lcikge1xuICAgIHZhciBhZG0gPSBvd25lclskbW9ieCQkMV07XG4gICAgaWYgKCFhZG0pIHtcbiAgICAgICAgLy8gYmVjYXVzZSBjb21wdXRlZCBwcm9wcyBhcmUgZGVjbGFyZWQgb24gcHJvdHksXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IGluc3RhbmNlIG1pZ2h0IG5vdCBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgICAgIGluaXRpYWxpemVJbnN0YW5jZSQkMShvd25lcik7XG4gICAgICAgIHJldHVybiBvd25lclskbW9ieCQkMV07XG4gICAgfVxuICAgIHJldHVybiBhZG07XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUNvbXB1dGVkUHJvcENvbmZpZyQkMShwcm9wTmFtZSkge1xuICAgIHJldHVybiAoY29tcHV0ZWRQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdIHx8XG4gICAgICAgIChjb21wdXRlZFByb3BlcnR5Q29uZmlnc1twcm9wTmFtZV0gPSB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lcih0aGlzKS5yZWFkKHByb3BOYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lcih0aGlzKS53cml0ZShwcm9wTmFtZSwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbn1cbnZhciBpc09ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUkJDEoXCJPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb25cIiwgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uJCQxKTtcbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZU9iamVjdCQkMSh0aGluZykge1xuICAgIGlmIChpc09iamVjdCQkMSh0aGluZykpIHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZXJzIHJ1biBsYXppbHkgd2hlbiB0cmFuc3BpbGluZyB0byBiYWJlbCwgc28gbWFrZSBzdXJlIHRoZXkgYXJlIHJ1bi4uLlxuICAgICAgICBpbml0aWFsaXplSW5zdGFuY2UkJDEodGhpbmcpO1xuICAgICAgICByZXR1cm4gaXNPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24odGhpbmdbJG1vYngkJDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRBdG9tJCQxKHRoaW5nLCBwcm9wZXJ0eSkge1xuICAgIGlmICh0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZUFycmF5JCQxKHRoaW5nKSkge1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJJdCBpcyBub3QgcG9zc2libGUgdG8gZ2V0IGluZGV4IGF0b21zIGZyb20gYXJyYXlzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaW5nWyRtb2J4JCQxXS5hdG9tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09ic2VydmFibGVTZXQkJDEodGhpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpbmdbJG1vYngkJDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09ic2VydmFibGVNYXAkJDEodGhpbmcpKSB7XG4gICAgICAgICAgICB2YXIgYW55VGhpbmcgPSB0aGluZztcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBhbnlUaGluZy5fa2V5c0F0b207XG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSQkMSA9IGFueVRoaW5nLl9kYXRhLmdldChwcm9wZXJ0eSkgfHwgYW55VGhpbmcuX2hhc01hcC5nZXQocHJvcGVydHkpO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZhYmxlJCQxKVxuICAgICAgICAgICAgICAgIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgIFwidGhlIGVudHJ5ICdcIiArIHByb3BlcnR5ICsgXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBvYnNlcnZhYmxlIG1hcCAnXCIgKyBnZXREZWJ1Z05hbWUkJDEodGhpbmcpICsgXCInXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUkJDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZXJzIHJ1biBsYXppbHkgd2hlbiB0cmFuc3BpbGluZyB0byBiYWJlbCwgc28gbWFrZSBzdXJlIHRoZXkgYXJlIHJ1bi4uLlxuICAgICAgICBpbml0aWFsaXplSW5zdGFuY2UkJDEodGhpbmcpO1xuICAgICAgICBpZiAocHJvcGVydHkgJiYgIXRoaW5nWyRtb2J4JCQxXSlcbiAgICAgICAgICAgIHRoaW5nW3Byb3BlcnR5XTsgLy8gU2VlICMxMDcyXG4gICAgICAgIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEodGhpbmcpKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBcInBsZWFzZSBzcGVjaWZ5IGEgcHJvcGVydHlcIik7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSQkMSA9IHRoaW5nWyRtb2J4JCQxXS52YWx1ZXMuZ2V0KHByb3BlcnR5KTtcbiAgICAgICAgICAgIGlmICghb2JzZXJ2YWJsZSQkMSlcbiAgICAgICAgICAgICAgICBmYWlsJCQxKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICAgICBcIm5vIG9ic2VydmFibGUgcHJvcGVydHkgJ1wiICsgcHJvcGVydHkgKyBcIicgZm91bmQgb24gdGhlIG9ic2VydmFibGUgb2JqZWN0ICdcIiArIGdldERlYnVnTmFtZSQkMSh0aGluZykgKyBcIidcIik7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQkMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBdG9tJCQxKHRoaW5nKSB8fCBpc0NvbXB1dGVkVmFsdWUkJDEodGhpbmcpIHx8IGlzUmVhY3Rpb24kJDEodGhpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKGlzUmVhY3Rpb24kJDEodGhpbmdbJG1vYngkJDFdKSkge1xuICAgICAgICAgICAgLy8gZGlzcG9zZXIgZnVuY3Rpb25cbiAgICAgICAgICAgIHJldHVybiB0aGluZ1skbW9ieCQkMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhaWwkJDEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIFwiQ2Fubm90IG9idGFpbiBhdG9tIGZyb20gXCIgKyB0aGluZyk7XG59XG5mdW5jdGlvbiBnZXRBZG1pbmlzdHJhdGlvbiQkMSh0aGluZywgcHJvcGVydHkpIHtcbiAgICBpZiAoIXRoaW5nKVxuICAgICAgICBmYWlsJCQxKFwiRXhwZWN0aW5nIHNvbWUgb2JqZWN0XCIpO1xuICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24kJDEoZ2V0QXRvbSQkMSh0aGluZywgcHJvcGVydHkpKTtcbiAgICBpZiAoaXNBdG9tJCQxKHRoaW5nKSB8fCBpc0NvbXB1dGVkVmFsdWUkJDEodGhpbmcpIHx8IGlzUmVhY3Rpb24kJDEodGhpbmcpKVxuICAgICAgICByZXR1cm4gdGhpbmc7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCQkMSh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0JCQxKHRoaW5nKSlcbiAgICAgICAgcmV0dXJuIHRoaW5nO1xuICAgIC8vIEluaXRpYWxpemVycyBydW4gbGF6aWx5IHdoZW4gdHJhbnNwaWxpbmcgdG8gYmFiZWwsIHNvIG1ha2Ugc3VyZSB0aGV5IGFyZSBydW4uLi5cbiAgICBpbml0aWFsaXplSW5zdGFuY2UkJDEodGhpbmcpO1xuICAgIGlmICh0aGluZ1skbW9ieCQkMV0pXG4gICAgICAgIHJldHVybiB0aGluZ1skbW9ieCQkMV07XG4gICAgZmFpbCQkMShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJDYW5ub3Qgb2J0YWluIGFkbWluaXN0cmF0aW9uIGZyb20gXCIgKyB0aGluZyk7XG59XG5mdW5jdGlvbiBnZXREZWJ1Z05hbWUkJDEodGhpbmcsIHByb3BlcnR5KSB7XG4gICAgdmFyIG5hbWVkO1xuICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBuYW1lZCA9IGdldEF0b20kJDEodGhpbmcsIHByb3BlcnR5KTtcbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVPYmplY3QkJDEodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZU1hcCQkMSh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0JCQxKHRoaW5nKSlcbiAgICAgICAgbmFtZWQgPSBnZXRBZG1pbmlzdHJhdGlvbiQkMSh0aGluZyk7XG4gICAgZWxzZVxuICAgICAgICBuYW1lZCA9IGdldEF0b20kJDEodGhpbmcpOyAvLyB2YWxpZCBmb3IgYXJyYXlzIGFzIHdlbGxcbiAgICByZXR1cm4gbmFtZWQubmFtZTtcbn1cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmZ1bmN0aW9uIGRlZXBFcXVhbCQkMShhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xufVxuLy8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL2Jsb2IvNWMyMzdhN2M2ODJmYjY4ZmQ1Mzc4MjAzZjBiZjIyZGNlMTYyNDg1NC91bmRlcnNjb3JlLmpzI0wxMTg2LUwxMjg5XG4vLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuZnVuY3Rpb24gZXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgb25seSBlcXVhbCB0byBpdHNlbGYgKHN0cmljdCBjb21wYXJpc29uKS5cbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgaWYgKGEgIT09IGEpXG4gICAgICAgIHJldHVybiBiICE9PSBiO1xuICAgIC8vIEV4aGF1c3QgcHJpbWl0aXZlIGNoZWNrc1xuICAgIHZhciB0eXBlID0gdHlwZW9mIGE7XG4gICAgaWYgKHR5cGUgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBiICE9IFwib2JqZWN0XCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZGVlcEVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKTtcbn1cbi8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG5mdW5jdGlvbiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBhID0gdW53cmFwKGEpO1xuICAgIGIgPSB1bndyYXAoYik7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjpcbiAgICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgICAgY2FzZSBcIltvYmplY3QgU3RyaW5nXVwiOlxuICAgICAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgICAgIHJldHVybiBcIlwiICsgYSA9PT0gXCJcIiArIGI7XG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IE51bWJlcl1cIjpcbiAgICAgICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgICAgICAgIGlmICgrYSAhPT0gK2EpXG4gICAgICAgICAgICAgICAgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgICAgICByZXR1cm4gK2EgPT09IDAgPyAxIC8gK2EgPT09IDEgLyBiIDogK2EgPT09ICtiO1xuICAgICAgICBjYXNlIFwiW29iamVjdCBEYXRlXVwiOlxuICAgICAgICBjYXNlIFwiW29iamVjdCBCb29sZWFuXVwiOlxuICAgICAgICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxuICAgICAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICAgICAgcmV0dXJuICthID09PSArYjtcbiAgICAgICAgY2FzZSBcIltvYmplY3QgU3ltYm9sXVwiOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC52YWx1ZU9mLmNhbGwoYSkgPT09IFN5bWJvbC52YWx1ZU9mLmNhbGwoYikpO1xuICAgIH1cbiAgICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhICE9IFwib2JqZWN0XCIgfHwgdHlwZW9mIGIgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJlxuICAgICAgICAgICAgISh0eXBlb2YgYUN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgYkN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpICYmXG4gICAgICAgICAgICAoXCJjb25zdHJ1Y3RvclwiIGluIGEgJiYgXCJjb25zdHJ1Y3RvclwiIGluIGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAgIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gTGluZWFyIHNlYXJjaC4gUGVyZm9ybWFuY2UgaXMgaW52ZXJzZWx5IHByb3BvcnRpb25hbCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKVxuICAgICAgICAgICAgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cbiAgICAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnB1c2goYSk7XG4gICAgYlN0YWNrLnB1c2goYik7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgICAgICB2YXIga2V5cyQkMSA9IE9iamVjdC5rZXlzKGEpO1xuICAgICAgICB2YXIga2V5ID0gdm9pZCAwO1xuICAgICAgICBsZW5ndGggPSBrZXlzJCQxLmxlbmd0aDtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgICAgICBrZXkgPSBrZXlzJCQxW2xlbmd0aF07XG4gICAgICAgICAgICBpZiAoIShoYXMkMShiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdW53cmFwKGEpIHtcbiAgICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkkJDEoYSkpXG4gICAgICAgIHJldHVybiBhLnNsaWNlKCk7XG4gICAgaWYgKGlzRVM2TWFwJCQxKGEpIHx8IGlzT2JzZXJ2YWJsZU1hcCQkMShhKSlcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oYS5lbnRyaWVzKCkpO1xuICAgIGlmIChpc0VTNlNldCQkMShhKSB8fCBpc09ic2VydmFibGVTZXQkJDEoYSkpXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGEuZW50cmllcygpKTtcbiAgICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIGhhcyQxKGEsIGtleSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KTtcbn1cblxuZnVuY3Rpb24gbWFrZUl0ZXJhYmxlKGl0ZXJhdG9yKSB7XG4gICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IHNlbGY7XG4gICAgcmV0dXJuIGl0ZXJhdG9yO1xufVxuZnVuY3Rpb24gc2VsZigpIHtcbiAgICByZXR1cm4gdGhpcztcbn1cblxuLypcblRoZSBvbmx5IHJlYXNvbiBmb3IgdGhpcyBmaWxlIHRvIGV4aXN0IGlzIHB1cmUgaG9ycm9yOlxuV2l0aG91dCBpdCByb2xsdXAgY2FuIG1ha2UgdGhlIGJ1bmRsaW5nIGZhaWwgYXQgYW55IHBvaW50IGluIHRpbWU7IHdoZW4gaXQgcm9sbHMgdXAgdGhlIGZpbGVzIGluIHRoZSB3cm9uZyBvcmRlclxuaXQgd2lsbCBjYXVzZSB1bmRlZmluZWQgZXJyb3JzIChmb3IgZXhhbXBsZSBiZWNhdXNlIHN1cGVyIGNsYXNzZXMgb3IgbG9jYWwgdmFyaWFibGVzIG5vdCBiZWluZyBob3N0ZWQpLlxuV2l0aCB0aGlzIGZpbGUgdGhhdCB3aWxsIHN0aWxsIGhhcHBlbixcbmJ1dCBhdCBsZWFzdCBpbiB0aGlzIGZpbGUgd2UgY2FuIG1hZ2ljYWxseSByZW9yZGVyIHRoZSBpbXBvcnRzIHdpdGggdHJpYWwgYW5kIGVycm9yIHVudGlsIHRoZSBidWlsZCBzdWNjZWVkcyBhZ2Fpbi5cbiovXG5cbi8qKlxuICogKGMpIE1pY2hlbCBXZXN0c3RyYXRlIDIwMTUgLSAyMDE4XG4gKiBNSVQgTGljZW5zZWRcbiAqXG4gKiBXZWxjb21lIHRvIHRoZSBtb2J4IHNvdXJjZXMhIFRvIGdldCBhbiBnbG9iYWwgb3ZlcnZpZXcgb2YgaG93IE1vYlggaW50ZXJuYWxseSB3b3JrcyxcbiAqIHRoaXMgaXMgYSBnb29kIHBsYWNlIHRvIHN0YXJ0OlxuICogaHR0cHM6Ly9tZWRpdW0uY29tL0Btd2VzdHN0cmF0ZS9iZWNvbWluZy1mdWxseS1yZWFjdGl2ZS1hbi1pbi1kZXB0aC1leHBsYW5hdGlvbi1vZi1tb2JzZXJ2YWJsZS01NTk5NTI2MmEyNTQjLnh2Ymg2cWQ3NFxuICpcbiAqIFNvdXJjZSBmb2xkZXJzOlxuICogPT09PT09PT09PT09PT09XG4gKlxuICogLSBhcGkvICAgICBNb3N0IG9mIHRoZSBwdWJsaWMgc3RhdGljIG1ldGhvZHMgZXhwb3NlZCBieSB0aGUgbW9kdWxlIGNhbiBiZSBmb3VuZCBoZXJlLlxuICogLSBjb3JlLyAgICBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgTW9iWCBhbGdvcml0aG07IGF0b21zLCBkZXJpdmF0aW9ucywgcmVhY3Rpb25zLCBkZXBlbmRlbmN5IHRyZWVzLCBvcHRpbWl6YXRpb25zLiBDb29sIHN0dWZmIGNhbiBiZSBmb3VuZCBoZXJlLlxuICogLSB0eXBlcy8gICBBbGwgdGhlIG1hZ2ljIHRoYXQgaXMgbmVlZCB0byBoYXZlIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCB2YWx1ZXMgaXMgaW4gdGhpcyBmb2xkZXIuIEluY2x1ZGluZyB0aGUgbW9kaWZpZXJzIGxpa2UgYGFzRmxhdGAuXG4gKiAtIHV0aWxzLyAgIFV0aWxpdHkgc3R1ZmYuXG4gKlxuICovXG5pZiAodHlwZW9mIFByb3h5ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gTW9iWCA1KyByZXF1aXJlcyBQcm94eSBhbmQgU3ltYm9sIG9iamVjdHMuIElmIHlvdXIgZW52aXJvbm1lbnQgZG9lc24ndCBzdXBwb3J0IFN5bWJvbCBvciBQcm94eSBvYmplY3RzLCBwbGVhc2UgZG93bmdyYWRlIHRvIE1vYlggNC4gRm9yIFJlYWN0IE5hdGl2ZSBBbmRyb2lkLCBjb25zaWRlciB1cGdyYWRpbmcgSlNDb3JlLlwiKTtcbn1cbnRyeSB7XG4gICAgLy8gZGVmaW5lIHByb2Nlc3MuZW52IGlmIG5lZWRlZFxuICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgcHJvZHVjdGlvbiBidWlsZCBpbiB0aGUgZmlyc3QgcGxhY2VcbiAgICAvLyAoaW4gd2hpY2ggY2FzZSB0aGUgZXhwcmVzc2lvbiBiZWxvdyB3b3VsZCBiZSBzdWJzdGl0dXRlZCB3aXRoICdwcm9kdWN0aW9uJylcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOVjtcbn1cbmNhdGNoIChlKSB7XG4gICAgdmFyIGcgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogZ2xvYmFsO1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgZy5wcm9jZXNzID0ge307XG4gICAgZy5wcm9jZXNzLmVudiA9IHt9O1xufVxuXG4oZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHRlc3RDb2RlTWluaWZpY2F0aW9uKCkgeyB9XG4gICAgaWYgKHRlc3RDb2RlTWluaWZpY2F0aW9uLm5hbWUgIT09IFwidGVzdENvZGVNaW5pZmljYXRpb25cIiAmJlxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYuSUdOT1JFX01PQlhfTUlOSUZZX1dBUk5JTkcgIT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgLy8gVGVtcGxhdGUgbGl0ZXJhbChiYWNrdGljaykgaXMgdXNlZCBmb3IgZml4IGlzc3VlIHdpdGggcm9sbHVwLXBsdWdpbi1jb21tb25qcyBodHRwczovL2dpdGh1Yi5jb20vcm9sbHVwL3JvbGx1cC1wbHVnaW4tY29tbW9uanMvaXNzdWVzLzM0NFxuICAgICAgICBcIlttb2J4XSB5b3UgYXJlIHJ1bm5pbmcgYSBtaW5pZmllZCBidWlsZCwgYnV0ICdwcm9jZXNzLmVudi5OT0RFX0VOVicgd2FzIG5vdCBzZXQgdG8gJ3Byb2R1Y3Rpb24nIGluIHlvdXIgYnVuZGxlci4gVGhpcyByZXN1bHRzIGluIGFuIHVubmVjZXNzYXJpbHkgbGFyZ2UgYW5kIHNsb3cgYnVuZGxlXCIpO1xuICAgIH1cbn0pKCk7XG4vLyBEZXZ0b29scyBzdXBwb3J0XG5pZiAodHlwZW9mIF9fTU9CWF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSBcIm9iamVjdFwiKSB7XG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5keWtvZy9tb2J4LWRldnRvb2xzL1xuICAgIF9fTU9CWF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdE1vYngoe1xuICAgICAgICBzcHk6IHNweSQkMSxcbiAgICAgICAgZXh0cmFzOiB7XG4gICAgICAgICAgICBnZXREZWJ1Z05hbWU6IGdldERlYnVnTmFtZSQkMVxuICAgICAgICB9LFxuICAgICAgICAkbW9ieDogJG1vYngkJDFcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgUmVhY3Rpb24kJDEgYXMgUmVhY3Rpb24sIHVudHJhY2tlZCQkMSBhcyB1bnRyYWNrZWQsIElEZXJpdmF0aW9uU3RhdGUsIGNyZWF0ZUF0b20kJDEgYXMgY3JlYXRlQXRvbSwgc3B5JCQxIGFzIHNweSwgY29tcGFyZXIkJDEgYXMgY29tcGFyZXIsIGlzT2JzZXJ2YWJsZU9iamVjdCQkMSBhcyBpc09ic2VydmFibGVPYmplY3QsIGlzT2JzZXJ2YWJsZVZhbHVlJCQxIGFzIGlzQm94ZWRPYnNlcnZhYmxlLCBpc09ic2VydmFibGVBcnJheSQkMSBhcyBpc09ic2VydmFibGVBcnJheSwgT2JzZXJ2YWJsZU1hcCQkMSBhcyBPYnNlcnZhYmxlTWFwLCBpc09ic2VydmFibGVNYXAkJDEgYXMgaXNPYnNlcnZhYmxlTWFwLCBPYnNlcnZhYmxlU2V0JCQxIGFzIE9ic2VydmFibGVTZXQsIGlzT2JzZXJ2YWJsZVNldCQkMSBhcyBpc09ic2VydmFibGVTZXQsIHRyYW5zYWN0aW9uJCQxIGFzIHRyYW5zYWN0aW9uLCBvYnNlcnZhYmxlJCQxIGFzIG9ic2VydmFibGUsIGNvbXB1dGVkJCQxIGFzIGNvbXB1dGVkLCBpc09ic2VydmFibGUkJDEgYXMgaXNPYnNlcnZhYmxlLCBpc09ic2VydmFibGVQcm9wJCQxIGFzIGlzT2JzZXJ2YWJsZVByb3AsIGlzQ29tcHV0ZWQkJDEgYXMgaXNDb21wdXRlZCwgaXNDb21wdXRlZFByb3AkJDEgYXMgaXNDb21wdXRlZFByb3AsIGV4dGVuZE9ic2VydmFibGUkJDEgYXMgZXh0ZW5kT2JzZXJ2YWJsZSwgb2JzZXJ2ZSQkMSBhcyBvYnNlcnZlLCBpbnRlcmNlcHQkJDEgYXMgaW50ZXJjZXB0LCBhdXRvcnVuJCQxIGFzIGF1dG9ydW4sIHJlYWN0aW9uJCQxIGFzIHJlYWN0aW9uLCB3aGVuJCQxIGFzIHdoZW4sIGFjdGlvbiQkMSBhcyBhY3Rpb24sIGlzQWN0aW9uJCQxIGFzIGlzQWN0aW9uLCBydW5JbkFjdGlvbiQkMSBhcyBydW5JbkFjdGlvbiwga2V5cyQkMSBhcyBrZXlzLCB2YWx1ZXMkJDEgYXMgdmFsdWVzLCBlbnRyaWVzJCQxIGFzIGVudHJpZXMsIHNldCQkMSBhcyBzZXQsIHJlbW92ZSQkMSBhcyByZW1vdmUsIGhhcyQkMSBhcyBoYXMsIGdldCQkMSBhcyBnZXQsIGRlY29yYXRlJCQxIGFzIGRlY29yYXRlLCBjb25maWd1cmUkJDEgYXMgY29uZmlndXJlLCBvbkJlY29tZU9ic2VydmVkJCQxIGFzIG9uQmVjb21lT2JzZXJ2ZWQsIG9uQmVjb21lVW5vYnNlcnZlZCQkMSBhcyBvbkJlY29tZVVub2JzZXJ2ZWQsIGZsb3ckJDEgYXMgZmxvdywgdG9KUyQkMSBhcyB0b0pTLCB0cmFjZSQkMSBhcyB0cmFjZSwgZ2V0RGVwZW5kZW5jeVRyZWUkJDEgYXMgZ2V0RGVwZW5kZW5jeVRyZWUsIGdldE9ic2VydmVyVHJlZSQkMSBhcyBnZXRPYnNlcnZlclRyZWUsIHJlc2V0R2xvYmFsU3RhdGUkJDEgYXMgX3Jlc2V0R2xvYmFsU3RhdGUsIGdldEdsb2JhbFN0YXRlJCQxIGFzIF9nZXRHbG9iYWxTdGF0ZSwgZ2V0RGVidWdOYW1lJCQxIGFzIGdldERlYnVnTmFtZSwgZ2V0QXRvbSQkMSBhcyBnZXRBdG9tLCBnZXRBZG1pbmlzdHJhdGlvbiQkMSBhcyBfZ2V0QWRtaW5pc3RyYXRpb24sIGFsbG93U3RhdGVDaGFuZ2VzJCQxIGFzIF9hbGxvd1N0YXRlQ2hhbmdlcywgYWxsb3dTdGF0ZUNoYW5nZXNJbnNpZGVDb21wdXRlZCQkMSBhcyBfYWxsb3dTdGF0ZUNoYW5nZXNJbnNpZGVDb21wdXRlZCwgaXNBcnJheUxpa2UkJDEgYXMgaXNBcnJheUxpa2UsICRtb2J4JCQxIGFzICRtb2J4LCBpc0NvbXB1dGluZ0Rlcml2YXRpb24kJDEgYXMgX2lzQ29tcHV0aW5nRGVyaXZhdGlvbiwgb25SZWFjdGlvbkVycm9yJCQxIGFzIG9uUmVhY3Rpb25FcnJvciwgaW50ZXJjZXB0UmVhZHMkJDEgYXMgX2ludGVyY2VwdFJlYWRzIH07XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQXRvbSwgUmVhY3Rpb24sIF9nZXRHbG9iYWxTdGF0ZSB9IGZyb20gJ21vYngnO1xuXG5mdW5jdGlvbiBpc1N0YXRlbGVzcyhjb21wb25lbnQpIHtcbiAgICAvLyBgZnVuY3Rpb24oKSB7fWAgaGFzIHByb3RvdHlwZSwgYnV0IGAoKSA9PiB7fWAgZG9lc24ndFxuICAgIC8vIGAoKSA9PiB7fWAgdmlhIEJhYmVsIGhhcyBwcm90b3R5cGUgdG9vLlxuICAgIHJldHVybiAhKGNvbXBvbmVudC5wcm90b3R5cGUgJiYgY29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIpICYmICFDb21wb25lbnQuaXNQcm90b3R5cGVPZihjb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiBtYWtlRGlzcGxheU5hbWUoY29tcG9uZW50KSB7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgICBfcmVmJHByZWZpeCA9IF9yZWYucHJlZml4LFxuICAgICAgICBwcmVmaXggPSBfcmVmJHByZWZpeCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHByZWZpeCxcbiAgICAgICAgX3JlZiRzdWZmaXggPSBfcmVmLnN1ZmZpeCxcbiAgICAgICAgc3VmZml4ID0gX3JlZiRzdWZmaXggPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiRzdWZmaXg7XG5cbiAgICB2YXIgZGlzcGxheU5hbWUgPSBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Lm5hbWUgfHwgY29tcG9uZW50LmNvbnN0cnVjdG9yICYmIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lIHx8ICc8Y29tcG9uZW50Pic7XG4gICAgcmV0dXJuIHByZWZpeCArIGRpc3BsYXlOYW1lICsgc3VmZml4O1xufVxuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxudmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxudmFyIGluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxudmFyIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cbnZhciBpc1VzaW5nU3RhdGljUmVuZGVyaW5nID0gZmFsc2U7XG5cbnZhciBsb2dnZXIgPSBjb25zb2xlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblxuZnVuY3Rpb24gdXNlU3RhdGljUmVuZGVyaW5nKHVzZVN0YXRpY1JlbmRlcmluZykge1xuICAgIGlzVXNpbmdTdGF0aWNSZW5kZXJpbmcgPSB1c2VTdGF0aWNSZW5kZXJpbmc7XG59XG5cbi8qKlxuIFdvcmthcm91bmRcblxuIGFsbG93U3RhdGVDaGFuZ2VzIGZyb20gbW9iWCBtdXN0IGJlIHBhdGNoZWQgc28gdGhhdCBwcm9wcywgc3RhdGUgYW5kIGFyZ3MgYXJlIHBhc3NlZCB0byB0aGUgcmVuZGVyKCkgZnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0KGFsbG93U3RhdGVDaGFuZ2VzKSB7XG4gICAgdmFyIHByZXYgPSBfZ2V0R2xvYmFsU3RhdGUoKS5hbGxvd1N0YXRlQ2hhbmdlcztcbiAgICBfZ2V0R2xvYmFsU3RhdGUoKS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGFsbG93U3RhdGVDaGFuZ2VzO1xuICAgIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldikge1xuICAgIF9nZXRHbG9iYWxTdGF0ZSgpLmFsbG93U3RhdGVDaGFuZ2VzID0gcHJldjtcbn1cblxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXMoYWxsb3dTdGF0ZUNoYW5nZXMsIGZ1bmMsIHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuICAgIHZhciBwcmV2ID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydChhbGxvd1N0YXRlQ2hhbmdlcyk7XG4gICAgdmFyIHJlcyA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgICByZXMgPSBmdW5jKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldik7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogVXRpbGl0aWVzXG4gKi9cblxuZnVuY3Rpb24gcGF0Y2godGFyZ2V0LCBmdW5jTmFtZSkge1xuICAgIHZhciBydW5NaXhpbkZpcnN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgIHZhciBiYXNlID0gdGFyZ2V0W2Z1bmNOYW1lXTtcbiAgICB2YXIgbWl4aW5GdW5jID0gcmVhY3RpdmVNaXhpbltmdW5jTmFtZV07XG4gICAgdmFyIGYgPSAhYmFzZSA/IG1peGluRnVuYyA6IHJ1bk1peGluRmlyc3QgPT09IHRydWUgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1peGluRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBiYXNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYmFzZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBtaXhpbkZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgLy8gTVdFOiBpZGVhbGx5IHdlIGZyZWV6ZSBoZXJlIHRvIHByb3RlY3QgYWdhaW5zdCBhY2NpZGVudGFsIG92ZXJ3cml0ZXMgaW4gY29tcG9uZW50IGluc3RhbmNlcywgc2VlICMxOTVcbiAgICAvLyAuLi5idXQgdGhhdCBicmVha3MgcmVhY3QtaG90LWxvYWRlciwgc2VlICMyMzEuLi5cbiAgICB0YXJnZXRbZnVuY05hbWVdID0gZjtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RTaGFsbG93TW9kaWZpZWQocHJldiwgbmV4dCkge1xuICAgIGlmIChudWxsID09IHByZXYgfHwgbnVsbCA9PSBuZXh0IHx8ICh0eXBlb2YgcHJldiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocHJldikpICE9PSAnb2JqZWN0JyB8fCAodHlwZW9mIG5leHQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5leHQpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHByZXYgIT09IG5leHQ7XG4gICAgfVxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJldik7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXh0KS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBrZXkgPSB2b2lkIDA7XG4gICAgZm9yICh2YXIgaSA9IGtleXMubGVuZ3RoIC0gMTsga2V5ID0ga2V5c1tpXTsgaS0tKSB7XG4gICAgICAgIGlmIChuZXh0W2tleV0gIT09IHByZXZba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJlYWN0aXZlTWl4aW5cbiAqL1xudmFyIHJlYWN0aXZlTWl4aW4gPSB7XG4gICAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzVXNpbmdTdGF0aWNSZW5kZXJpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZW5lcmF0ZSBmcmllbmRseSBuYW1lIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgdmFyIGluaXRpYWxOYW1lID0gbWFrZURpc3BsYXlOYW1lKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcm9wcyBhcmUgc2hhbGxvd2x5IG1vZGlmaWVkLCByZWFjdCB3aWxsIHJlbmRlciBhbnl3YXksXG4gICAgICAgICAqIHNvIGF0b20ucmVwb3J0Q2hhbmdlZCgpIHNob3VsZCBub3QgcmVzdWx0IGluIHlldCBhbm90aGVyIHJlLXJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNraXBSZW5kZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvcmNlVXBkYXRlIHdpbGwgcmUtYXNzaWduIHRoaXMucHJvcHMuIFdlIGRvbid0IHdhbnQgdGhhdCB0byBjYXVzZSBhIGxvb3AsXG4gICAgICAgICAqIHNvIGRldGVjdCB0aGVzZSBjaGFuZ2VzXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaXNGb3JjaW5nVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgZnVuY3Rpb24gbWFrZVByb3BlcnR5T2JzZXJ2YWJsZVJlZmVyZW5jZShwcm9wTmFtZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlSG9sZGVyID0gdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICB2YXIgYXRvbSA9IGNyZWF0ZUF0b20oJ3JlYWN0aXZlICcgKyBwcm9wTmFtZSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcE5hbWUsIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVIb2xkZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNGb3JjaW5nVXBkYXRlICYmIGlzT2JqZWN0U2hhbGxvd01vZGlmaWVkKHZhbHVlSG9sZGVyLCB2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVIb2xkZXIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFJlbmRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBSZW5kZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlSG9sZGVyID0gdjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSB0aGlzLnByb3BzIGFuIG9ic2VydmFibGUgcmVmZXJlbmNlLCBzZWUgIzEyNFxuICAgICAgICBtYWtlUHJvcGVydHlPYnNlcnZhYmxlUmVmZXJlbmNlLmNhbGwodGhpcywgJ3Byb3BzJyk7XG4gICAgICAgIC8vIG1ha2Ugc3RhdGUgYW4gb2JzZXJ2YWJsZSByZWZlcmVuY2VcbiAgICAgICAgbWFrZVByb3BlcnR5T2JzZXJ2YWJsZVJlZmVyZW5jZS5jYWxsKHRoaXMsICdzdGF0ZScpO1xuXG4gICAgICAgIC8vIHdpcmUgdXAgcmVhY3RpdmUgcmVuZGVyXG4gICAgICAgIHZhciBiYXNlUmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdmFyIHJlYWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIGlzUmVuZGVyaW5nUGVuZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBpbml0aWFsUmVuZGVyID0gZnVuY3Rpb24gaW5pdGlhbFJlbmRlcigpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKGluaXRpYWxOYW1lICsgJy5yZW5kZXIoKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUmVuZGVyaW5nUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBOLkIuIEdldHRpbmcgaGVyZSAqYmVmb3JlIG1vdW50aW5nKiBtZWFucyB0aGF0IGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIGhhcyBzaWRlIGVmZmVjdHMgKHNlZSB0aGUgcmVsZXZhbnQgdGVzdCBpbiBtaXNjLmpzKVxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHVuaWRpb21hdGljIFJlYWN0IHVzYWdlIGJ1dCBSZWFjdCB3aWxsIGNvcnJlY3RseSB3YXJuIGFib3V0IHRoaXMgc28gd2UgY29udGludWUgYXMgdXN1YWxcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlICM4NSAvIFB1bGwgIzQ0XG4gICAgICAgICAgICAgICAgICAgIGlzUmVuZGVyaW5nUGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuY29tcG9uZW50V2lsbFJlYWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnRXaWxsUmVhY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBUT0RPOiB3cmFwIGluIGFjdGlvbj9cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9fJG1vYnhJc1VubW91bnRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHVubW91bnRlZCBhdCB0aGlzIHBvaW50LCBjb21wb25lbnRXaWxsUmVhY3QoKSBoYWQgYSBzaWRlIGVmZmVjdCBjYXVzaW5nIHRoZSBjb21wb25lbnQgdG8gdW5tb3VudGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBjaGVjaz8gVGhlbiByZWFjdCB3aWxsIHByb3Blcmx5IHdhcm4gYWJvdXQgdGhlIGZhY3QgdGhhdCB0aGlzIHNob3VsZCBub3QgaGFwcGVuPyBTZWUgIzczXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBwZW9wbGUgYWxzbyBjbGFpbSB0aGlzIG1pZ3RoIGhhcHBlbiBkdXJpbmcgdW5pdCB0ZXN0cy4uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZvcmNpbmdVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2tpcFJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlLmNhbGwoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZvcmNpbmdVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhY3Rpb24ucmVhY3RDb21wb25lbnQgPSBfdGhpcztcbiAgICAgICAgICAgIHJlYWN0aXZlUmVuZGVyLiRtb2J4ID0gcmVhY3Rpb247XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIgPSByZWFjdGl2ZVJlbmRlcjtcbiAgICAgICAgICAgIHJldHVybiByZWFjdGl2ZVJlbmRlcihfdGhpcy5wcm9wcywgX3RoaXMuc3RhdGUsIF90aGlzLmNvbnRleHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZWFjdGl2ZVJlbmRlciA9IGZ1bmN0aW9uIHJlYWN0aXZlUmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuICAgICAgICAgICAgaXNSZW5kZXJpbmdQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZXhjZXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJlYWN0aW9uLnRyYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSBhbGxvd1N0YXRlQ2hhbmdlcyhmYWxzZSwgYmFzZVJlbmRlciwgcHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbiA9IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmluZztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlbmRlciA9IGluaXRpYWxSZW5kZXI7XG4gICAgfSxcblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzVXNpbmdTdGF0aWNSZW5kZXJpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlci4kbW9ieCAmJiB0aGlzLnJlbmRlci4kbW9ieC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX18kbW9ieElzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge30sXG5cbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHt9LFxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgaWYgKGlzVXNpbmdTdGF0aWNSZW5kZXJpbmcpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdbbW9ieC1wcmVhY3RdIEl0IHNlZW1zIHRoYXQgYSByZS1yZW5kZXJpbmcgb2YgYSBSZWFjdCBjb21wb25lbnQgaXMgdHJpZ2dlcmVkIHdoaWxlIGluIHN0YXRpYyAoc2VydmVyLXNpZGUpIG1vZGUuIFBsZWFzZSBtYWtlIHN1cmUgY29tcG9uZW50cyBhcmUgcmVuZGVyZWQgb25seSBvbmNlIHNlcnZlci1zaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBvbiBhbnkgc3RhdGUgY2hhbmdlcyAoYXMgaXMgdGhlIGRlZmF1bHQpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBpZiBwcm9wcyBhcmUgc2hhbGxvd2x5IG5vdCBlcXVhbCwgaW5zcGlyZWQgYnkgUHVyZVJlbmRlck1peGluXG4gICAgICAgIC8vIHdlIGNvdWxkIHJldHVybiBqdXN0ICdmYWxzZScgaGVyZSwgYW5kIGF2b2lkIHRoZSBgc2tpcFJlbmRlcmAgY2hlY2tzIGV0Y1xuICAgICAgICAvLyBob3dldmVyLCBpdCBpcyBuaWNlciBpZiBsaWZlY3ljbGUgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgbGlrZSB1c3VhbGx5LFxuICAgICAgICAvLyBzbyB3ZSByZXR1cm4gdHJ1ZSBoZXJlIGlmIHByb3BzIGFyZSBzaGFsbG93bHkgbW9kaWZpZWQuXG4gICAgICAgIHJldHVybiBpc09iamVjdFNoYWxsb3dNb2RpZmllZCh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogT2JzZXJ2ZXIgZnVuY3Rpb24gLyBkZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gb2JzZXJ2ZXIoY29tcG9uZW50Q2xhc3MpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ01vYnggb2JzZXJ2ZXI6IFVzaW5nIG9ic2VydmVyIHRvIGluamVjdCBzdG9yZXMgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGBAY29ubmVjdChbXCJzdG9yZTFcIiwgXCJzdG9yZTJcIl0pIENvbXBvbmVudENsYXNzIGluc3RlYWQgb3IgcHJlZmVyYWJseSwgdXNlIGBAaW5qZWN0KFwic3RvcmUxXCIsIFwic3RvcmUyXCIpIEBvYnNlcnZlciBDb21wb25lbnRDbGFzc2Agb3IgYGluamVjdChcInN0b3JlMVwiLCBcInN0b3JlMlwiKShvYnNlcnZlcihjb21wb25lbnRDbGFzcykpYGAnKTtcbiAgICB9XG5cbiAgICBpZiAoY29tcG9uZW50Q2xhc3MuaXNNb2J4SW5qZWN0b3IgPT09IHRydWUpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ01vYnggb2JzZXJ2ZXI6IFlvdSBhcmUgdHJ5aW5nIHRvIHVzZSBcXCdvYnNlcnZlclxcJyBvbiBhIGNvbXBvbmVudCB0aGF0IGFscmVhZHkgaGFzIFxcJ2luamVjdFxcJy4gUGxlYXNlIGFwcGx5IFxcJ29ic2VydmVyXFwnIGJlZm9yZSBhcHBseWluZyBcXCdpbmplY3RcXCcnKTtcbiAgICB9XG5cbiAgICAvLyBTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50OlxuICAgIGlmIChpc1N0YXRlbGVzcyhjb21wb25lbnRDbGFzcykpIHtcbiAgICAgICAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgICAgICAgcmV0dXJuIG9ic2VydmVyKChfdGVtcCA9IF9jbGFzcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBpbmhlcml0cyhfY2xhc3MsIF9Db21wb25lbnQpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBfY2xhc3MoKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2NsYXNzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoX2NsYXNzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNyZWF0ZUNsYXNzKF9jbGFzcywgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRDbGFzcy5jYWxsKHRoaXMsIHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jbGFzcztcbiAgICAgICAgfShDb21wb25lbnQpLCBfY2xhc3MuZGlzcGxheU5hbWUgPSBtYWtlRGlzcGxheU5hbWUoY29tcG9uZW50Q2xhc3MpLCBfdGVtcCkpO1xuICAgIH1cblxuICAgIGlmICghY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcGFzcyBhIHZhbGlkIGNvbXBvbmVudCB0byBcXCdvYnNlcnZlclxcJycpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBjb21wb25lbnRDbGFzcy5wcm90b3R5cGUgfHwgY29tcG9uZW50Q2xhc3M7XG4gICAgbWl4aW5MaWZlY3ljbGVFdmVudHModGFyZ2V0KTtcbiAgICBjb21wb25lbnRDbGFzcy5pc01vYlhSZWFjdE9ic2VydmVyID0gdHJ1ZTtcbiAgICByZXR1cm4gY29tcG9uZW50Q2xhc3M7XG59XG5cbmZ1bmN0aW9uIG1peGluTGlmZWN5Y2xlRXZlbnRzKHRhcmdldCkge1xuICAgIHBhdGNoKHRhcmdldCwgJ2NvbXBvbmVudFdpbGxNb3VudCcsIHRydWUpO1xuICAgIHBhdGNoKHRhcmdldCwgJ2NvbXBvbmVudERpZE1vdW50Jyk7XG5cbiAgICBpZiAoIXRhcmdldC5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgdGFyZ2V0LnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHJlYWN0aXZlTWl4aW4uc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgIH1cbn1cblxudmFyIE9ic2VydmVyID0gb2JzZXJ2ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICAgIHJldHVybiBjaGlsZHJlblswXSgpO1xufSk7XG5cbk9ic2VydmVyLmRpc3BsYXlOYW1lID0gJ09ic2VydmVyJztcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBob2lzdE5vblJlYWN0U3RhdGljcyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG59KGNvbW1vbmpzR2xvYmFsLCAoZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIHZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgICAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgICAgICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgICAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgICAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgICAgICAgbWl4aW5zOiB0cnVlLFxuICAgICAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgICAgIHR5cGU6IHRydWVcbiAgICB9O1xuICAgIFxuICAgIHZhciBLTk9XTl9TVEFUSUNTID0ge1xuICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICBsZW5ndGg6IHRydWUsXG4gICAgICAgIHByb3RvdHlwZTogdHJ1ZSxcbiAgICAgICAgY2FsbGVyOiB0cnVlLFxuICAgICAgICBjYWxsZWU6IHRydWUsXG4gICAgICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICAgICAgYXJpdHk6IHRydWVcbiAgICB9O1xuICAgIFxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgICB2YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIHZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICB2YXIgb2JqZWN0UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YgJiYgZ2V0UHJvdG90eXBlT2YoT2JqZWN0KTtcbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHsgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXldICYmICFLTk9XTl9TVEFUSUNTW2tleV0gJiYgKCFibGFja2xpc3QgfHwgIWJsYWNrbGlzdFtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7IC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG4gICAgfTtcbn0pKSk7XG59KTtcblxudmFyIHByb3hpZWRJbmplY3RvclByb3BzID0ge1xuICAgIGlzTW9ieEluamVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfVxufTtcblxuLyoqXG4gKiBTdG9yZSBJbmplY3Rpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmVJbmplY3RvcihncmFiU3RvcmVzRm4sIGNvbXBvbmVudCwgaW5qZWN0TmFtZXMpIHtcbiAgICB2YXIgX2NsYXNzLCBfdGVtcDtcblxuICAgIHZhciBwcmVmaXggPSAnaW5qZWN0LSc7XG4gICAgdmFyIHN1ZmZpeCA9IGluamVjdE5hbWVzID8gJy13aXRoLScgKyBpbmplY3ROYW1lcyA6ICcnO1xuICAgIHZhciBkaXNwbGF5TmFtZSA9IG1ha2VEaXNwbGF5TmFtZShjb21wb25lbnQsIHsgcHJlZml4OiBwcmVmaXgsIHN1ZmZpeDogc3VmZml4IH0pO1xuXG4gICAgdmFyIEluamVjdG9yID0gKF90ZW1wID0gX2NsYXNzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICAgaW5oZXJpdHMoSW5qZWN0b3IsIF9Db21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEluamVjdG9yKCkge1xuICAgICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5qZWN0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEluamVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5qZWN0b3IpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNyZWF0ZUNsYXNzKEluamVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBpdCBtaWdodCBiZSBtb3JlIGVmZmljaWVudCB0byBhcHBseSB0aGUgbWFwcGVyIGZ1bmN0aW9uICpvdXRzaWRlKiB0aGUgcmVuZGVyIG1ldGhvZFxuICAgICAgICAgICAgICAgIC8vIChpZiB0aGUgbWFwcGVyIGlzIGEgZnVuY3Rpb24pLCB0aGF0IGNvdWxkIGF2b2lkIGV4cGVuc2l2ZSg/KSByZS1yZW5kZXJpbmcgb2YgdGhlIGluamVjdG9yIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC8vIFNlZSB0aGlzIHRlc3Q6ICd1c2luZyBhIGN1c3RvbSBpbmplY3RvciBpcyBub3QgdG9vIHJlYWN0aXZlJyBpbiBpbmplY3QuanNcbiAgICAgICAgICAgICAgICB2YXIgbmV3UHJvcHMgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1trZXldID0gdGhpcy5wcm9wc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsUHJvcHMgPSBncmFiU3RvcmVzRm4odGhpcy5jb250ZXh0Lm1vYnhTdG9yZXMgfHwge30sIG5ld1Byb3BzLCB0aGlzLmNvbnRleHQpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9rZXkgaW4gYWRkaXRpb25hbFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW19rZXldID0gYWRkaXRpb25hbFByb3BzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBoKGNvbXBvbmVudCwgbmV3UHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG4gICAgICAgIHJldHVybiBJbmplY3RvcjtcbiAgICB9KENvbXBvbmVudCksIF9jbGFzcy5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lLCBfdGVtcCk7XG5cbiAgICAvLyBTdGF0aWMgZmllbGRzIGZyb20gY29tcG9uZW50IHNob3VsZCBiZSB2aXNpYmxlIG9uIHRoZSBnZW5lcmF0ZWQgSW5qZWN0b3JcblxuICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKEluamVjdG9yLCBjb21wb25lbnQpO1xuXG4gICAgSW5qZWN0b3Iud3JhcHBlZENvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbmplY3RvciwgcHJveGllZEluamVjdG9yUHJvcHMpO1xuXG4gICAgcmV0dXJuIEluamVjdG9yO1xufVxuXG5mdW5jdGlvbiBncmFiU3RvcmVzQnlOYW1lKHN0b3JlTmFtZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGJhc2VTdG9yZXMsIG5leHRQcm9wcykge1xuICAgICAgICBzdG9yZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgLy8gcHJlZmVyIHByb3BzIG92ZXIgc3RvcmVzXG4gICAgICAgICAgICBpZiAoc3RvcmVOYW1lIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKHN0b3JlTmFtZSBpbiBiYXNlU3RvcmVzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW9iWCBpbmplY3RvcjogU3RvcmUgXFwnJyArIHN0b3JlTmFtZSArICdcXCcgaXMgbm90IGF2YWlsYWJsZSEgTWFrZSBzdXJlIGl0IGlzIHByb3ZpZGVkIGJ5IHNvbWUgUHJvdmlkZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRQcm9wc1tzdG9yZU5hbWVdID0gYmFzZVN0b3Jlc1tzdG9yZU5hbWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5leHRQcm9wcztcbiAgICB9O1xufVxuXG4vKipcbiAqIGhpZ2hlciBvcmRlciBjb21wb25lbnQgdGhhdCBpbmplY3RzIHN0b3JlcyB0byBhIGNoaWxkLlxuICogdGFrZXMgZWl0aGVyIGEgdmFyYXJncyBsaXN0IG9mIHN0cmluZ3MsIHdoaWNoIGFyZSBzdG9yZXMgcmVhZCBmcm9tIHRoZSBjb250ZXh0LFxuICogb3IgYSBmdW5jdGlvbiB0aGF0IG1hbnVhbGx5IG1hcHMgdGhlIGF2YWlsYWJsZSBzdG9yZXMgZnJvbSB0aGUgY29udGV4dCB0byBwcm9wczpcbiAqIHN0b3Jlc1RvUHJvcHMobW9ieFN0b3JlcywgcHJvcHMsIGNvbnRleHQpID0+IG5ld1Byb3BzXG4gKi9cbmZ1bmN0aW9uIGluamVjdCgpIC8qIGZuKHN0b3JlcywgbmV4dFByb3BzKSBvciAuLi5zdG9yZU5hbWVzICove1xuICAgIHZhciBncmFiU3RvcmVzRm4gPSB2b2lkIDA7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZ3JhYlN0b3Jlc0ZuID0gYXJndW1lbnRzWzBdO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzKSB7XG4gICAgICAgICAgICB2YXIgaW5qZWN0ZWQgPSBjcmVhdGVTdG9yZUluamVjdG9yKGdyYWJTdG9yZXNGbiwgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICAgICAgaW5qZWN0ZWQuaXNNb2J4SW5qZWN0b3IgPSBmYWxzZTsgLy8gc3VwcHJlc3Mgd2FybmluZ1xuICAgICAgICAgICAgLy8gbWFyayB0aGUgSW5qZWN0b3IgYXMgb2JzZXJ2ZXIsIHRvIG1ha2UgaXQgcmVhY3QgdG8gZXhwcmVzc2lvbnMgaW4gYGdyYWJTdG9yZXNGbmAsXG4gICAgICAgICAgICAvLyBzZWUgIzExMVxuICAgICAgICAgICAgaW5qZWN0ZWQgPSBvYnNlcnZlcihpbmplY3RlZCk7XG4gICAgICAgICAgICBpbmplY3RlZC5pc01vYnhJbmplY3RvciA9IHRydWU7IC8vIHJlc3RvcmUgd2FybmluZ1xuICAgICAgICAgICAgcmV0dXJuIGluamVjdGVkO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdG9yZU5hbWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdG9yZU5hbWVzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGdyYWJTdG9yZXNGbiA9IGdyYWJTdG9yZXNCeU5hbWUoc3RvcmVOYW1lcyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTdG9yZUluamVjdG9yKGdyYWJTdG9yZXNGbiwgY29tcG9uZW50Q2xhc3MsIHN0b3JlTmFtZXMuam9pbignLScpKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbm5lY3QoYXJnMSwgYXJnMikge1xuICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdG9yZSBuYW1lcyBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYXJyYXknKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnMSkpIHtcbiAgICAgICAgaWYgKCFhcmcyKSB7XG4gICAgICAgICAgICAvLyBpbnZva2VkIGFzIGRlY29yYXRvclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb21wb25lbnRDbGFzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25uZWN0KGFyZzEsIGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0LmFwcGx5KG51bGwsIGFyZzEpKGNvbm5lY3QoYXJnMikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYnNlcnZlcihhcmcxKTtcbn1cblxudmFyIHNwZWNpYWxSZWFjdEtleXMgPSB7IGNoaWxkcmVuOiB0cnVlLCBrZXk6IHRydWUsIHJlZjogdHJ1ZSB9O1xuXG52YXIgbG9nZ2VyJDEgPSBjb25zb2xlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblxudmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBpbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQcm92aWRlcigpIHtcbiAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuICAgICAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQcm92aWRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbi5sZW5ndGggPiAxID8gaChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgICAnICdcbiAgICAgICAgICAgICkgOiBjaGlsZHJlblswXTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q2hpbGRDb250ZXh0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZXMgPSB7fTtcbiAgICAgICAgICAgIC8vIGluaGVyaXQgc3RvcmVzXG4gICAgICAgICAgICB2YXIgYmFzZVN0b3JlcyA9IHRoaXMuY29udGV4dC5tb2J4U3RvcmVzO1xuICAgICAgICAgICAgaWYgKGJhc2VTdG9yZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFzZVN0b3Jlcykge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZXNba2V5XSA9IGJhc2VTdG9yZXNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgb3duIHN0b3Jlc1xuICAgICAgICAgICAgZm9yICh2YXIgX2tleSBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUmVhY3RLZXlzW19rZXldICYmIF9rZXkgIT09ICdzdXBwcmVzc0NoYW5nZWRTdG9yZVdhcm5pbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3Jlc1tfa2V5XSA9IHRoaXMucHJvcHNbX2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vYnhTdG9yZXM6IHN0b3Jlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgLy8gTWF5YmUgdGhpcyB3YXJuaW5nIGlzIHRvbyBhZ2dyZXNzaXZlP1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRQcm9wcykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIkMS53YXJuKCdNb2JYIFByb3ZpZGVyOiBUaGUgc2V0IG9mIHByb3ZpZGVkIHN0b3JlcyBoYXMgY2hhbmdlZC4gUGxlYXNlIGF2b2lkIGNoYW5naW5nIHN0b3JlcyBhcyB0aGUgY2hhbmdlIG1pZ2h0IG5vdCBwcm9wYWdhdGUgdG8gYWxsIGNoaWxkcmVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHRQcm9wcy5zdXBwcmVzc0NoYW5nZWRTdG9yZVdhcm5pbmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbFJlYWN0S2V5c1trZXldICYmIHRoaXMucHJvcHNba2V5XSAhPT0gbmV4dFByb3BzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlciQxLndhcm4oJ01vYlggUHJvdmlkZXI6IFByb3ZpZGVkIHN0b3JlIFxcJycgKyBrZXkgKyAnXFwnIGhhcyBjaGFuZ2VkLiBQbGVhc2UgYXZvaWQgcmVwbGFjaW5nIHN0b3JlcyBhcyB0aGUgY2hhbmdlIG1pZ2h0IG5vdCBwcm9wYWdhdGUgdG8gYWxsIGNoaWxkcmVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIFByb3ZpZGVyO1xufShDb21wb25lbnQpO1xuXG5pZiAoIUNvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbW9ieC1wcmVhY3QgcmVxdWlyZXMgUHJlYWN0IHRvIGJlIGF2YWlsYWJsZScpO1xufVxuXG5leHBvcnQgeyBvYnNlcnZlciwgT2JzZXJ2ZXIsIHVzZVN0YXRpY1JlbmRlcmluZywgY29ubmVjdCwgaW5qZWN0LCBQcm92aWRlciB9O1xuIiwiaW1wb3J0IHsgQ2hhcmFjdGVyTW9kZWwgfSBmcm9tICdAYXNzZXRzL21vZGVscydcblxuZGVjbGFyZSB2YXIgQVBJX0hPU1Q6IHN0cmluZ1xuXG5pbnRlcmZhY2UgQWNjZXB0ZWRNZXNzYWdlIHtcbiAgbWVzc2FnZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBUeXBlZFJlc3BvbnNlPFQ+IGV4dGVuZHMgUmVzcG9uc2Uge1xuICBqc29uOiAoKSA9PiBQcm9taXNlPFQ+XG59XG5cbmNsYXNzIEN1c3RvbUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBjb25zdHJ1Y3RvciAobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1pc3NpbmdUb2tlbkVycm9yIGV4dGVuZHMgQ3VzdG9tRXJyb3Ige31cbmV4cG9ydCBjbGFzcyBVbmF1dGhvcml6ZWRFcnJvciBleHRlbmRzIEN1c3RvbUVycm9yIHt9XG5cbmZ1bmN0aW9uIGdldEFuZFZhbGlkYXRlVG9rZW4gKCkge1xuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKEFwaVNlcnZpY2UuVE9LRU5fTE9DQUxfU1RPUkFHRV9LRVkpXG4gIGlmICghdG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgTWlzc2luZ1Rva2VuRXJyb3IoJ0FQSSBhY2Nlc3MgdG9rZW4gaXMgbWlzc2luZycpXG4gIH1cbiAgcmV0dXJuIHRva2VuXG59XG5cbmZ1bmN0aW9uIGdldEF1dGhIZWFkZXIgKCkge1xuICBjb25zdCB0b2tlbiA9IGdldEFuZFZhbGlkYXRlVG9rZW4oKVxuICByZXR1cm4gbmV3IEhlYWRlcnMoeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVSZXNwb25zZTxUPiAocmVzcG9uc2U6IFR5cGVkUmVzcG9uc2U8VD4pIHtcbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKClcbiAgfVxuICBpZiAocmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuICB9XG4gIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSlcbn1cblxuY29uc3QgVE9LRU5fTE9DQUxfU1RPUkFHRV9LRVkgPSAnbWlnaHR5X3J1bm5lcl9hcGlfYWNjZXNzX3Rva2VuJ1xuY29uc3QgVVJMID0gYCR7QVBJX0hPU1R9L2NoYXJhY3RlcmBcblxuY29uc3QgZ2V0Q2hhcmFjdGVyTGlzdCA9IGFzeW5jICgpOiBQcm9taXNlPENoYXJhY3Rlck1vZGVsW10+ID0+IHtcbiAgY29uc3QgaGVhZGVycyA9IGdldEF1dGhIZWFkZXIoKVxuICByZXR1cm4gZmV0Y2goQXBpU2VydmljZS5VUkwsIHsgaGVhZGVycyB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IGhhbmRsZVJlc3BvbnNlPENoYXJhY3Rlck1vZGVsW10+KHJlc3BvbnNlKSlcbn1cblxuY29uc3QgZ2V0Q2hhcmFjdGVyID0gYXN5bmMgKGNoYXJhY3RlcklkOiBzdHJpbmcpOiBQcm9taXNlPENoYXJhY3Rlck1vZGVsPiA9PiB7XG4gIGNvbnN0IGhlYWRlcnMgPSBnZXRBdXRoSGVhZGVyKClcbiAgcmV0dXJuIGZldGNoKGAke0FwaVNlcnZpY2UuVVJMfS8ke2NoYXJhY3RlcklkfWAsIHsgaGVhZGVycyB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IGhhbmRsZVJlc3BvbnNlPENoYXJhY3Rlck1vZGVsPihyZXNwb25zZSkpXG59XG5cbmNvbnN0IHB1dENoYXJhY3RlciA9IGFzeW5jIChjaGFyYWN0ZXJJZDogc3RyaW5nLCBjaGFyYWN0ZXI6IENoYXJhY3Rlck1vZGVsKTogUHJvbWlzZTxBY2NlcHRlZE1lc3NhZ2U+ID0+IHtcbiAgY29uc3QgaGVhZGVycyA9IGdldEF1dGhIZWFkZXIoKVxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2hhcmFjdGVyKSxcbiAgICBtZXRob2Q6ICdQVVQnXG4gIH1cbiAgcmV0dXJuIGZldGNoKGAke0FwaVNlcnZpY2UuVVJMfS8ke2NoYXJhY3RlcklkfWAsIG9wdGlvbnMpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gaGFuZGxlUmVzcG9uc2U8QWNjZXB0ZWRNZXNzYWdlPihyZXNwb25zZSkpXG59XG5cbmNvbnN0IEFwaVNlcnZpY2UgPSB7XG4gIFRPS0VOX0xPQ0FMX1NUT1JBR0VfS0VZLFxuICBVUkwsXG4gIGdldENoYXJhY3Rlckxpc3QsXG4gIGdldENoYXJhY3RlcixcbiAgcHV0Q2hhcmFjdGVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaVNlcnZpY2VcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBjbG9uZUVsZW1lbnQsIGggfSBmcm9tICdwcmVhY3QnO1xuXG52YXIgRU1QVFkkMSA9IHt9O1xuXG5mdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG5cdGZvciAodmFyIGkgaW4gcHJvcHMpIHtcblx0XHRvYmpbaV0gPSBwcm9wc1tpXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBleGVjKHVybCwgcm91dGUsIG9wdHMpIHtcblx0dmFyIHJlZyA9IC8oPzpcXD8oW14jXSopKT8oIy4qKT8kLyxcblx0XHRjID0gdXJsLm1hdGNoKHJlZyksXG5cdFx0bWF0Y2hlcyA9IHt9LFxuXHRcdHJldDtcblx0aWYgKGMgJiYgY1sxXSkge1xuXHRcdHZhciBwID0gY1sxXS5zcGxpdCgnJicpO1xuXHRcdGZvciAodmFyIGk9MDsgaTxwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgciA9IHBbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG1hdGNoZXNbZGVjb2RlVVJJQ29tcG9uZW50KHJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChyLnNsaWNlKDEpLmpvaW4oJz0nKSk7XG5cdFx0fVxuXHR9XG5cdHVybCA9IHNlZ21lbnRpemUodXJsLnJlcGxhY2UocmVnLCAnJykpO1xuXHRyb3V0ZSA9IHNlZ21lbnRpemUocm91dGUgfHwgJycpO1xuXHR2YXIgbWF4ID0gTWF0aC5tYXgodXJsLmxlbmd0aCwgcm91dGUubGVuZ3RoKTtcblx0Zm9yICh2YXIgaSQxPTA7IGkkMTxtYXg7IGkkMSsrKSB7XG5cdFx0aWYgKHJvdXRlW2kkMV0gJiYgcm91dGVbaSQxXS5jaGFyQXQoMCk9PT0nOicpIHtcblx0XHRcdHZhciBwYXJhbSA9IHJvdXRlW2kkMV0ucmVwbGFjZSgvKF5cXDp8WysqP10rJCkvZywgJycpLFxuXHRcdFx0XHRmbGFncyA9IChyb3V0ZVtpJDFdLm1hdGNoKC9bKyo/XSskLykgfHwgRU1QVFkkMSlbMF0gfHwgJycsXG5cdFx0XHRcdHBsdXMgPSB+ZmxhZ3MuaW5kZXhPZignKycpLFxuXHRcdFx0XHRzdGFyID0gfmZsYWdzLmluZGV4T2YoJyonKSxcblx0XHRcdFx0dmFsID0gdXJsW2kkMV0gfHwgJyc7XG5cdFx0XHRpZiAoIXZhbCAmJiAhc3RhciAmJiAoZmxhZ3MuaW5kZXhPZignPycpPDAgfHwgcGx1cykpIHtcblx0XHRcdFx0cmV0ID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlc1twYXJhbV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcblx0XHRcdGlmIChwbHVzIHx8IHN0YXIpIHtcblx0XHRcdFx0bWF0Y2hlc1twYXJhbV0gPSB1cmwuc2xpY2UoaSQxKS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KS5qb2luKCcvJyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIGlmIChyb3V0ZVtpJDFdIT09dXJsW2kkMV0pIHtcblx0XHRcdHJldCA9IGZhbHNlO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdGlmIChvcHRzLmRlZmF1bHQhPT10cnVlICYmIHJldD09PWZhbHNlKSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gbWF0Y2hlcztcbn1cblxuZnVuY3Rpb24gcGF0aFJhbmtTb3J0KGEsIGIpIHtcblx0cmV0dXJuIChcblx0XHQoYS5yYW5rIDwgYi5yYW5rKSA/IDEgOlxuXHRcdChhLnJhbmsgPiBiLnJhbmspID8gLTEgOlxuXHRcdChhLmluZGV4IC0gYi5pbmRleClcblx0KTtcbn1cblxuLy8gZmlsdGVyIG91dCBWTm9kZXMgd2l0aG91dCBhdHRyaWJ1dGVzICh3aGljaCBhcmUgdW5yYW5rZWFibGUpLCBhbmQgYWRkIGBpbmRleGAvYHJhbmtgIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBpbiBzb3J0aW5nLlxuZnVuY3Rpb24gcHJlcGFyZVZOb2RlRm9yUmFua2luZyh2bm9kZSwgaW5kZXgpIHtcblx0dm5vZGUuaW5kZXggPSBpbmRleDtcblx0dm5vZGUucmFuayA9IHJhbmtDaGlsZCh2bm9kZSk7XG5cdHJldHVybiB2bm9kZS5hdHRyaWJ1dGVzO1xufVxuXG5mdW5jdGlvbiBzZWdtZW50aXplKHVybCkge1xuXHRyZXR1cm4gdXJsLnJlcGxhY2UoLyheXFwvK3xcXC8rJCkvZywgJycpLnNwbGl0KCcvJyk7XG59XG5cbmZ1bmN0aW9uIHJhbmtTZWdtZW50KHNlZ21lbnQpIHtcblx0cmV0dXJuIHNlZ21lbnQuY2hhckF0KDApPT0nOicgPyAoMSArICcqKz8nLmluZGV4T2Yoc2VnbWVudC5jaGFyQXQoc2VnbWVudC5sZW5ndGgtMSkpKSB8fCA0IDogNTtcbn1cblxuZnVuY3Rpb24gcmFuayhwYXRoKSB7XG5cdHJldHVybiBzZWdtZW50aXplKHBhdGgpLm1hcChyYW5rU2VnbWVudCkuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHJhbmtDaGlsZCh2bm9kZSkge1xuXHRyZXR1cm4gdm5vZGUuYXR0cmlidXRlcy5kZWZhdWx0ID8gMCA6IHJhbmsodm5vZGUuYXR0cmlidXRlcy5wYXRoKTtcbn1cblxudmFyIGN1c3RvbUhpc3RvcnkgPSBudWxsO1xuXG52YXIgUk9VVEVSUyA9IFtdO1xuXG52YXIgc3Vic2NyaWJlcnMgPSBbXTtcblxudmFyIEVNUFRZID0ge307XG5cbmZ1bmN0aW9uIGlzUHJlYWN0RWxlbWVudChub2RlKSB7XG5cdHJldHVybiBub2RlLl9fcHJlYWN0YXR0cl8hPW51bGwgfHwgdHlwZW9mIFN5bWJvbCE9PSd1bmRlZmluZWQnICYmIG5vZGVbU3ltYm9sLmZvcigncHJlYWN0YXR0cicpXSE9bnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0VXJsKHVybCwgdHlwZSkge1xuXHRpZiAoIHR5cGUgPT09IHZvaWQgMCApIHR5cGU9J3B1c2gnO1xuXG5cdGlmIChjdXN0b21IaXN0b3J5ICYmIGN1c3RvbUhpc3RvcnlbdHlwZV0pIHtcblx0XHRjdXN0b21IaXN0b3J5W3R5cGVdKHVybCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGhpc3RvcnkhPT0ndW5kZWZpbmVkJyAmJiBoaXN0b3J5W3R5cGUrJ1N0YXRlJ10pIHtcblx0XHRoaXN0b3J5W3R5cGUrJ1N0YXRlJ10obnVsbCwgbnVsbCwgdXJsKTtcblx0fVxufVxuXG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRVcmwoKSB7XG5cdHZhciB1cmw7XG5cdGlmIChjdXN0b21IaXN0b3J5ICYmIGN1c3RvbUhpc3RvcnkubG9jYXRpb24pIHtcblx0XHR1cmwgPSBjdXN0b21IaXN0b3J5LmxvY2F0aW9uO1xuXHR9XG5cdGVsc2UgaWYgKGN1c3RvbUhpc3RvcnkgJiYgY3VzdG9tSGlzdG9yeS5nZXRDdXJyZW50TG9jYXRpb24pIHtcblx0XHR1cmwgPSBjdXN0b21IaXN0b3J5LmdldEN1cnJlbnRMb2NhdGlvbigpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHVybCA9IHR5cGVvZiBsb2NhdGlvbiE9PSd1bmRlZmluZWQnID8gbG9jYXRpb24gOiBFTVBUWTtcblx0fVxuXHRyZXR1cm4gKFwiXCIgKyAodXJsLnBhdGhuYW1lIHx8ICcnKSArICh1cmwuc2VhcmNoIHx8ICcnKSk7XG59XG5cblxuXG5mdW5jdGlvbiByb3V0ZSh1cmwsIHJlcGxhY2UpIHtcblx0aWYgKCByZXBsYWNlID09PSB2b2lkIDAgKSByZXBsYWNlPWZhbHNlO1xuXG5cdGlmICh0eXBlb2YgdXJsIT09J3N0cmluZycgJiYgdXJsLnVybCkge1xuXHRcdHJlcGxhY2UgPSB1cmwucmVwbGFjZTtcblx0XHR1cmwgPSB1cmwudXJsO1xuXHR9XG5cblx0Ly8gb25seSBwdXNoIFVSTCBpbnRvIGhpc3RvcnkgaWYgd2UgY2FuIGhhbmRsZSBpdFxuXHRpZiAoY2FuUm91dGUodXJsKSkge1xuXHRcdHNldFVybCh1cmwsIHJlcGxhY2UgPyAncmVwbGFjZScgOiAncHVzaCcpO1xuXHR9XG5cblx0cmV0dXJuIHJvdXRlVG8odXJsKTtcbn1cblxuXG4vKiogQ2hlY2sgaWYgdGhlIGdpdmVuIFVSTCBjYW4gYmUgaGFuZGxlZCBieSBhbnkgcm91dGVyIGluc3RhbmNlcy4gKi9cbmZ1bmN0aW9uIGNhblJvdXRlKHVybCkge1xuXHRmb3IgKHZhciBpPVJPVVRFUlMubGVuZ3RoOyBpLS07ICkge1xuXHRcdGlmIChST1VURVJTW2ldLmNhblJvdXRlKHVybCkpIHsgcmV0dXJuIHRydWU7IH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqIFRlbGwgYWxsIHJvdXRlciBpbnN0YW5jZXMgdG8gaGFuZGxlIHRoZSBnaXZlbiBVUkwuICAqL1xuZnVuY3Rpb24gcm91dGVUbyh1cmwpIHtcblx0dmFyIGRpZFJvdXRlID0gZmFsc2U7XG5cdGZvciAodmFyIGk9MDsgaTxST1VURVJTLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKFJPVVRFUlNbaV0ucm91dGVUbyh1cmwpPT09dHJ1ZSkge1xuXHRcdFx0ZGlkUm91dGUgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRmb3IgKHZhciBpJDE9c3Vic2NyaWJlcnMubGVuZ3RoOyBpJDEtLTsgKSB7XG5cdFx0c3Vic2NyaWJlcnNbaSQxXSh1cmwpO1xuXHR9XG5cdHJldHVybiBkaWRSb3V0ZTtcbn1cblxuXG5mdW5jdGlvbiByb3V0ZUZyb21MaW5rKG5vZGUpIHtcblx0Ly8gb25seSB2YWxpZCBlbGVtZW50c1xuXHRpZiAoIW5vZGUgfHwgIW5vZGUuZ2V0QXR0cmlidXRlKSB7IHJldHVybjsgfVxuXG5cdHZhciBocmVmID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSxcblx0XHR0YXJnZXQgPSBub2RlLmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XG5cblx0Ly8gaWdub3JlIGxpbmtzIHdpdGggdGFyZ2V0cyBhbmQgbm9uLXBhdGggVVJMc1xuXHRpZiAoIWhyZWYgfHwgIWhyZWYubWF0Y2goL15cXC8vZykgfHwgKHRhcmdldCAmJiAhdGFyZ2V0Lm1hdGNoKC9eXz9zZWxmJC9pKSkpIHsgcmV0dXJuOyB9XG5cblx0Ly8gYXR0ZW1wdCB0byByb3V0ZSwgaWYgbm8gbWF0Y2ggc2ltcGx5IGNlZGUgY29udHJvbCB0byBicm93c2VyXG5cdHJldHVybiByb3V0ZShocmVmKTtcbn1cblxuXG5mdW5jdGlvbiBoYW5kbGVMaW5rQ2xpY2soZSkge1xuXHRpZiAoZS5idXR0b249PTApIHtcblx0XHRyb3V0ZUZyb21MaW5rKGUuY3VycmVudFRhcmdldCB8fCBlLnRhcmdldCB8fCB0aGlzKTtcblx0XHRyZXR1cm4gcHJldmVudChlKTtcblx0fVxufVxuXG5cbmZ1bmN0aW9uIHByZXZlbnQoZSkge1xuXHRpZiAoZSkge1xuXHRcdGlmIChlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikgeyBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyB9XG5cdFx0aWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5cbmZ1bmN0aW9uIGRlbGVnYXRlTGlua0hhbmRsZXIoZSkge1xuXHQvLyBpZ25vcmUgZXZlbnRzIHRoZSBicm93c2VyIHRha2VzIGNhcmUgb2YgYWxyZWFkeTpcblx0aWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5zaGlmdEtleSB8fCBlLmJ1dHRvbiE9PTApIHsgcmV0dXJuOyB9XG5cblx0dmFyIHQgPSBlLnRhcmdldDtcblx0ZG8ge1xuXHRcdGlmIChTdHJpbmcodC5ub2RlTmFtZSkudG9VcHBlckNhc2UoKT09PSdBJyAmJiB0LmdldEF0dHJpYnV0ZSgnaHJlZicpICYmIGlzUHJlYWN0RWxlbWVudCh0KSkge1xuXHRcdFx0aWYgKHQuaGFzQXR0cmlidXRlKCduYXRpdmUnKSkgeyByZXR1cm47IH1cblx0XHRcdC8vIGlmIGxpbmsgaXMgaGFuZGxlZCBieSB0aGUgcm91dGVyLCBwcmV2ZW50IGJyb3dzZXIgZGVmYXVsdHNcblx0XHRcdGlmIChyb3V0ZUZyb21MaW5rKHQpKSB7XG5cdFx0XHRcdHJldHVybiBwcmV2ZW50KGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSB3aGlsZSAoKHQ9dC5wYXJlbnROb2RlKSk7XG59XG5cblxudmFyIGV2ZW50TGlzdGVuZXJzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gaW5pdEV2ZW50TGlzdGVuZXJzKCkge1xuXHRpZiAoZXZlbnRMaXN0ZW5lcnNJbml0aWFsaXplZCkgeyByZXR1cm47IH1cblxuXHRpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXI9PT0nZnVuY3Rpb24nKSB7XG5cdFx0aWYgKCFjdXN0b21IaXN0b3J5KSB7XG5cdFx0XHRhZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cm91dGVUbyhnZXRDdXJyZW50VXJsKCkpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZWdhdGVMaW5rSGFuZGxlcik7XG5cdH1cblx0ZXZlbnRMaXN0ZW5lcnNJbml0aWFsaXplZCA9IHRydWU7XG59XG5cblxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoQ29tcG9uZW50JCQxKSB7XG5cdGZ1bmN0aW9uIFJvdXRlcihwcm9wcykge1xuXHRcdENvbXBvbmVudCQkMS5jYWxsKHRoaXMsIHByb3BzKTtcblx0XHRpZiAocHJvcHMuaGlzdG9yeSkge1xuXHRcdFx0Y3VzdG9tSGlzdG9yeSA9IHByb3BzLmhpc3Rvcnk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdHVybDogcHJvcHMudXJsIHx8IGdldEN1cnJlbnRVcmwoKVxuXHRcdH07XG5cblx0XHRpbml0RXZlbnRMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdGlmICggQ29tcG9uZW50JCQxICkgUm91dGVyLl9fcHJvdG9fXyA9IENvbXBvbmVudCQkMTtcblx0Um91dGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbXBvbmVudCQkMSAmJiBDb21wb25lbnQkJDEucHJvdG90eXBlICk7XG5cdFJvdXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3V0ZXI7XG5cblx0Um91dGVyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUgKHByb3BzKSB7XG5cdFx0aWYgKHByb3BzLnN0YXRpYyE9PXRydWUpIHsgcmV0dXJuIHRydWU7IH1cblx0XHRyZXR1cm4gcHJvcHMudXJsIT09dGhpcy5wcm9wcy51cmwgfHwgcHJvcHMub25DaGFuZ2UhPT10aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHR9O1xuXG5cdC8qKiBDaGVjayBpZiB0aGUgZ2l2ZW4gVVJMIGNhbiBiZSBtYXRjaGVkIGFnYWluc3QgYW55IGNoaWxkcmVuICovXG5cdFJvdXRlci5wcm90b3R5cGUuY2FuUm91dGUgPSBmdW5jdGlvbiBjYW5Sb3V0ZSAodXJsKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0TWF0Y2hpbmdDaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCB1cmwsIGZhbHNlKS5sZW5ndGggPiAwO1xuXHR9O1xuXG5cdC8qKiBSZS1yZW5kZXIgY2hpbGRyZW4gd2l0aCBhIG5ldyBVUkwgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cblx0Um91dGVyLnByb3RvdHlwZS5yb3V0ZVRvID0gZnVuY3Rpb24gcm91dGVUbyAodXJsKSB7XG5cdFx0dGhpcy5fZGlkUm91dGUgPSBmYWxzZTtcblx0XHR0aGlzLnNldFN0YXRlKHsgdXJsOiB1cmwgfSk7XG5cblx0XHQvLyBpZiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIGFuIHVwZGF0ZSwgZG9uJ3Qgc3luY2hyb25vdXNseSByZS1yb3V0ZS5cblx0XHRpZiAodGhpcy51cGRhdGluZykgeyByZXR1cm4gdGhpcy5jYW5Sb3V0ZSh1cmwpOyB9XG5cblx0XHR0aGlzLmZvcmNlVXBkYXRlKCk7XG5cdFx0cmV0dXJuIHRoaXMuX2RpZFJvdXRlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50ICgpIHtcblx0XHRST1VURVJTLnB1c2godGhpcyk7XG5cdFx0dGhpcy51cGRhdGluZyA9IHRydWU7XG5cdH07XG5cblx0Um91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50ICgpIHtcblx0XHR2YXIgdGhpcyQxID0gdGhpcztcblxuXHRcdGlmIChjdXN0b21IaXN0b3J5KSB7XG5cdFx0XHR0aGlzLnVubGlzdGVuID0gY3VzdG9tSGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdFx0XHRcdHRoaXMkMS5yb3V0ZVRvKChcIlwiICsgKGxvY2F0aW9uLnBhdGhuYW1lIHx8ICcnKSArIChsb2NhdGlvbi5zZWFyY2ggfHwgJycpKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0dGhpcy51cGRhdGluZyA9IGZhbHNlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLnVubGlzdGVuPT09J2Z1bmN0aW9uJykgeyB0aGlzLnVubGlzdGVuKCk7IH1cblx0XHRST1VURVJTLnNwbGljZShST1VURVJTLmluZGV4T2YodGhpcyksIDEpO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUgKCkge1xuXHRcdHRoaXMudXBkYXRpbmcgPSB0cnVlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlICgpIHtcblx0XHR0aGlzLnVwZGF0aW5nID0gZmFsc2U7XG5cdH07XG5cblx0Um91dGVyLnByb3RvdHlwZS5nZXRNYXRjaGluZ0NoaWxkcmVuID0gZnVuY3Rpb24gZ2V0TWF0Y2hpbmdDaGlsZHJlbiAoY2hpbGRyZW4sIHVybCwgaW52b2tlKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuXG5cdFx0XHQuZmlsdGVyKHByZXBhcmVWTm9kZUZvclJhbmtpbmcpXG5cdFx0XHQuc29ydChwYXRoUmFua1NvcnQpXG5cdFx0XHQubWFwKCBmdW5jdGlvbiAodm5vZGUpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSBleGVjKHVybCwgdm5vZGUuYXR0cmlidXRlcy5wYXRoLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0XHRcdFx0aWYgKG1hdGNoZXMpIHtcblx0XHRcdFx0XHRpZiAoaW52b2tlICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0dmFyIG5ld1Byb3BzID0geyB1cmw6IHVybCwgbWF0Y2hlczogbWF0Y2hlcyB9O1xuXHRcdFx0XHRcdFx0YXNzaWduKG5ld1Byb3BzLCBtYXRjaGVzKTtcblx0XHRcdFx0XHRcdGRlbGV0ZSBuZXdQcm9wcy5yZWY7XG5cdFx0XHRcdFx0XHRkZWxldGUgbmV3UHJvcHMua2V5O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNsb25lRWxlbWVudCh2bm9kZSwgbmV3UHJvcHMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdm5vZGU7XG5cdFx0XHRcdH1cblx0XHRcdH0pLmZpbHRlcihCb29sZWFuKTtcblx0fTtcblxuXHRSb3V0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVmLCByZWYkMSkge1xuXHRcdHZhciBjaGlsZHJlbiA9IHJlZi5jaGlsZHJlbjtcblx0XHR2YXIgb25DaGFuZ2UgPSByZWYub25DaGFuZ2U7XG5cdFx0dmFyIHVybCA9IHJlZiQxLnVybDtcblxuXHRcdHZhciBhY3RpdmUgPSB0aGlzLmdldE1hdGNoaW5nQ2hpbGRyZW4oY2hpbGRyZW4sIHVybCwgdHJ1ZSk7XG5cblx0XHR2YXIgY3VycmVudCA9IGFjdGl2ZVswXSB8fCBudWxsO1xuXHRcdHRoaXMuX2RpZFJvdXRlID0gISFjdXJyZW50O1xuXG5cdFx0dmFyIHByZXZpb3VzID0gdGhpcy5wcmV2aW91c1VybDtcblx0XHRpZiAodXJsIT09cHJldmlvdXMpIHtcblx0XHRcdHRoaXMucHJldmlvdXNVcmwgPSB1cmw7XG5cdFx0XHRpZiAodHlwZW9mIG9uQ2hhbmdlPT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRvbkNoYW5nZSh7XG5cdFx0XHRcdFx0cm91dGVyOiB0aGlzLFxuXHRcdFx0XHRcdHVybDogdXJsLFxuXHRcdFx0XHRcdHByZXZpb3VzOiBwcmV2aW91cyxcblx0XHRcdFx0XHRhY3RpdmU6IGFjdGl2ZSxcblx0XHRcdFx0XHRjdXJyZW50OiBjdXJyZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjdXJyZW50O1xuXHR9O1xuXG5cdHJldHVybiBSb3V0ZXI7XG59KENvbXBvbmVudCkpO1xuXG52YXIgTGluayA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFxuXHRoKCdhJywgYXNzaWduKHsgb25DbGljazogaGFuZGxlTGlua0NsaWNrIH0sIHByb3BzKSlcbik7IH07XG5cbnZhciBSb3V0ZSA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gaChwcm9wcy5jb21wb25lbnQsIHByb3BzKTsgfTtcblxuUm91dGVyLnN1YnNjcmliZXJzID0gc3Vic2NyaWJlcnM7XG5Sb3V0ZXIuZ2V0Q3VycmVudFVybCA9IGdldEN1cnJlbnRVcmw7XG5Sb3V0ZXIucm91dGUgPSByb3V0ZTtcblJvdXRlci5Sb3V0ZXIgPSBSb3V0ZXI7XG5Sb3V0ZXIuUm91dGUgPSBSb3V0ZTtcblJvdXRlci5MaW5rID0gTGluaztcblxuZXhwb3J0IHsgc3Vic2NyaWJlcnMsIGdldEN1cnJlbnRVcmwsIHJvdXRlLCBSb3V0ZXIsIFJvdXRlLCBMaW5rIH07ZXhwb3J0IGRlZmF1bHQgUm91dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlYWN0LXJvdXRlci5lcy5qcy5tYXBcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgeyBvYnNlcnZhYmxlLCByZWFjdGlvbiB9IGZyb20gJ21vYngnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwU3RhdGVQcm9wcyB7XG4gIGFwcFN0YXRlPzogQXBwU3RhdGVTdG9yZVxufVxuXG5leHBvcnQgZW51bSBBcHBTdGF0ZSB7XG4gIExPQURJTkcsXG4gIExPQURJTkdfQ09NUExFVEUsXG4gIExPQURJTkdfQU5JTUFUSU9OX0NPTVBMRVRFXG59XG5cbmNsYXNzIEFwcFN0YXRlU3RvcmUge1xuICBAb2JzZXJ2YWJsZSBjdXJyZW50U3RhdGU6IEFwcFN0YXRlID0gQXBwU3RhdGUuTE9BRElOR1xufVxuXG5leHBvcnQgY29uc3QgYXBwU3RhdGUgPSBuZXcgQXBwU3RhdGVTdG9yZSgpXG4iLCJpbXBvcnQgeyBoLCByZW5kZXIgfSBmcm9tICdwcmVhY3QnXG5cbi8qKiBHbG9iYWwgJiBwcmUtbG9hZGVyIHN0eWxlc2hlZXRzICovXG5pbXBvcnQgJ0Bhc3NldHMvZ2xvYmFsLnNjc3MnXG5pbXBvcnQgQXBwIGZyb20gJ0Bjb250YWluZXJzL2FwcCdcblxucmVuZGVyKChcbiAgPEFwcCAvPlxuKSwgZG9jdW1lbnQuYm9keSlcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2dsb2JhbC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2dsb2JhbC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9nbG9iYWwuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90byk7XCIsIFwiXCJdKTtcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1NYXZlbitQcm8pO1wiLCBcIlwiXSk7XG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9VWJ1bnR1K01vbm8pO1wiLCBcIlwiXSk7XG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3R7LS1sYXJnZS1sb2dvLXRvcC1zcGFjZTogNDB2aH1AbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkgYW5kIChtYXgtaGVpZ2h0OiA2NDFweCl7OnJvb3R7LS1sYXJnZS1sb2dvLXRvcC1zcGFjZTogMjV2aH19Ym9keXttYXJnaW46MDtmb250LWZhbWlseTonUm9ib3RvJywgc2Fucy1zZXJpZjtiYWNrZ3JvdW5kLWNvbG9yOiMxMDIwMzA7aGVpZ2h0OjEwMHZoO3dpZHRoOjEwMHZ3fVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vYXBwJ1xuIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgUm91dGVyLCByb3V0ZSB9IGZyb20gJ3ByZWFjdC1yb3V0ZXInXG5cbmltcG9ydCBCb290c3RyYXAgZnJvbSAnQGNvbnRhaW5lcnMvYm9vdHN0cmFwL2Jvb3RzdHJhcCdcbmltcG9ydCBNb2J4UHJvdmlkZXIgZnJvbSAnQHN0YXRlL21vYngtcHJvdmlkZXInXG5pbXBvcnQgQmFzZVJvdXRlIGZyb20gJ0Byb3V0ZXMvYmFzZS1yb3V0ZSdcbmltcG9ydCBEaWdpR3JpZEJhY2tncm91bmQgZnJvbSAnQGNvbnRhaW5lcnMvZGlnaS1ncmlkLWJhY2tncm91bmQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudDx7fSwge30+IHtcbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vYnhQcm92aWRlcj5cbiAgICAgICAgPERpZ2lHcmlkQmFja2dyb3VuZCAvPlxuICAgICAgICA8Qm9vdHN0cmFwIC8+XG4gICAgICAgIDxSb3V0ZXI+XG4gICAgICAgICAgPEJhc2VSb3V0ZSBwYXRoPScvJyAvPlxuICAgICAgICAgIDxkaXYgcGF0aD0nL2hvbWUnPkhvbWU8L2Rpdj5cbiAgICAgICAgPC9Sb3V0ZXI+XG4gICAgICA8L01vYnhQcm92aWRlcj5cbiAgICApXG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgcm91dGUgfSBmcm9tICdwcmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnbW9ieC1wcmVhY3QnXG5cbmltcG9ydCB7IENoYXJhY3Rlck1vZGVsIH0gZnJvbSAnQGFzc2V0cy9tb2RlbHMnXG5pbXBvcnQgQXBpU2VydmljZSwgeyBNaXNzaW5nVG9rZW5FcnJvciwgVW5hdXRob3JpemVkRXJyb3IgfSBmcm9tICdAc2VydmljZXMvYXBpLXNlcnZpY2UnXG5pbXBvcnQgeyBUb2tlblByb3BzIH0gZnJvbSAnQHN0YXRlL3Rva2VuLXN0b3JlJ1xuaW1wb3J0IHsgQ2hhcmFjdGVyUHJvcHMgfSBmcm9tICdAc3RhdGUvY2hhcmFjdGVyLXN0b3JlJ1xuXG50eXBlIFByb3BzID0gVG9rZW5Qcm9wcyAmIENoYXJhY3RlclByb3BzXG5cbkBpbmplY3QoJ3Rva2VuJywgJ2NoYXJhY3RlcicpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb290c3RyYXAgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHM+IHtcbiAgcmVuZGVyICgpIHsgcmV0dXJuIDxzcGFuIC8+IH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgLy8gY29uc3QgdmFsaWQgPSB0aGlzLmNoZWNrVG9rZW4oKVxuICAgIC8vIGlmICh2YWxpZCkgeyB0aGlzLmxvYWRDaGFyYWN0ZXJzKCkgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1Rva2VuICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudG9rZW4hLnRva2VuKSB7XG4gICAgICByb3V0ZSgnL3NldC10b2tlbicpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHByaXZhdGUgbG9hZENoYXJhY3RlcnMgKCkge1xuICAgIEFwaVNlcnZpY2UuZ2V0Q2hhcmFjdGVyTGlzdCgpLnRoZW4oXG4gICAgICB0aGlzLnN0b3JlQ2hhcmFjdGVycyxcbiAgICAgIHRoaXMuaGFuZGxlRGF0YUxvYWRFcnJvcilcbiAgfVxuXG4gIHByaXZhdGUgc3RvcmVDaGFyYWN0ZXJzID0gKGRhdGE6IENoYXJhY3Rlck1vZGVsW10pID0+IHtcbiAgICB0aGlzLnByb3BzLmNoYXJhY3RlciEubGlzdCA9IGRhdGFcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnLycpIHsgcm91dGUoJy9jaGFyYWN0ZXJzJykgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEYXRhTG9hZEVycm9yIChlcnI6IEVycm9yKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIE1pc3NpbmdUb2tlbkVycm9yKSB7XG4gICAgICByb3V0ZSgnL3NldC10b2tlbicpXG4gICAgfSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBVbmF1dGhvcml6ZWRFcnJvcikge1xuICAgICAgcm91dGUoJy9iYWQtdG9rZW4nKVxuICAgIH1cbiAgfVxufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIlxuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnbW9ieC1wcmVhY3QnXG5cbmltcG9ydCB7IFRva2VuUHJvcHMsIHRva2VuIH0gZnJvbSAnQHN0YXRlL3Rva2VuLXN0b3JlJ1xuaW1wb3J0IHsgQ2hhcmFjdGVyUHJvcHMsIGNoYXJhY3RlciB9IGZyb20gJ0BzdGF0ZS9jaGFyYWN0ZXItc3RvcmUnXG5pbXBvcnQgeyBBcHBTdGF0ZVByb3BzLCBhcHBTdGF0ZSB9IGZyb20gJ0BzdGF0ZS9hcHAtc3RhdGUtc3RvcmUnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGNoaWxkcmVuPzogSlNYLkVsZW1lbnRbXSxcbn1cblxudHlwZSBQcm92aWRlclByb3BzID1cbiAgUmVxdWlyZWQ8VG9rZW5Qcm9wcz4gJlxuICBSZXF1aXJlZDxDaGFyYWN0ZXJQcm9wcz4gJlxuICBSZXF1aXJlZDxBcHBTdGF0ZVByb3BzPlxuXG5jb25zdCBzdG9yZXM6IFByb3ZpZGVyUHJvcHMgPSB7XG4gIHRva2VuLFxuICBjaGFyYWN0ZXIsXG4gIGFwcFN0YXRlXG59XG5cbmNvbnN0IE1vYnhQcm92aWRlciA9ICh7IGNoaWxkcmVuIH06IFByb3BzKSA9PiAoXG4gIDxQcm92aWRlciB7Li4uc3RvcmVzfT5cbiAgICB7Y2hpbGRyZW59XG4gIDwvUHJvdmlkZXI+XG4pXG5cbmV4cG9ydCBkZWZhdWx0IE1vYnhQcm92aWRlclxuIiwiaW1wb3J0IHsgb2JzZXJ2YWJsZSwgcmVhY3Rpb24gfSBmcm9tICdtb2J4J1xuaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL2FwaS1zZXJ2aWNlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuUHJvcHMge1xuICB0b2tlbj86IFRva2VuU3RvcmVcbn1cblxuY2xhc3MgVG9rZW5TdG9yZSB7XG4gIHN0YXRpYyBMT0NBTF9TVE9SQUdFX0tFWSA9IEFwaVNlcnZpY2UuVE9LRU5fTE9DQUxfU1RPUkFHRV9LRVlcblxuICBAb2JzZXJ2YWJsZSB0b2tlbjogc3RyaW5nIHwgbnVsbFxuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICByZWFjdGlvbihcbiAgICAgICgpID0+IHRoaXMudG9rZW4sXG4gICAgICB0aGlzLnNldFRva2VuXG4gICAgKVxuICAgIHRoaXMucmV0cmlldmVMb2NhbFRva2VuKClcbiAgfVxuXG4gIHByaXZhdGUgcmV0cmlldmVMb2NhbFRva2VuID0gKCkgPT4ge1xuICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUb2tlblN0b3JlLkxPQ0FMX1NUT1JBR0VfS0VZKVxuICAgIGlmICh0aGlzLnRva2VuID09PSAnbnVsbCcpIHsgdGhpcy50b2tlbiA9IG51bGwgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRUb2tlbiA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUb2tlblN0b3JlLkxPQ0FMX1NUT1JBR0VfS0VZLCB0aGlzLnRva2VuISlcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW5TdG9yZSgpXG4iLCJpbXBvcnQgeyBvYnNlcnZhYmxlLCBjb21wdXRlZCwgcmVhY3Rpb24gfSBmcm9tICdtb2J4J1xuaW1wb3J0IHsgQ2hhcmFjdGVyTW9kZWwgfSBmcm9tICdAYXNzZXRzL21vZGVscydcbmltcG9ydCBBcGlTZXJ2aWNlIGZyb20gJ0BzZXJ2aWNlcy9hcGktc2VydmljZSdcblxuZXhwb3J0IGludGVyZmFjZSBDaGFyYWN0ZXJQcm9wcyB7XG4gIGNoYXJhY3Rlcj86IENoYXJhY3RlclN0b3JlXG59XG5cbmNsYXNzIENoYXJhY3RlclN0b3JlIHtcbiAgc3RhdGljIExJU1RfTE9DQUxfU1RPUkFHRV9LRVkgPSAnbWlnaHR5X3J1bm5lcl9jaGFyYWN0ZXJfbGlzdCdcbiAgc3RhdGljIEFDVElWRV9MT0NBTF9TVE9SQUdFX0tFWSA9ICdtaWdodHlfcnVubmVyX2NoYXJhY3Rlcl9hY3RpdmUnXG4gIHN0YXRpYyBVUERBVEVfREVMQVkgPSAxMDAwXG5cbiAgQG9ic2VydmFibGUgbGlzdDogQ2hhcmFjdGVyTW9kZWxbXSB8IG51bGwgPSBbXVxuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICByZWFjdGlvbihcbiAgICAgICgpID0+IHRoaXMubGlzdCxcbiAgICAgIHRoaXMuc2V0Q2hhcmFjdGVyTGlzdFxuICAgIClcbiAgICB0aGlzLnJldHJpZXZlTG9jYWxMaXN0KClcbiAgfVxuXG4gIEBjb21wdXRlZCBnZXQgYWN0aXZlICgpOiBDaGFyYWN0ZXJNb2RlbCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubGlzdCEuZmluZChjaGFyYWN0ZXIgPT4gY2hhcmFjdGVyLmlkID09PSB0aGlzLmdldENoYXJhY3RlcklkKCkpXG4gIH1cblxuICBzZXQgYWN0aXZlICh1cGRhdGVkOiBDaGFyYWN0ZXJNb2RlbCB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0IS5maW5kSW5kZXgoY2hhcmFjdGVyID0+IGNoYXJhY3Rlci5pZCA9PT0gdGhpcy5nZXRDaGFyYWN0ZXJJZCgpKVxuICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICB0aGlzLmxpc3QhW2luZGV4XSA9IHVwZGF0ZWRcbiAgICAgIHRoaXMuc2V0Q2hhcmFjdGVyTGlzdCgpXG4gICAgfVxuICB9XG5cbiAgcGVyc2lzdEFjdGl2ZSAoKSB7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5hY3RpdmVcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICByZXR1cm4gQXBpU2VydmljZS5wdXRDaGFyYWN0ZXIoYWN0aXZlLmlkLCBhY3RpdmUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDaGFyYWN0ZXJJZCAoKSB7XG4gICAgY29uc3QgcGF0aEVsZW1lbnRzID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylcbiAgICByZXR1cm4gcGF0aEVsZW1lbnRzW3BhdGhFbGVtZW50cy5sZW5ndGggLSAxXVxuICB9XG5cbiAgcHJpdmF0ZSByZXRyaWV2ZUxvY2FsTGlzdCA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5saXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDaGFyYWN0ZXJTdG9yZS5MSVNUX0xPQ0FMX1NUT1JBR0VfS0VZKSBhcyBzdHJpbmcpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5saXN0ID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0Q2hhcmFjdGVyTGlzdCA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDaGFyYWN0ZXJTdG9yZS5MSVNUX0xPQ0FMX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxpc3QpKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyU3RvcmUoKVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcGF0aDogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhc2VSb3V0ZSAocHJvcHM6IFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiAvPlxuICApXG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi9kaWdpLWdyaWQtYmFja2dyb3VuZCdcbiIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgaW5qZWN0LCBvYnNlcnZlciB9IGZyb20gJ21vYngtcHJlYWN0J1xuXG5pbXBvcnQgeyBBcHBTdGF0ZVByb3BzLCBBcHBTdGF0ZSB9IGZyb20gJ0BzdGF0ZS9hcHAtc3RhdGUtc3RvcmUnXG5pbXBvcnQgKiBhcyBzdHlsZXMgZnJvbSAnLi9kaWdpLWdyaWQtYmFja2dyb3VuZC5zY3NzJ1xuaW1wb3J0ICogYXMgbG9nbyBmcm9tICcuLi8uLi8uLi9kZXNpZ24vbG9nby5wbmcnXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAndGhyZWUnO1xuXG5pbnRlcmZhY2UgV2ViR0xXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICBXZWJHTFJlbmRlcmluZ0NvbnRleHQ6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgQXBwU3RhdGVQcm9wcyB7fVxuXG5AaW5qZWN0KCdhcHBTdGF0ZScpXG5Ab2JzZXJ2ZXJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tncm91bmQgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIHt9PiB7XG4gIHN0YXRpYyBDQU1FUkFfUE9TSVRJT05fWCA9IDBcbiAgc3RhdGljIENBTUVSQV9QT1NJVElPTl9ZID0gMFxuICBzdGF0aWMgQ0FNRVJBX1BPU0lUSU9OX1ogPSAxMFxuICBzdGF0aWMgQU1CSUVOVF9DT0xPUiA9IDB4MTAyMDMwXG5cbiAgcHJpdmF0ZSBzY2VuZTogVEhSRUUuU2NlbmVcbiAgcHJpdmF0ZSBjYW1lcmE6IFRIUkVFLkNhbWVyYVxuICBwcml2YXRlIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyXG4gIHByaXZhdGUgZ3JvdW5kOiBUSFJFRS5NZXNoXG4gIHByaXZhdGUgbG9nb1RleHR1cmU6IFRIUkVFLlRleHR1cmVcbiAgcHJpdmF0ZSBsb2dvOiBUSFJFRS5NZXNoXG4gIHByaXZhdGUgbG9nb1BlZGVzdGFsOiBUSFJFRS5NZXNoXG4gIHByaXZhdGUgbG9nb0dyb3VwOiBUSFJFRS5Hcm91cFxuICBwcml2YXRlIHNwb3RsaWdodDogVEhSRUUuU3BvdExpZ2h0XG4gIHByaXZhdGUgZnJvbnRMaWdodDogVEhSRUUuRGlyZWN0aW9uYWxMaWdodFxuICBwcml2YXRlIGFtYmllbnRMaWdodDogVEhSRUUuQW1iaWVudExpZ2h0XG4gIHByaXZhdGUgYWNjZW50TGlnaHQ6IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHRcbiAgcHJpdmF0ZSB0aW1lOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgZHJpdmluZ0Z1bmN0aW9uOiAoKSA9PiB2b2lkXG4gIHByaXZhdGUgc3RvcEFuaW1hdG9yID0gZmFsc2VcblxuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFwcFN0YXRlIS5jdXJyZW50U3RhdGUgPT09IEFwcFN0YXRlLkxPQURJTkdfQ09NUExFVEUpIHtcbiAgICAgIHRoaXMuZHJpdmluZ0Z1bmN0aW9uID0gdGhpcy5ob21lUG9zaXRpb25cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGlnaUdyaWR9PlxuICAgICAgICA8ZGl2IGlkPSdkaWdpYmFja2dyb3VuZCcgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLnJ1bkdsKClcbiAgfVxuXG4gIHByaXZhdGUgcnVuR2wgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuY29tcGF0aWJpbGl0eUNoZWNrKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvYWREZXBlbmRlbmNpZXMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKClcbiAgICAgICAgdGhpcy5zZXRDYW1lcmEoKVxuICAgICAgICB0aGlzLm1ha2VHZW9tZXRyeSgpXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUxpZ2h0aW5nKClcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZ2liYWNrZ3JvdW5kJykhLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudClcbiAgICAgICAgdGhpcy5kcml2aW5nRnVuY3Rpb24gPSB0aGlzLmxvYWRpbmdDYW1lcmFcbiAgICAgICAgdGhpcy5hbmltYXRlKClcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnByb3BzLmFwcFN0YXRlIS5jdXJyZW50U3RhdGUgPSBBcHBTdGF0ZS5MT0FESU5HX0NPTVBMRVRFLCAxMDAwKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxvYWREZXBlbmRlbmNpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubG9nb1RleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQobG9nbywgcmVzb2x2ZSwgdW5kZWZpbmVkLCByZWplY3QpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgY29tcGF0aWJpbGl0eUNoZWNrID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgcmV0dXJuICEhICgod2luZG93IGFzIFdlYkdMV2luZG93KS5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSkpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplID0gKCkgPT4ge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKVxuICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoMHgxMDIwMzAsIC4xKVxuICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweDEwMjAzMClcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbHBoYTogdHJ1ZSB9KVxuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlXG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXBcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSlcbiAgICB0aGlzLnJlbmRlcmVyLnNvcnRPYmplY3RzID0gZmFsc2VcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q2FtZXJhID0gKCkgPT4ge1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMjAwMClcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi54ID0gQmFja2dyb3VuZC5DQU1FUkFfUE9TSVRJT05fWFxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSBCYWNrZ3JvdW5kLkNBTUVSQV9QT1NJVElPTl9ZXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IEJhY2tncm91bmQuQ0FNRVJBX1BPU0lUSU9OX1pcbiAgICB0aGlzLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpXG4gIH1cblxuICBwcml2YXRlIG1ha2VHZW9tZXRyeSAoKSB7XG4gICAgY29uc3QgbG9nb0dlbyA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDAuNzUsIDAuNzUpXG4gICAgY29uc3QgbG9nb01hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiwgbWFwOiB0aGlzLmxvZ29UZXh0dXJlLCB0cmFuc3BhcmVudDogdHJ1ZSB9KVxuICAgIHRoaXMubG9nbyA9IG5ldyBUSFJFRS5NZXNoKGxvZ29HZW8sIGxvZ29NYXQpXG4gICAgdGhpcy5sb2dvLnBvc2l0aW9uLnNldCgwLCAwLCAwLjUxKVxuXG4gICAgY29uc3QgcGVkTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4YTcyMzFhIH0pXG4gICAgY29uc3QgcGVkR2VvID0gbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoLjUsIC41LCAwLjUsIDQwLCAxKVxuICAgIHRoaXMubG9nb1BlZGVzdGFsID0gbmV3IFRIUkVFLk1lc2gocGVkR2VvLCBwZWRNYXQpXG4gICAgdGhpcy5sb2dvUGVkZXN0YWwucG9zaXRpb24uc2V0KDAsIDAsIC4yNSlcbiAgICB0aGlzLmxvZ29QZWRlc3RhbC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDJcbiAgICB0aGlzLmxvZ29QZWRlc3RhbC5jYXN0U2hhZG93ID0gdHJ1ZVxuXG4gICAgdGhpcy5sb2dvR3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKVxuICAgIHRoaXMubG9nb0dyb3VwLmFkZCh0aGlzLmxvZ28sIHRoaXMubG9nb1BlZGVzdGFsKVxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubG9nb0dyb3VwKVxuXG4gICAgY29uc3QgZ3JvdW5kR2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMzAsIDEwMClcbiAgICBjb25zdCBncm91bmRNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgxMDIwMzAgfSlcbiAgICB0aGlzLmdyb3VuZCA9IG5ldyBUSFJFRS5NZXNoKGdyb3VuZEdlbywgZ3JvdW5kTWF0KVxuICAgIHRoaXMuZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5ncm91bmQpXG4gIH1cblxuICBwcml2YXRlIG9uV2luZG93UmVzaXplID0gKCkgPT4ge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplTGlnaHRpbmcgPSAoKSA9PiB7XG4gICAgdGhpcy5zcG90bGlnaHQgPSBuZXcgVEhSRUUuU3BvdExpZ2h0KDB4ZmZmZmZmLCA1KVxuICAgIHRoaXMuc3BvdGxpZ2h0LnBvc2l0aW9uLnNldCgwLCAwLCA0KVxuICAgIHRoaXMuc3BvdGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgdGhpcy5zcG90bGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0XG4gICAgdGhpcy5zcG90bGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNFxuICAgIHRoaXMuc3BvdGxpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IDNcbiAgICB0aGlzLnNwb3RsaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IDIwMFxuICAgIHRoaXMuc3BvdGxpZ2h0Lmxvb2tBdCgwLCAwLCAwKVxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuc3BvdGxpZ2h0KVxuXG4gICAgdGhpcy5mcm9udExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEpXG4gICAgdGhpcy5mcm9udExpZ2h0LnBvc2l0aW9uLnNldCgtNC41LCAzLjUsIDEwKVxuICAgIHRoaXMuZnJvbnRMaWdodC50YXJnZXQgPSB0aGlzLmxvZ29cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmZyb250TGlnaHQpXG5cbiAgICB0aGlzLmFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuNylcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodClcblxuICAgIHRoaXMuYWNjZW50TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMSlcbiAgICB0aGlzLmFjY2VudExpZ2h0LnBvc2l0aW9uLnNldCgtNiwgNiwgMTApXG4gICAgdGhpcy5hY2NlbnRMaWdodC50YXJnZXQgPSB0aGlzLmxvZ29cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmFjY2VudExpZ2h0KVxuICB9XG5cbiAgcHJpdmF0ZSBsb2FkaW5nQ2FtZXJhID0gKCkgPT4ge1xuICAgIGNvbnN0IHggPSAxMCAqIE1hdGguc2luKHRoaXMudGltZSAqIDAuMDA1IC0gMS43KVxuICAgIGNvbnN0IHkgPSAxNSAqIE1hdGguY29zKHRoaXMudGltZSAqIDAuMDA1IC0gMS43KVxuICAgIHRoaXMuc3BvdGxpZ2h0LnBvc2l0aW9uLnNldCh4LCB5LCA0KVxuICAgIHRoaXMudGltZSsrXG4gIH1cblxuICBwcml2YXRlIGNvbmZpZ3VyZUhvbWVMaWdodGluZyA9ICgpID0+IHtcbiAgICB0aGlzLmFjY2VudExpZ2h0LmludGVuc2l0eSArPSAwLjFcbiAgICB0aGlzLmZyb250TGlnaHQuaW50ZW5zaXR5IC09IHRoaXMuZnJvbnRMaWdodC5pbnRlbnNpdHkgPD0gMCA/IDAgOiAwLjEgLyAzXG4gIH1cblxuICBwcml2YXRlIGxpZ2h0c0FyZUhvbWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuYWNjZW50TGlnaHQuaW50ZW5zaXR5ID49IDMgJiYgdGhpcy5mcm9udExpZ2h0LmludGVuc2l0eSA8PSAwXG4gIH1cblxuICBwcml2YXRlIHNwb3RsaWdodElzSG9tZSA9ICgpID0+IHtcbiAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zcG90bGlnaHQucG9zaXRpb24ueSAtIDYpIDwgMC4xICYmIE1hdGguYWJzKHRoaXMuc3BvdGxpZ2h0LnBvc2l0aW9uLnggLSA2KSA8IDAuMVxuICB9XG5cbiAgcHJpdmF0ZSBob21lUG9zaXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3BvdGxpZ2h0SXNIb21lKCkgJiYgdGhpcy5saWdodHNBcmVIb21lKCkpIHtcbiAgICAgIHRoaXMuZHJpdmluZ0Z1bmN0aW9uID0gdGhpcy5tb3ZlTG9nb1xuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIGlmICh0aGlzLnNwb3RsaWdodElzSG9tZSgpKSB7XG4gICAgICB0aGlzLnNwb3RsaWdodC5wb3NpdGlvbi5zZXQoNiwgNiwgNClcbiAgICB9XG4gICAgY29uc3QgcCA9IDAuNVxuICAgIGNvbnN0IHkgPSAoNiAtIHRoaXMuc3BvdGxpZ2h0LnBvc2l0aW9uLnkpICogcCArIHRoaXMuc3BvdGxpZ2h0LnBvc2l0aW9uLnlcbiAgICBjb25zdCB4ID0gKDYgLSB0aGlzLnNwb3RsaWdodC5wb3NpdGlvbi54KSAqIHAgKyB0aGlzLnNwb3RsaWdodC5wb3NpdGlvbi54XG4gICAgdGhpcy5zcG90bGlnaHQucG9zaXRpb24uc2V0KHgsIHksIDQpXG4gICAgdGhpcy5jb25maWd1cmVIb21lTGlnaHRpbmcoKVxuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlTG9nbyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5sb2dvR3JvdXAucG9zaXRpb24ueiA+PSAtMC42KSB7XG4gICAgICB0aGlzLmxvZ29Hcm91cC5wb3NpdGlvbi56IC09IDAuMVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0b3BBbmltYXRvciA9IHRydWVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgdGhpcy5kcml2aW5nRnVuY3Rpb24oKVxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKVxuICAgIGlmICghdGhpcy5zdG9wQW5pbWF0b3IpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUpXG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFRIUkVFOyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHlwaW5ncy1mb3ItY3NzLW1vZHVsZXMtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS03LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9kaWdpLWdyaWQtYmFja2dyb3VuZC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHlwaW5ncy1mb3ItY3NzLW1vZHVsZXMtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS03LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9kaWdpLWdyaWQtYmFja2dyb3VuZC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3R5cGluZ3MtZm9yLWNzcy1tb2R1bGVzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tNy0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vZGlnaS1ncmlkLWJhY2tncm91bmQuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpZ2ktZ3JpZC1iYWNrZ3JvdW5kX19kaWdpR3JpZC0tM1l2cUh7cG9zaXRpb246Zml4ZWQ7aGVpZ2h0OjEwMHZoO3dpZHRoOjEwMHZ3O3RvcDowO2xlZnQ6MH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJkaWdpR3JpZFwiOiBcImRpZ2ktZ3JpZC1iYWNrZ3JvdW5kX19kaWdpR3JpZC0tM1l2cUhcIlxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwMjY1ZjA2ZjRiN2I1MjljYzgzYjk4OWYxODE3MTcyYy5wbmdcIjsiXSwic291cmNlUm9vdCI6IiJ9